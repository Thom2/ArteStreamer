!function(e){"use strict";function d(e,o){var t=(65535&e)+(65535&o);return(e>>16)+(o>>16)+(t>>16)<<16|65535&t}function s(e,o,t,i,n,a){return d(function(e,o){return e<<o|e>>>32-o}(d(d(o,e),d(i,a)),n),t)}function p(e,o,t,i,n,a,r){return s(o&t|~o&i,e,o,n,a,r)}function m(e,o,t,i,n,a,r){return s(o&i|t&~i,e,o,n,a,r)}function g(e,o,t,i,n,a,r){return s(o^t^i,e,o,n,a,r)}function f(e,o,t,i,n,a,r){return s(t^(o|~i),e,o,n,a,r)}function l(e,o){var t,i,n,a,r;e[o>>5]|=128<<o%32,e[14+(o+64>>>9<<4)]=o;var s=1732584193,l=-271733879,c=-1732584194,u=271733878;for(t=0;t<e.length;t+=16)l=f(l=f(l=f(l=f(l=g(l=g(l=g(l=g(l=m(l=m(l=m(l=m(l=p(l=p(l=p(l=p(n=l,c=p(a=c,u=p(r=u,s=p(i=s,l,c,u,e[t],7,-680876936),l,c,e[t+1],12,-389564586),s,l,e[t+2],17,606105819),u,s,e[t+3],22,-1044525330),c=p(c,u=p(u,s=p(s,l,c,u,e[t+4],7,-176418897),l,c,e[t+5],12,1200080426),s,l,e[t+6],17,-1473231341),u,s,e[t+7],22,-45705983),c=p(c,u=p(u,s=p(s,l,c,u,e[t+8],7,1770035416),l,c,e[t+9],12,-1958414417),s,l,e[t+10],17,-42063),u,s,e[t+11],22,-1990404162),c=p(c,u=p(u,s=p(s,l,c,u,e[t+12],7,1804603682),l,c,e[t+13],12,-40341101),s,l,e[t+14],17,-1502002290),u,s,e[t+15],22,1236535329),c=m(c,u=m(u,s=m(s,l,c,u,e[t+1],5,-165796510),l,c,e[t+6],9,-1069501632),s,l,e[t+11],14,643717713),u,s,e[t],20,-373897302),c=m(c,u=m(u,s=m(s,l,c,u,e[t+5],5,-701558691),l,c,e[t+10],9,38016083),s,l,e[t+15],14,-660478335),u,s,e[t+4],20,-405537848),c=m(c,u=m(u,s=m(s,l,c,u,e[t+9],5,568446438),l,c,e[t+14],9,-1019803690),s,l,e[t+3],14,-187363961),u,s,e[t+8],20,1163531501),c=m(c,u=m(u,s=m(s,l,c,u,e[t+13],5,-1444681467),l,c,e[t+2],9,-51403784),s,l,e[t+7],14,1735328473),u,s,e[t+12],20,-1926607734),c=g(c,u=g(u,s=g(s,l,c,u,e[t+5],4,-378558),l,c,e[t+8],11,-2022574463),s,l,e[t+11],16,1839030562),u,s,e[t+14],23,-35309556),c=g(c,u=g(u,s=g(s,l,c,u,e[t+1],4,-1530992060),l,c,e[t+4],11,1272893353),s,l,e[t+7],16,-155497632),u,s,e[t+10],23,-1094730640),c=g(c,u=g(u,s=g(s,l,c,u,e[t+13],4,681279174),l,c,e[t],11,-358537222),s,l,e[t+3],16,-722521979),u,s,e[t+6],23,76029189),c=g(c,u=g(u,s=g(s,l,c,u,e[t+9],4,-640364487),l,c,e[t+12],11,-421815835),s,l,e[t+15],16,530742520),u,s,e[t+2],23,-995338651),c=f(c,u=f(u,s=f(s,l,c,u,e[t],6,-198630844),l,c,e[t+7],10,1126891415),s,l,e[t+14],15,-1416354905),u,s,e[t+5],21,-57434055),c=f(c,u=f(u,s=f(s,l,c,u,e[t+12],6,1700485571),l,c,e[t+3],10,-1894986606),s,l,e[t+10],15,-1051523),u,s,e[t+1],21,-2054922799),c=f(c,u=f(u,s=f(s,l,c,u,e[t+8],6,1873313359),l,c,e[t+15],10,-30611744),s,l,e[t+6],15,-1560198380),u,s,e[t+13],21,1309151649),c=f(c,u=f(u,s=f(s,l,c,u,e[t+4],6,-145523070),l,c,e[t+11],10,-1120210379),s,l,e[t+2],15,718787259),u,s,e[t+9],21,-343485551),s=d(s,i),l=d(l,n),c=d(c,a),u=d(u,r);return[s,l,c,u]}function c(e){var o,t="",i=32*e.length;for(o=0;o<i;o+=8)t+=String.fromCharCode(e[o>>5]>>>o%32&255);return t}function u(e){var o,t=[];for(t[(e.length>>2)-1]=void 0,o=0;o<t.length;o+=1)t[o]=0;var i=8*e.length;for(o=0;o<i;o+=8)t[o>>5]|=(255&e.charCodeAt(o/8))<<o%32;return t}function i(e){var o,t,i="0123456789abcdef",n="";for(t=0;t<e.length;t+=1)o=e.charCodeAt(t),n+=i.charAt(o>>>4&15)+i.charAt(15&o);return n}function t(e){return unescape(encodeURIComponent(e))}function n(e){return function(e){return c(l(u(e),8*e.length))}(t(e))}function a(e,o){return function(e,o){var t,i,n=u(e),a=[],r=[];for(a[15]=r[15]=void 0,16<n.length&&(n=l(n,8*e.length)),t=0;t<16;t+=1)a[t]=909522486^n[t],r[t]=1549556828^n[t];return i=l(a.concat(u(o)),512+8*o.length),c(l(r.concat(i),640))}(t(e),t(o))}e.md5=function(e,o,t){return o?t?a(o,e):function(e,o){return i(a(e,o))}(o,e):t?n(e):function(e){return i(n(e))}(e)}}(this),function(e,o,u){function s(e){}function t(e,o,t){for(this.callback=t||s,this.errors=[],this.fields={},this.form=this._formByNameOrNode(e)||{},this.messages={},this.handlers={},e=0,t=o.length;e<t;e++){var i=o[e];if((i.name||i.names)&&i.rules)if(i.names)for(var n=0;n<i.names.length;n++)this._addField(i,i.names[n]);else this._addField(i,i.name)}var a,r=this.form.onsubmit;this.form.onsubmit=(a=this,function(e){try{return a._validateForm(e)&&(r===u||r())}catch(e){}})}function n(e,o){var t;if(!(0<e.length)||"radio"!==e[0].type&&"checkbox"!==e[0].type)return e[o];for(t=0;t<e.length;t++)if(e[t].checked)return e[t][o]}var d={required:"The %s field is required.",valid_phoneno:"The %s field is not valid.",matches:"The %s field does not match the %s field.",default:"The %s field is still set to default, please change.",valid_email:"The %s field must contain a valid email address.",valid_emails:"The %s field must contain all valid email addresses.",min_length:"The %s field must be at least %s characters in length.",max_length:"The %s field must not exceed %s characters in length.",exact_length:"The %s field must be exactly %s characters in length.",greater_than:"The %s field must contain a number greater than %s.",less_than:"The %s field must contain a number less than %s.",alpha:"The %s field must only contain alphabetical characters.",alpha_numeric:"The %s field must only contain alpha-numeric characters.",alpha_dash:"The %s field must only contain alpha-numeric characters, underscores, and dashes.",alpha_numeric_dash_combo:"The %s field must contain only combination of alpha-numeric characters and dashes.",alphanumeric_combo:"The %s field must contain only combination of alpha-numeric characters.",numeric:"The %s field must contain only numbers.",integer:"The %s field must contain an integer.",decimal:"The %s field must contain a decimal number.",is_natural:"The %s field must contain only positive numbers.",is_natural_no_zero:"The %s field must contain a number greater than zero.",valid_ip:"The %s field must contain a valid IP.",valid_base64:"The %s field must contain a base64 string.",valid_credit_card:"The %s field must contain a valid credit card number.",is_file_type:"The %s field must contain only %s files.",valid_url:"The %s field must contain a valid URL.",valid_ca_zip:"The %s field must contain a valid Postal Code."},i=/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/,a=/^(\\+)|(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{1,14}$/,p=/^(.+?)\[(.+)\]$/,r=/^[0-9]+$/,l=/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[-])[A-Za-z\d][A-Za-z\d-]+$/i,c=/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$/,m=/^\-?[0-9]+$/,g=/^\-?[0-9]*\.?[0-9]+$/,f=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,h=/^[a-z]+$/i,v=/^[a-z0-9]+$/i,y=/^[a-z0-9_\-]+$/i,w=/^[0-9]+$/i,k=/^[1-9][0-9]*$/i,C=/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,L=/[^a-zA-Z0-9\/\+=]/i,T=/^[\d\-\s]+$/,S=/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;t.prototype.setMessage=function(e,o){return this.messages[e]=o,this},t.prototype.registerCallback=function(e,o){return e&&"string"==typeof e&&o&&"function"==typeof o&&(this.handlers[e]=o),this},t.prototype._formByNameOrNode=function(e){return"object"==typeof e?e:o.forms[e]},t.prototype._addField=function(e,o){this.fields[o]={name:o,display:e.display||o,rules:e.rules,id:null,type:null,value:null,checked:null}},t.prototype._validateForm=function(e){for(var o in this.errors=[],this.fields)if(this.fields.hasOwnProperty(o)){var t=this.fields[o]||{},i=this.form[t.name];i&&i!==u&&(t.id=n(i,"id"),t.type=0<i.length?i[0].type:i.type,t.value=n(i,"value"),t.checked=n(i,"checked"),this._validateField(t))}return"function"==typeof this.callback&&this.callback(this.errors,e),0<this.errors.length&&(e&&e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)),!0},t.prototype._validateField=function(e){for(var o=e.rules.split("|"),t=e.rules.indexOf("required"),i=!e.value||""===e.value||e.value===u,n=0,a=o.length;n<a;n++){var r=o[n],s=null,l=!1,c=p.exec(r);if((-1!==t||-1!==r.indexOf("!callback_")||!i)&&(c&&(r=c[1],s=c[2]),"!"===r.charAt(0)&&(r=r.substring(1,r.length)),"function"==typeof this._hooks[r]?this._hooks[r].apply(this,[e,s])||(l=!0):"callback_"===r.substring(0,9)&&(r=r.substring(9,r.length),"function"==typeof this.handlers[r]&&!1===this.handlers[r].apply(this,[e.value,s])&&(l=!0)),l)){o=this.messages[r+"#"+e.name]||this.messages[r]||d[r],t="An error has occurred with the "+e.display+" field.",o&&(t=o.replace("%s",e.display),s&&((cu=0<=s.indexOf("###")&&s.split("###"))?cu[1]&&(t=cu[1]):t=t.replace("%s",this.fields[s]?this.fields[s].display:s))),this.errors.push({Id:e.id,Name:e.name,Message:t,Rule:r});break}}},t.prototype._hooks={required:function(e){var o=e.value.trim();return"checkbox"===e.type||"radio"===e.type?!0===e.checked:null!==o&&""!==o},default:function(e,o){return e.value!==o},matches:function(e,o){var t=this.form[o];return!!t&&e.value===t.value},valid_ca_zip:function(e){return i.test(e.value)},valid_email:function(e){return f.test(e.value)},valid_emails:function(e){e=e.value.split(",");for(var o=0;o<e.length;o++)if(!f.test(e[o]))return!1;return!0},min_length:function(e,o){return!!r.test(o)&&e.value.length>=parseInt(o,10)},max_length:function(e,o){return!!r.test(o)&&e.value.length<=parseInt(o,10)},exact_length:function(e,o){return!!r.test(o)&&e.value.length===parseInt(o,10)},greater_than:function(e,o){return!!g.test(e.value)&&parseFloat(e.value)>parseFloat(o)},less_than:function(e,o){return!!g.test(e.value)&&parseFloat(e.value)<parseFloat(o)},alpha:function(e){return h.test(e.value)},alpha_numeric:function(e){return v.test(e.value)},alpha_dash:function(e){return y.test(e.value)},alpha_numeric_dash_combo:function(e){return l.test(e.value)},alphanumeric_combo:function(e){return c.test(e.value)},numeric:function(e){return r.test(e.value)},integer:function(e){return m.test(e.value)},decimal:function(e){return g.test(e.value)},is_natural:function(e){return w.test(e.value)},is_natural_no_zero:function(e){return k.test(e.value)},valid_ip:function(e){return C.test(e.value)},valid_phoneno:function(e){return a.test(e.value)},valid_base64:function(e){return L.test(e.value)},valid_url:function(e){return S.test(e.value)},valid_credit_card:function(e){if(!T.test(e.value))return!1;for(var o=0,t=0,i=!1,n=(e=e.value.replace(/\D/g,"")).length-1;0<=n;n--)t=e.charAt(n),t=parseInt(t,10),i&&9<(t*=2)&&(t-=9),o+=t,i=!i;return 0==o%10},is_file_type:function(e,o){if("file"!==e.type)return!0;for(var t=e.value.substr(e.value.lastIndexOf(".")+1),i=o.split(","),n=!1,a=0,r=i.length;a<r;a++)t==i[a]&&(n=!0);return n}},e.FormValidator=t}(window,document);var LRNameSpace={};!function(n){n.Storage=function(i,t){return{isLocalStorageNameSupported:function(e){if(!window[e])return!1;var o=window[e];try{return o.setItem("test","1"),o.removeItem("test"),!0}catch(e){return!1}},setBrowserStorage:function(e,o){var t=!0;this.isLocalStorageNameSupported("localStorage")&&(localStorage.setItem(e,o),t=!1),this.isLocalStorageNameSupported("sessionStorage")&&(sessionStorage.setItem(e,o),t=!1),t&&i&&i.options&&n.cookies.setItem(e,o,"",i.options.appPath)},getBrowserStorage:function(e){if(t&&e===t.storedTokenName){var o=this.getBrowserStorage("lr-session-token");if(o)return o=o.replace(/"/g,""),this.setBrowserStorage(t.storedTokenName,o),o}return this.isLocalStorageNameSupported("localStorage")&&null!==localStorage.getItem(e)&&void 0!==localStorage.getItem(e)&&""!==localStorage.getItem(e)?localStorage.getItem(e):this.isLocalStorageNameSupported("sessionStorage")&&null!==sessionStorage.getItem(e)&&void 0!==sessionStorage.getItem(e)&&""!==sessionStorage.getItem(e)?sessionStorage.getItem(e):n.cookies.getItem(e)},removeBrowserStorage:function(e){var o=!0;this.isLocalStorageNameSupported("localStorage")&&(localStorage.removeItem(e),o=!1),this.isLocalStorageNameSupported("sessionStorage")&&(sessionStorage.removeItem(e),o=!1),o&&i&&i.options&&n.cookies.removeItem(e,i.options.appPath)}}}}(LRNameSpace),LRNameSpace.cookies={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,o,t,i,n,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var r="",s=function(e){if(e===1/0)return"Fri, 31 Dec 9999 23:59:59 GMT";var o=new Date;return o.setTime(o.getTime()+1e3*e),o.toGMTString()};if(t)switch(t.constructor){case Number:r="; expires="+s(t)+t===1/0?"":"; max-age="+t;break;case String:r="; expires="+t;break;case Date:r="; expires="+t.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+r+(n?"; domain="+n:"")+(i?"; path="+i:"")+(a?"; secure":""),!0},removeItem:function(e,o,t){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(o?"; path="+o:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),o=e.length,t=0;t<o;t++)e[t]=decodeURIComponent(e[t]);return e}},function(w){w.LRAnonymous=function(){var e,o,t=new w.Storage,i="__aasauid",n="__aasurl",a="_aasuid",r=!1,c=document.title||null,u=window.navigator.userLanguage||window.navigator.language,d=document.characterSet||document.charset,s=new Date,l=new Date(s.getYear()+1,s.getMonth()+1,s.getDay()+1),p="",m="",g="",f="";if(t.getBrowserStorage(a))m=t.getBrowserStorage(a);else if(t.getBrowserStorage("lr-user-uid")){r=!0;var h=t.getBrowserStorage("lr-user-uid");m=h,t.setBrowserStorage(a,h,l)}function v(){return(65536*(1+Math.random())|0).toString(16).substring(1)}t.getBrowserStorage(i)?p=t.getBrowserStorage(i):(o=e||"-",p=v()+v()+o+v()+o+v()+o+v()+o+v()+v()+v(),t.setBrowserStorage(i,p,l));function y(e,o,t,i){var n="";i&&(n=function(o){return Object.keys(o).map(function(e){if(o[e])return encodeURIComponent(e)+"="+encodeURIComponent(o[e])}).join("&")}(i)),f=t||f,m=o||m;var a,r,s=0;window.screen&&(a=window.screen.height,r=window.screen.width,s=window.screen.colorDepth);var l=new Image;l.style.position="fixed",l.onload=function(){document.body&&document.body.appendChild(l)},l.src="//gaugeapp.lrcontent.com/image.gif?aassite="+g+"&aasauid="+p+"&aasuid="+m+"&aasurl="+window.location.href+"&aassh="+a+"&aassw="+r+"&aasscd="+s+"&aashn="+window.location.hostname+"&aaspt="+c+"&aasln="+u+"&aasenc="+d+"&aasev="+e+"&aasidprov="+f+"&"+n}return{track:function(e,o,t,i){this.setUid(o),y(e,o,t,i)},setUid:function(e){m=e,t.setBrowserStorage(a,m,l)},init:function(e){m=(e=e||{}).uid||m,g=e.appName||e.appname,m&&t.setBrowserStorage(a,m,l),t.getBrowserStorage(n)&&t.getBrowserStorage(n)===md5(window.location.href)&&!r||(y("pageView"),t.setBrowserStorage(n,md5(window.location.href),l))}}}}(LRNameSpace),LRNameSpace.Utilities=function(){var e=navigator.userAgent.toLowerCase(),o={version:(e.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(e),opera:/opera/.test(e),msie:(/msie/.test(e)||/trident/.test(e))&&!/opera/.test(e),mozilla:/mozilla/.test(e)&&!/(compatible|webkit)/.test(e)},t=!1,n=!1,i=[];function a(){if(!n&&(n=!0,i)){for(var e=0;e<i.length;e++)i[e].call(window,[]);i=[]}}function r(){var i;t||(t=!0,document.addEventListener&&!o.opera&&document.addEventListener("DOMContentLoaded",a,!1),o.msie&&window===top&&function(){if(!n){try{document.documentElement.doScroll("left")}catch(e){return}a()}}(),o.opera&&document.addEventListener("DOMContentLoaded",function(){if(!n){for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].disabled)return;a()}},!1),o.safari&&function(){if(!n&&("loaded"===document.readyState||"complete"===document.readyState)){if(void 0===i){for(var e=document.getElementsByTagName("link"),o=0;o<e.length;o++)"stylesheet"===e[o].getAttribute("rel")&&i++;var t=document.getElementsByTagName("style");i+=t.length}document.styleSheets.length===i&&a()}}(),function(e){var o=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){o&&o(),e()}}(a))}return{browser:o,getHashParam:function(e){var o=window.location.hash.match(new RegExp(e+"=([^&]*)"));return window.location.hash&&null!=o?o[1]:this.getQueryParameterByName(e)},keysToLowerCase:function(e){for(var o,t=Object.keys(e),i=t.length,n={};i--;)n[(o=t[i]).toLowerCase()]=e[o],"object"==typeof n[o.toLowerCase()]&&null!=n[o.toLowerCase()]&&(n[o.toLowerCase()]=this.keysToLowerCase(n[o.toLowerCase()]));return n},elementsByClass:function(e,o){if(""!==e){o=o||document.body;for(var t=[],i=new RegExp("(^| )"+e+"( |$)"),n=o.getElementsByTagName("*"),a=0,r=n.length;a<r;a++)i.test(n[a].className)&&t.push(n[a]);return t}},isValidUrl:function(e){return!!/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i.test(e)},hasClass:function(e,o){return e.className.match(new RegExp("(\\s|^)"+o+"(\\s|$)"))},addclass:function(e,o){return!this.hasClass(e,o)&&(e.className+=" "+o,!0)},isSubstring:function(e,o){for(var t in o)if(-1!==o[t].indexOf(e))return t;return!1},isJsonString:function(e){try{return JSON.parse(e)}catch(e){return!1}},addEvent:function(e,o,t){var i=[];o instanceof Array?i=o:i.push(o);for(var n=0;n<i.length;n++)i[n]["on"+e]=t},getQueryParameterByName:function(e,o){o="&"+(o||location.search),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(o);return null==t?null:decodeURIComponent(t[1].replace(/\+/g," "))},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))},getQueryStringValue:function(e,o){var t=e||window.location.href,i=new RegExp("[?&]"+o+"=([^&#]*)","i").exec(t);return i?i[1]:null},extend:function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])},ready:function(e,o){r(),n?e.call(window,[]):i.push(function(){return e.call(window,[])})},parseQueryString:function(e){var o={};if((e||""!==e)&&"string"==typeof e)for(var t=e.split("&"),i=0;i<t.length;i++){var n=t[i].split("=");o[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return o},encodedString:function(e){return-1===e.indexOf("%2B")&&(e=e.replace(/\+/g,"%2B")),e},mergeOptions:function(e,o){var t={};for(var i in e)t[i]=e[i];for(var n in o)t[n]=o[n];return t},mergeObjects:function(e,o,t){var i,n=[];for(var a in e){for(var r in o)i=t?o[r]===e[a]:o[r].name===e[a].name;if(i)break;n.push(e[a])}return n=n.concat(o)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},randomString:function(e){var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e=e||Math.floor(Math.random()*o.length);for(var t="",i=0;i<e;i++)t+=o[Math.floor(Math.random()*o.length)];return t},findInSchema:function(e,o,t,i){for(var n=0;n<e.length;n++)if((i?e[n]&&e[n][o].toLowerCase():e[n]&&e[n][o])===t)return e[n];return null},jsonToQueryString:function(o){return Object.keys(o).map(function(e){return o[e]?encodeURIComponent(e)+"="+encodeURIComponent(o[e]):""}).join("&")},insertBefore:function(e,o){o.parentNode.insertBefore(e,o)},isEmpty:function(e){for(var o in e)if(e.hasOwnProperty(o))return!1;return!0},keyslowerToUpperCamelCase:function(e){for(var o,t=Object.keys(e),i=t.length,n={};i--;)n[(o=t[i]).charAt(0).toUpperCase()+o.substr(1)]=e[o];return n},findElementByRegex:function(e,o,t){var i;i=t?document.querySelectorAll(t):document.querySelectorAll("*");for(var n=[],a=0;a<i.length;a++)o.test(i[a][e])&&n.push(i[a]);return n},isObject:function(e){return e instanceof Object&&e.constructor===Object}}},LRNameSpace.ProgressiveProfiling=function(v,y,w,k){return{fetchSchema:function(e){v.util.ajaxCall("get",k.configApiDomain+"progressiveProfilingSchema?apikey="+v.options.apiKey+"&appName="+v.options.appName,"",e)},execStep:function(u,e){if(v.progressiveProfilingSchema){var d=e.onSuccess||function(){},p=e.onError||function(){},m=e.container||"",g=e.classPrefix||"",f=e.templateName||"",h=v.storage.getBrowserStorage(k.storedTokenName);h&&v.util.ajaxCall("get",k.apiDomain+"/auth/socialidentity?apiKey="+v.options.apiKey+"&access_token="+h,"",function(e){var o=v.util.findInSchema(v.progressiveProfilingSchema.ProfilingSteps,"Step",u);if(o){var t={};t.Profile=e,t.access_token=h;var i=e.Provider.toLowerCase();if("email"===i||"raas"===i||v.options.progressiveProfilingTraditional){v.options.progressiveProfilingTraditional&&"email"!==i&&"raas"!==i&&(e=v.LoggedinSocialProvderProfile);var n=o.Schema,a=y.mapSchema(n,e,null,!0);t.Profile=e,0<a.length?y.createForm(a,"progressiveProfiling",m,function(e){w.updateData(t,m,e,d,p,g,a,"progressiveProfiling")},function(e){p(e)},g):y.loginHandleToken(t,"",d,p)}else{var r=o.Scopes,s=v.util.findInSchema(r,"Provider",i,!0);if(s){var l="https://"+(v.options.customDomain||v.options.appName+"."+k.hubDomain)+"/RequestHandlor.aspx?apikey="+v.options.apiKey+"&provider="+i+"&scope="+s.Scopes,c=[];c.push({Name:i,Endpoint:l}),y.renderCustomInterface(m,"",f,"","",c),y.socialLogin(m,d,p)}else y.loginHandleToken(t,"",d,p)}}else v.log("Step Schema not found.")})}}}},"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var o=this.length>>>0,t=Number(arguments[1])||0;for((t=t<0?Math.ceil(t):Math.floor(t))<0&&(t+=o);t<o;t++)if(t in this&&this[t]===e)return t;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(null==this)throw new TypeError;var o=Object(this),t=o.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=[],n=arguments[1],a=0;a<t;a++)if(a in o){var r=o[a];e.call(n,r,a,o)&&i.push(r)}return i}),function(n){"use strict";var e={get:function(e){var o=i();return e?o[e]:o},add:function(e){var o=i();for(var t in e)o[t]=e[t];a(o)},remove:function(e){e="string"==typeof e?[e]:e;for(var o=i(),t=0;t<e.length;t++)delete o[e[t]];a(o)},clear:function(){a({})}};function i(){for(var e=n.location.hash?n.location.hash.substr(1).split("&"):[],o={},t=0;t<e.length;t++){var i=e[t].split("=");o[i[0]]=decodeURIComponent(i[1])}return o}function a(e){var o=[];for(var t in e)o.push(t+"="+encodeURIComponent(e[t]));n.location.hash=o.join("&")}n.hash=e}(window),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,o){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},writable:!0,configurable:!0});var LoginRadiusDefaults={idPrefix:"loginradius-",classPrefix:"loginradius-",apiDomain:"https://api.loginradius.com/identity/v2",hubDomain:"hub.loginradius.com",cloudApiDomain:"https://cloud-api.loginradius.com/",configApiDomain:"https://config.lrcontent.com/ciam/",socialApiDomain:"https://api.loginradius.com/api/v2/",isRegFormSchemaLock:!1,isSecurityFormSchemaLock:!1,innerHTML:!1,autoFilledFieldforPasswordLesLogin:!1,socialRegFormId:"",lrResponseCounter:0,LRPhoneNo:"",lrCounterJwtResponse:"",lrCounterTokenResponse:"",storedTokenName:"LRTokenKey",storedTwoFAToken:"lr2fatok",storedOTPAuth:"lrotpauthver",storedGAAuth:"lrgaauthver",storedUidName:"lr-user-uid",tokenCookie:"lr-user--token",isSSOInitFired:!1,pingCount:1,messages:{tokenValid:{Message:"Access token is not valid",Description:"LoginRadius Access Token is invalid, please verify the authentication response",ErrorCode:905},twofaTokenValid:{Message:"Token is not valid",Description:"Your session is not valid."},invalidEmail:{Message:"Invalid Email",Description:"The email entered is not a valid email."},invalidPhone:{Message:"Invalid Phone",Description:"The mobile number entered is not valid."},disabledAccountLinking:"Account Linking disabled in your account",noSecurityQuestions:"There are no security questions for this application",invalidSott:"Something went wrong, please try again.",notValidMessage:"Error Message element not valid",passwordStrengthMessage:"Password strength meter configuration is not valid.",otpSent:"OTP Sent Successfully",vTokenError:{Message:"Verification token not found in query string."},notFound:"Data not found.",emailNotVerified:{Message:"The email is not verified, please verify the link in your email",Description:"The email is not verified, please verify the link in your email",ErrorCode:970},phoneNotVerified:{Message:"Phone number is not verified",Description:"The provided phone number is not verified, please use a verified phone number for login.",ErrorCode:1066},blockedUser:{Message:"User is blocked",Description:"This user is blocked by site admin",ErrorCode:991},unverifiedUser:{Message:"This Uid have only traditional unverified account",Description:"This Uid have only traditional unverified account",ErrorCode:1028}},buttonNames:{login:"Login",socialregistration:"Login",loginrequiredfieldsupdate:"Login",registration:"Register",verifyemail:"Verify",resetpassword:"Reset Password",sociallogin:"Login",otp:"Verify",twofaotp:"Verify",showqrcode:"Verify",updatephone:"Update",changephone:"Update",forgotpassword:"Send",securityquestions:"Get",changepassword:"Submit",resendemailverification:"Send",addemail:"Send",removeemail:"Send",changeusername:"Submit",profileeditor:"Update Profile",otplogin:"OTP",passwordlessloginbuttonlabel:"Email me a link to Sign In",passwordlessloginotpbuttonlabel:"Send an OTP to Sign In",createtwofactorauthentication:"2-Step Verification",sendotp:"Send OTP",resendotp:"Resend OTP",changenumber:"Change Number",backupcode:"Login",backupcodebutton:"Try another way to Sign In",backupcodebackbutton:"Back",disablegoogleauthenticator:"Disable Google Authenticator",disableotpauthenticator:"Disable OTP Authenticator",updatesecurityquestion:"Update Security Question",resetpwdbysecq:"Reset Password By SecurityQ",smartlogin:"Smart Login",validatecode:"Validate",onetouchlogin:"Login",progressiveprofiling:"Progressive Profiling",privacypolicyupdate:"Accept",updatephone2fa:"Update"},options:{passwordlessLoginEmailTemplate:"",callbackUrl:window.location,callbackInsideSameWindow:"",callbackType:"",scope:"",loginUrl:"",deleteUrl:"",emailTemplate:"",verificationUrl:"",verificationEmailTemplate:"",resetPasswordEmailTemplate:"",resetPasswordConfirmationEmailTemplate:"",smartLoginRedirectUrl:"",autoLoginRedirectUrl:"",smartLoginEmailTemplate:"",autoLoginEmailTemplate:"",smsTemplate2FA:"",smsTemplateForgot:"",smsTemplateWelcome:"",smsTemplateOneTouchLoginWelcome:"",smsTemplateOneTouchLogin:"",passwordlessLoginSMSTemplate:"",smsTemplate2FAWelcome:"",smsTemplatePhoneVerification:"",smsTemplateUpdatePhone:"",welcomeEmailTemplate:"",onetouchLoginEmailTemplate:"",onetouchLoginRedirectUrl:"",resetPasswordUrl:"",templateName:"",debugMode:!1,tokenType:"lrtoken",integrationName:"",smartLoginPingCount:100,smartLoginPingInterval:5,maskSensitiveInput:!1,enableHeaderSott:!0,accessTokenResponse:!0,rbaOneclickEmailTemplate:"",rbaOTPSmsTemplate:"",rbaCityEmailTemplate:"",rbaCountryEmailTemplate:"",rbaBrowserEmailTemplate:"",rbaIpEmailTemplate:"",rbaCitySmsTemplate:"",rbaCountrySmsTemplate:"",rbaBrowserSmsTemplate:"",rbaIpSmsTemplate:"",setLRSession:!1,askOptionalFieldsOnProgressiveSteps:!0},regexExpression:{emailRegex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,phoneRegex:/^(\\+)|(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{8,14}$/},_uuidFormat:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i};function LoginRadiusUtility(v,y){var d=LoginRadiusDefaults.buttonNames,w=new LRNameSpace.Utilities,p=this;p.elementById=function(e,o){var t=document.getElementById(e);if(t)return t;o||v.log("Unable to find id: "+e)},p.getThisObjectName=function(){for(var e in v.global)if("frameElement"!==e&&"webkitStorageInfo"!==e&&"webkitIndexedDB"!==e&&v.global[e]===v)return e},p.serialize=function(e){if(e&&"FORM"===e.nodeName){var o,t,i=[];for(o=e.elements.length-1;0<=o;o-=1)if(""!==e.elements[o].name&&""!==e.elements[o].value.trim())switch("emailid"!==e.elements[o].name||v.options.usernameLogin||v.options.duplicateEmailWithUniqueUsername||(e.elements[o].value=e.elements[o].value.toLowerCase()),e.elements[o].nodeName){case"INPUT":switch(e.elements[o].type){case"text":case"hidden":case"button":case"reset":case"submit":case"email":var n=e.elements[o].name;"emailid"===n&&(n="email"),e.elements[o].disabled||i.push(n+"="+encodeURIComponent(e.elements[o].value.trim()));break;case"password":i.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value));break;case"checkbox":i.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].checked));break;case"radio":e.elements[o].checked&&i.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value))}break;case"TEXTAREA":i.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value.trim()));break;case"SELECT":switch(e.elements[o].type){case"select-one":i.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value.trim()));break;case"select-multiple":for(t=e.elements[o].options.length-1;0<=t;t-=1)e.elements[o].options[t].selected&&i.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].options[t].value.trim()))}break;case"BUTTON":switch(e.elements[o].type){case"reset":case"submit":case"button":i.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value.trim()))}}return i.join("&")}},p.addJs=function(e,o){var t=(o=o||document).getElementsByTagName("head")[0],i=o.createElement("script");return i.src=e,i.type="text/javascript",t.appendChild(i),i},p.hashTmpl=function e(o,t){var i=/\W/.test(o)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+o.replace(/[\r\t\n]/g," ").split("<#").join("\t").replace(/((^|#>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)#>/g,"',$1,'").split("\t").join("');").split("#>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[o]=n[o]||(p.elementById(o)?e(p.elementById(o).innerHTML):"");return"function"==typeof i?t?i(t):i:""};var n={};p.tmpl=function e(o,t){var i=/\W/.test(o)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+o.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[o]=n[o]||(p.elementById(o)?e(p.elementById(o).innerHTML):"");return"function"==typeof i?t?i(t):i:""},p.jsonpCall=function(e,o,t,i){v.$hooks.call("startProcess",i);var n=t||"Loginradius"+Math.floor(1e18*Math.random()+1);window[n]=function(e){o(e),v.$hooks.call("endProcess",i)};var a=-1!==e.indexOf("?")?e+"&callback="+n:e+"?callback="+n;p.addJs(a)},p.getButtonAttribute=function(e,o){var t,i=o||LoginRadiusDefaults.idPrefix;return v.buttonElements[e]?t=(t=v.buttonElements[e]).cloneNode(!0):((t=document.createElement("input")).type="button",t.value=v.buttonsName[e]||d[e]),t.id=i+"button-"+e,t},p.ajaxCall=function(e,o,n,a,r,s){var l=this,c=r;if(r&&-1!==r.indexOf("##")&&(c=r.split("##")[1]),LoginRadiusDefaults._uuidFormat.test(y.apiKey)){v.$hooks.call("startProcess",r,n);try{var u=new XMLHttpRequest;if(v.options.projectionFields){var t=Object.keys(v.options.projectionFields),i=["verifyOTP","updateData"],d=!1,p=r;if(v.LRCheckRegistration?(d=-1!==i.indexOf(r),p="registration"):v.LRCheckLogin&&(d=-1!==i.indexOf(r),p="login"),-1!==t.indexOf(r)||d){var m=v.options.projectionFields[p];if(m&&0<m.length){var g=["ErrorCode","Profile/Uid","Profile/IsDeleted","access_token","Profile/EmailVerified","Profile/PhoneIdVerified","Profile/PhoneId","PhoneId","PhoneIdVerified","EmailVerified","Uid","IsDeleted"];(v.options.twoFactorAuthentication||v.options.optionalTwoFactorAuthentication)&&g.push("SecondFactorAuthentication/SecondFactorAuthenticationToken","SecondFactorAuthentication/IsOTPAuthenticatorVerified","SecondFactorAuthentication/IsGoogleAuthenticatorVerified","SecondFactorAuthentication/OTPPhoneNo","SecondFactorAuthentication/ManualEntryCode"),m=w.mergeObjects(m,g,!0);for(var f="&fields=",h=0;h<m.length;h++)h===m.length-1?f+=m[h]:f=f+m[h]+",";o+=f}}}u.open(e,o,!0),-1===o.indexOf("cdn")&&-1===o.indexOf(".json")&&u.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.sottcheck&&(u.setRequestHeader("X-LoginRadius-Sott",v.options.sott),delete n.sottcheck),n?(n="string"==typeof n||n instanceof String?JSON.stringify(w.parseQueryString(n)):JSON.stringify(n),u.setRequestHeader("Content-Type","application/json"),u.send(n)):u.send(null),u.onreadystatechange=function(){if(4===u.readyState){var e,o=u.response;if(o){var t=JSON.parse(o);-1<Object.keys(t).map(function(e){return e.toLowerCase()}).indexOf("errorcode")?v.$hooks.call("xhrEndWithError",r):v.$hooks.call("xhrEndWithSuccess",r)}if("500"==u.status){var i=JSON.parse(o);i.ErrorCode="500",o=JSON.stringify(i),v.$hooks.call("xhrEndWithError",r)}(e=l.isJsonString(o))&&(v.$hooks.call("successCallback",c,e,n),s?a(s,e):a(e)),v.$hooks.call("endProcess",r)}},u.onerror=function(){v.$hooks.call("xhrEndWithError",r)}}catch(e){}}else v.log("apiKey is not in valid guid format.")},p.openWindow=function(e){if(e=e||p.href,!v.options.isMobile){var o=document.createElement("a");o.href=e;var t=w.getQueryParameterByName("provider",o.search),i="";v.options.noCallbackForSocialLogin&&(e+="&nocallback=true&callbackguid="+(i=v.util.randomString(16)));var n=v.options.customizeSocialPopup||"menubar=1,resizable=1,width=450,height=450,scrollbars=1";return window.open(e,"lrpopupchildwindow",n),v.$hooks.call("socialCalls",t,i),!1}var a="no";v.options.debugMode&&(a="yes");var r=window.open(e,"_blank","location="+a);r.addEventListener("loadstop",function(e){var o,t=null===(o=new RegExp("[\\?&]"+"token"+"=([^&#]*)").exec(e.url))?"":decodeURIComponent(o[1].replace(/\+/g," "));null!=t&&""!==t&&(r.close(),html5passToken(t))})},p.addHTMLContent=function(e,o,t,i,n){t=t||!1;var a=p.elementById(e);if(a||i)if(t||(a.innerHTML=""),i){var r=d[i.toLowerCase()],s=n||LoginRadiusDefaults.idPrefix,l=p.elementById(s+"submit-"+r.toLowerCase().replace(/ /g,"-"));w.insertBefore(o,l)}else a.appendChild(o);else{var c=w.elementsByClass(e);if(c&&0<c.length)for(var u=0;u<c.length;u++)t||(c[u].innerHTML=""),c[u].appendChild(o)}},p.addRecaptchaJS=function(e){window.grecaptcha||!v.options.v2Recaptcha&&!e?!window.grecaptcha&&v.options.invisibleRecaptcha&&p.addJs("https://www.google.com/recaptcha/api.js"):v.options.v2RecaptchaLanguage?p.addJs("https://www.google.com/recaptcha/api.js?render=explicit&hl="+v.options.v2RecaptchaLanguage):p.addJs("https://www.google.com/recaptcha/api.js?render=explicit"),(v.options.tencentCaptcha||v.options.tencentCaptchaAsFallback)&&p.addJs("https://ssl.captcha.qq.com/TCaptcha.js")},p.renderV2Recaptcha=function(t,e,i){var n,a=p.elementById(t);if(v.options.v2Recaptcha||e||v.options.invisibleRecaptcha||v.options.tencentCaptcha||v.options.tencentCaptchaAsFallback){window.grecaptcha&&a&&a.innerHTML&&grecaptcha.reset(window[t+"lr_recaptcha_widgets_idprefix"]);var o=setInterval(function(){n||(n=setInterval(function(){if(window.grecaptcha){if(a&&""===a.innerHTML){var e={sitekey:v.options.v2RecaptchaSiteKey||"6LeAiwITAAAAADlqb06JIGepBs8ZRo3OZ7C0W7U3",theme:"light",callback:function(e){a.style.display="block",i&&i(e)}};v.options.invisibleRecaptcha&&(e.size="invisible",e.callback="onCaptchaSubmit"),window[t+"lr_recaptcha_widgets_idprefix"]=grecaptcha.render(t,e),clearInterval(n)}}else{t+="_tencent";var o=document.getElementById(t);o&&(o.style.display="block"),"undefined"!=typeof TencentCaptcha&&new TencentCaptcha(document.getElementById(t)),clearInterval(n)}},1e3),clearInterval(o))},1e3)}},p.captchaSchema=function(e,o,t,i){if(!v.options.v2Recaptcha&&!t||p.elementById(e)){if(v.options.invisibleRecaptcha&&!p.elementById(e)){var n="";"hide"===t&&(n="display:none");var a={type:"captcha",name:"g-recaptcha-response",html:'<div id="'+e+'" style="'+n+'" class="g-recaptcha" data-sitekey="'+(v.options.v2RecaptchaSiteKey||"6LeAiwITAAAAADlqb06JIGepBs8ZRo3OZ7C0W7U3")+'" data-size="invisible" data-callback="onCaptchaSubmit"></div>',display:"Captcha",rules:""};o.push(a)}}else{var r={type:"captcha",name:"g-recaptcha-response",html:'<div id="'+e+'" class="recaptcha_widget"></div>',display:"Captcha",rules:"required"};o.push(r)}if(!p.elementById(e)&&(v.options.tencentCaptcha||v.options.tencentCaptchaAsFallback)){window.onTencentCaptchaSubmit=function(e){0==e.ret&&(i?i(e):window.onTencentCaptchaSubmitCallback(e))};var s={type:"captcha",name:"TencentCaptcha",html:"<div "+(t?"style=display:none; ":"")+' id= "'+e+'_tencent"  class="TencentCaptcha"  data-appid="'+v.options.tencentCaptchaAppid+'" data-cbfn="onTencentCaptchaSubmit"></div>',display:"Captcha",rules:""};o.push(s)}},p.checkPhoneOrEmailLogin=function(e){var o=w.parseQueryString(e);if(o.emailid||o.email)if(v.options.duplicateEmailWithUniqueUsername&&!o.username)e=e.replace("emailid","username").replace("email","username");else{var t=o.emailid||o.email;LoginRadiusDefaults.regexExpression.emailRegex.test(t)?e=e.replace("emailid","email"):v.options.phoneLogin&&LoginRadiusDefaults.regexExpression.phoneRegex.test(t)?(e=e.replace("emailid","phone").replace("email","phone"),e+="&phoneApi=1"):v.options.usernameLogin&&(e=e.replace("emailid","username").replace("email","username"))}return e}}function LoginRadiusApiFramework(u,d){var e=this;e.init=function(){u.lrApiFramework=!0},e.login=function(e,o,t){u.getAppConfiguration(function(){d.loginController(u.util.jsonToQueryString(e),null,o,t)})},e.otpLogin=function(e,o,t){u.getAppConfiguration(function(){d.loginOTPController(u.util.jsonToQueryString(e),null,o,t)})},e.twoFALogin=function(e,o,t,i,n,a,r,s){i=i||function(){},r=r||function(){},s=s||function(){},n=n||function(){},a=a||function(){};u.getAppConfiguration(function(){d.login2FAController(u.util.jsonToQueryString(e),null,o,t,"",r,s,i,n,a)})},e.registration=function(e,o,t,i,n,a){n=n||function(){},a=a||function(){};u.getAppConfiguration(function(){d.registrationController(o,null,t,i,"",e,n,a)})},e.forgotPassword=function(e,o,t){u.getAppConfiguration(function(){d.forgotPasswordController(u.util.jsonToQueryString(e),"",o,t)})},e.resetPassword=function(e,o,t){u.getAppConfiguration(function(){d.resetPasswordController(u.util.jsonToQueryString(e),o,t)})},e.emailVerification=function(e,o,t){u.getAppConfiguration(function(){d.emailVerificationController(e.vtoken,o,t)})},e.socialLogin=function(e,o,t,i,n,a){u.getAppConfiguration(function(){u.LoginRadiusHostedPage&&u.SSOinitFired||(i=i||function(){},n=n||function(){},d.socialLoginReceiveToken(e.token,a,o,t,null,i,n))})},e.resendEmailVerification=function(e,o,t){u.getAppConfiguration(function(){d.resendEmailVerificationController(u.util.jsonToQueryString(e),o,t)})},e.twoFAResendOTP=function(e,o,t){u.getAppConfiguration(function(){d.resendOTP2FAController(u.util.jsonToQueryString(e),o,t)})},e.twoFAVerifyOTP=function(e,o,t){u.getAppConfiguration(function(){d.verify2FAOTPController(u.util.jsonToQueryString(e),o,t)})},e.twoFAUpdatePhone=function(e,o,t,i,n,a,r){i=i||function(){},n=n||function(){},a=a||function(){},r=r||function(){};u.getAppConfiguration(function(){d.update2FAPhoneNumberController(e,null,o,t,null,i,n,a,r)})},e.updatePhone=function(e,o,t,i,n,a,r){a=a||function(){},r=r||function(){},i=i||function(){},n=n||function(){};u.getAppConfiguration(function(){d.updatePhoneNumberController(u.util.jsonToQueryString(e),null,o,t,null,a,r,i,n)})},e.verifyOTP=function(e,o,t,i){u.getAppConfiguration(function(){d.verifyOTPController(e,o,t,i)})},e.resendOTP=function(e,o,t){u.getAppConfiguration(function(){d.resendOTPController(u.util.jsonToQueryString(e),o,t)})},e.addEmail=function(e,o,t){u.getAppConfiguration(function(){d.addEmailController(u.util.jsonToQueryString(e),o,t)})},e.removeEmail=function(e,o,t){u.getAppConfiguration(function(){d.removeEmailController(u.util.jsonToQueryString(e),o,t)})},e.changeUsername=function(e,o,t){u.getAppConfiguration(function(){d.changeUsernameController(u.util.jsonToQueryString(e),o,t)})},e.changePassword=function(e,o,t){u.getAppConfiguration(function(){d.changePasswordController(u.util.jsonToQueryString(e),o,t)})},e.checkPhoneNumberAvailability=function(e,o,t){u.getAppConfiguration(function(){d.checkPhoneNumberAvailabilityController(u.util.jsonToQueryString(e),o,t)})},e.resetPasswordByPhone=function(e,o,t){u.getAppConfiguration(function(){d.resetPasswordByPhoneController(u.util.jsonToQueryString(e),o,t)})},e.forgotPasswordbyPhone=function(e,o,t){u.getAppConfiguration(function(){d.forgotPasswordbyPhoneController(u.util.jsonToQueryString(e),null,o,t)})},e.updateData=function(e,o,t,i,n,a){var r=i,s=n,l={};"object"==typeof i&&(l=i,r=n,s=a);var c={};c.Profile=l,c.access_token=t;u.getAppConfiguration(function(){d.updateData(c,null,o,r,s,"",e)})},e.checkEmailAvailability=function(e,o,t){u.getAppConfiguration(function(){d.checkEmailAvailabilityController(u.util.jsonToQueryString(e),o,t)})},e.checkUserNameAvailability=function(e,o,t){u.getAppConfiguration(function(){d.checkUserNameAvailabilityController(u.util.jsonToQueryString(e),o,t)})},e.resetPasswordBySecurityQuestion=function(e,o,t){u.getAppConfiguration(function(){d.resetPasswordBySecurityQuestionController(u.util.jsonToQueryString(e),o,t)})},e.updateSecurityQuestion=function(e,o,t){u.getAppConfiguration(function(){d.updateSecurityQuestionController(u.util.jsonToQueryString(e),o,t)})},e.resetTwoFactor=function(e,o,t){u.getAppConfiguration(function(){d.resetTwoFactorAuthenticationController(e,o,t)})},e.invalidateToken=function(e,o,t){u.getAppConfiguration(function(){d.invalidateToken(e,o,t)})},e.validateToken=function(e,o,t){u.getAppConfiguration(function(){d.validateToken(e,o,t)})},e.getSocialData=function(e,o,t,i,n){u.getAppConfiguration(function(){d.getSocialDataController(e,o,t,i,n)})},e.postSocialData=function(e,o,t,i,n,a){u.getAppConfiguration(function(){d.postSocialDataController(e,o,t,i,n,a)})},e.getCustomObjects=function(e,o,t){u.getAppConfiguration(function(){d.getCustomObjectsController(e,o,t)})},e.createCustomObject=function(e,o,t,i){u.getAppConfiguration(function(){d.createCustomObjectController(e,o,t,i)})},e.getCustomObjectById=function(e,o,t,i){u.getAppConfiguration(function(){d.getCustomObjectByIdController(e,o,t,i)})},e.deleteCustomObjectById=function(e,o,t,i){u.getAppConfiguration(function(){d.deleteCustomObjectController(e,o,t,i)})},e.updateCustomObjectById=function(e,o,t,i,n,a){u.getAppConfiguration(function(){d.updateCustomObjectController(e,o,t,a,i,n)})},e.getBackupCode=function(e,o,t){u.getAppConfiguration(function(){d.getBackupCodeController(e,o,t)})},e.resetBackupCode=function(e,o,t){u.getAppConfiguration(function(){d.resetBackupCodeController(e,o,t)})},e.autoLogin=e.smartLogin=function(e,o,t){u.getAppConfiguration(function(){d.smartLoginController(u.util.jsonToQueryString(e),o,t)})}}function setLoginRadiusDefaultSchema(e){e.loginFormSchema=[{type:"string",name:"emailid",display:"Email Id",rules:"required|valid_email",permission:"r"},{type:"password",name:"password",display:"Password",rules:"required|min_length[6]|max_length[32]",permission:"w"}],e.backupCodeFormSchema=[{type:"string",name:"backupcode",display:"Backup Code",rules:"required",permission:"r"}],e.resetPasswordByPhoneSchema=[{type:"string",name:"otp",display:"OTP",rules:"required",permission:"r"},{type:"password",name:"password",display:"Password",rules:"required|min_length[6]|max_length[32]",permission:"w"}],e.checkPhoneNumberSchema=[{type:"string",name:"phone",display:"Phone Number",rules:"required|valid_phoneno",permission:"r"}],e.QRCodeSchema=[{type:"string",name:"googleAuthenticatorCode",display:"Google Authenticator Code",rules:"required",permission:"r"}],e.getSecQSchema=[{type:"string",name:"emailid",display:"Email Id",rules:"required|valid_email",permission:"r"}],e.otpSchema=[{type:"string",name:"otp",display:"OTP",rules:"required",permission:"r"}],e.forgotPasswordFormSchema=[{type:"string",name:"emailid",display:"Email",rules:"required",permission:"r"}],e.smartLoginSchema=[{type:"string",name:"emailid",display:"Email Id",rules:"required",permission:"r"}],e.passwordLessLoginSchema=[{type:"string",name:"emailid",display:"Email",rules:"required",permission:"r"},{type:"string",name:"name",display:"Name",rules:"",permission:"r"}],e.changePasswordFormSchema=[{type:"password",name:"oldpassword",display:"Old Password",rules:"required",permission:"w"},{type:"password",name:"newpassword",display:"Password",rules:"required|min_length[6]|max_length[32]",permission:"w"},{type:"password",name:"confirmnewpassword",display:"Confirm Password",rules:"required|min_length[6]|max_length[32]|matches[newpassword]",permission:"w"}],e.emailSchema=e.forgotPasswordFormSchema,e.addEmailSchema=[{type:"string",name:"emailid",display:"Email",rules:"required|valid_email",permission:"r"},{type:"string",name:"type",display:"Type",rules:"required",permission:"r"}],e.changeUsernameFormSchema=[{type:"string",name:"username",display:"Username",rules:"required",permission:"r"}],e.resetPasswordFormSchema=[{type:"password",name:"password",display:"Password",rules:"required|min_length[6]|max_length[32]",permission:"w"},{type:"password",name:"confirmpassword",display:"Confirm Password",rules:"required|matches[password]|min_length[6]|max_length[32]",permission:"w"},{type:"hidden",name:"resettoken",display:"",rules:"required",permission:"w",value:""}],e.privacyPolicySchema=[{type:"multi",name:"acceptprivacypolicy",display:"I agree to the terms of service",rules:"",permission:"r"}],e.btnOTPSchema={type:"button",name:"click",display:"click",rules:"",permission:"r",event:"click",eventCallback:function(){}}}function setLoginRadiusModuleFunctions(c,u){var t=LoginRadiusDefaults.options,i=new SetLoginRadiusCommonFunctions(c),e=new LoginRadiusControllers(c,i),d=c.util;c.version="3.8.1",c.LRCheckRegistration=!1,c.passwordlessLoginFlag=!1,c.socialLoginFlag=!1,c.LRCheckLogin=!1,c.LRCheck2FA=!1,c.loginAction=!1,c.options="",c.sessionData={getUid:function(){return c.storage.getBrowserStorage(LoginRadiusDefaults.storedUidName)},getToken:function(){return c.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName)}},c.errorMessages=[],c.validationMessages=[],c.formCustomLabel={},c.formElementsTitle={},c.defaultOptionField={},c.formValidations={},c.formPlaceholder={},c.formElementAttributes={},c.buttonElements={},c.passwordMeterConfiguration=[],c.buttonsName={},c.eventsName={},c.log=function(e){c.options.debugMode&&"undefined"!=typeof console&&console.error(e)},c.customInterface=function(e,o){var t=o.templateName||"";a(function(){i.renderCustomInterface(e,"",t)})},c.clearSession=function(){c.storage.removeBrowserStorage(LoginRadiusDefaults.storedTokenName),c.storage.removeBrowserStorage(LoginRadiusDefaults.storedUidName),c.storage.removeBrowserStorage(LoginRadiusDefaults.storedTwoFAToken)},c.documentCookies=Object.assign({},LRNameSpace.cookies);var n=[];function a(e){c.isApiCallingStarted||""!==c.options?c.isApiCallingStarted&&(""!==c.options?e():"logout"===c.useraction?(c.isApiCallingStarted=!1,a(e)):n.push(e)):(c.isApiCallingStarted=!0,n.push(e),d.ajaxCall("get",LoginRadiusDefaults.configApiDomain+"appInfo?apikey="+u.apiKey,"",function(e){!function(e){var o={};if(u.securityQuestionEnabled=e.IsSecurityQuestion,u.appName=u.appName||e.AppName,u.RegistrationFormSchema=e.RegistrationFormSchema,u.loginLockedType=e.LoginLockedConfiguration&&e.LoginLockedConfiguration.LoginLockedType,u.anonymousLogin){var t={appName:u.appName};c.anonymous=new LRNameSpace.LRAnonymous,c.anonymous.init(t)}if(u.securityQuestionEnabled&&(u.SecurityQuestions=e.SecurityQuestions.Questions,u.securityQuestionsCount=void 0===u.securityQuestionsCount?e.SecurityQuestions.SecurityQuestionCount:u.securityQuestionsCount),void 0===u.passwordLength&&u.displayPasswordStrength&&u.RegistrationFormSchema){var i=d.findInSchema(u.RegistrationFormSchema,"name","password").rules.split("|"),n=d.isSubstring("min_length[",Object.keys(i).map(function(e){return i[e]})),a=i[n].substring(i[n].lastIndexOf("min_length[")+11,i[n].lastIndexOf("]")),r=d.isSubstring("max_length[",Object.keys(i).map(function(e){return i[e]})),s=i[r].substring(i[r].lastIndexOf("max_length[")+11,i[r].lastIndexOf("]")),l={min:parseInt(a),max:parseInt(s)};u.passwordLength=l}u.SocialSchema=e.SocialSchema,u.maskSensitiveInput=u.encryptedAnswer||u.maskSensitiveInput,u.noCallbackForSocialLogin=void 0!==u.noCallback?u.noCallback:u.noCallbackForSocialLogin,u.v2RecaptchaSiteKey=u.v2RecaptchaSiteKey||e.V2RecaptchaSiteKey,e.TwoFactorAuthentication.IsEnabled&&(o.optionalTwoFactorAuthentication=!0,o.twoFactorAuthentication=!1,o.googleAuthentication=e.TwoFactorAuthentication.IsGoogleAuthenticator,e.TwoFactorAuthentication.IsRequired&&(o.optionalTwoFactorAuthentication=!1,o.twoFactorAuthentication=!0)),u.otpEmailVerification=void 0===u.otpEmailVerification?e.OTPEmailVerification:u.otpEmailVerification,u.optionalTwoFactorAuthentication=void 0===u.optionalTwoFactorAuthentication?o.optionalTwoFactorAuthentication:u.optionalTwoFactorAuthentication,u.twoFactorAuthentication=void 0===u.twoFactorAuthentication?o.twoFactorAuthentication:u.twoFactorAuthentication,u.googleAuthentication=void 0===u.googleAuthentication?o.googleAuthentication:u.googleAuthentication,u.phoneLogin=void 0===u.phoneLogin?e.IsPhoneLogin:u.phoneLogin,u.passwordlessLoginOTP=void 0===u.instantOTPLogin&&void 0===u.passwordlessLoginOTP?e.IsInstantSignin.SmsOtp:u.instantOTPLogin||u.passwordlessLoginOTP,"optional"===e.EmailVerificationFlow?o.optionalEmailVerification=!0:"disabled"===e.EmailVerificationFlow&&(o.disabledEmailVerification=!0),u.optionalEmailVerification=void 0===u.optionalEmailVerification?o.optionalEmailVerification:u.optionalEmailVerification,u.disabledEmailVerification=void 0===u.disabledEmailVerification?o.disabledEmailVerification:u.disabledEmailVerification,u.loginOnEmailVerification=void 0===u.loginOnEmailVerification?e.IsLoginOnEmailVerification:u.loginOnEmailVerification,u.passwordlessLogin=void 0===u.instantLinkLogin&&void 0===u.passwordlessLogin?e.IsInstantSignin.EmailLink:u.instantLinkLogin||u.passwordlessLogin,u.askRequiredFieldForTraditionalLogin=void 0===u.askRequiredFieldForTraditionalLogin?e.AskRequiredFieldsOnTraditionalLogin:u.askRequiredFieldForTraditionalLogin,u.stayLogin=void 0===u.stayLogin?e.IsRememberMe:u.stayLogin,u.disableSignup=void 0===u.disableSignup?e.IsDisabledRegistration:u.disableSignup,u.riskBasedAuthentication=void 0===u.riskBasedAuthentication?e.IsRiskBasedAuthentication:u.riskBasedAuthentication,u.noCallbackForSocialLogin=void 0===u.noCallbackForSocialLogin?e.IsNoCallbackForSocialLogin:u.noCallbackForSocialLogin,u.usernameLogin=void 0===u.usernameLogin?e.IsUserNameLogin:u.usernameLogin,u.promptPasswordOnSocialLogin=void 0===u.promptPasswordOnSocialLogin?e.AskPasswordOnSocialLogin:u.promptPasswordOnSocialLogin,u.v2Recaptcha=void 0===u.v2Recaptcha?e.IsV2Recaptcha:u.v2Recaptcha,u.invisibleRecaptcha=void 0===u.invisibleRecaptcha?e.IsInvisibleRecaptcha:u.invisibleRecaptcha,u.askOptionalFieldsOnRegistration=void 0===u.askOptionalFieldsOnRegistration?e.AskOptionalFieldsOnSocialSignup:u.askOptionalFieldsOnRegistration,u.askEmailForUnverifiedProfileAlways=void 0===u.askEmailForUnverifiedProfileAlways?e.AskEmailIdForUnverifiedUserLogin:u.askEmailForUnverifiedProfileAlways,u.logoutOnVerifyEmail=void 0===u.logoutOnVerifyEmail?e.IsLogoutOnEmailVerification:u.logoutOnVerifyEmail,u.disableAccountLinking=e.IsDisabledAccountLinking,u.duplicateEmailWithUniqueUsername=e.DuplicateEmailWithUniqueUsername,u.customDomain=u.customDomain||e.CustomDomain,u.optionalRecaptchaConfiguration=e.OptionalRecaptchaConfiguration,u.tencentCaptchaAppid=void 0===u.tencentCaptchaAppid?e.QQTencentCaptchaKey:u.tencentCaptchaAppid,u.privacyPolicyConfiguration=e.PrivacyPolicyConfiguration}(e),u=d.mergeOptions(t,u),c.options=u;for(var o=0;o<n.length;o++)n[o]()},"registrationSchema"))}c.getAppConfiguration=a,c.progressiveProfiling=new LRNameSpace.ProgressiveProfiling(c,i,e,LoginRadiusDefaults),c.progressiveProfiling.init=function(){a(function(){c.progressiveProfiling.fetchSchema(function(e){c.progressiveProfilingSchema=e,c.$hooks.register("registrationSchemaFilter",function(e,o){c.options.progressiveProfilingTraditional&&(c.LoggedinSocialProvderProfile=o)})},"progressiveProfilingSchema")})}}function LoginRadiusHooksModel(u){var d=u.util;u.$hooks={hooks:[],register:function(e,o,t){void 0===u.$hooks.hooks[e]&&(u.$hooks.hooks[e]=[]),parseInt(t,10)===t&&u.$hooks.hooks[e].length>t+1?u.$hooks.hooks[e].splice(t,0,o):u.$hooks.hooks[e].push(o)},call:function(e){var o=Array.prototype.splice.call(arguments,1);if(void 0!==u.$hooks.hooks[e])for(var t=0,i=u.$hooks.hooks[e].length;t<i;++t)u.$hooks.hooks[e]&&u.$hooks.hooks[e][t]&&u.$hooks.hooks[e][t].apply(null,o)}},u.$hooks.register("addEventOnElement",function(e){d.extend(u.eventsName,e)}),u.$hooks.register("mapErrorMessages",function(e){if(e.code&&e.message)u.errorMessages.push(e);else if(d.isArray(e))for(var o=0;o<e.length;o++)e[o].code&&e[o].message?u.errorMessages.push(e[o]):u.log(notValidMessage);else u.log(notValidMessage)}),u.$hooks.register("passwordMeterConfiguration",function(e){d.isArray(e)?d.extend(u.passwordMeterConfiguration,e):u.log(passwordStrengthMessage)}),u.$hooks.register("setButtonsName",function(e){for(var o,t=Object.keys(e),i=t.length,n={};i--;)n[(o=t[i]).toLowerCase()]=e[o];d.extend(u.buttonsName,n)}),u.$hooks.register("mapValidationMessages",function(e){if(e.rule&&e.message)u.validationMessages.push(e);else if(d.isArray(e))for(var o=0;o<e.length;o++)e[o].rule&&e[o].message?u.validationMessages.push(e[o]):u.log(notValidMessage);else u.log(notValidMessage)}),u.$hooks.register("customizeFormLabel",function(e){d.extend(u.formCustomLabel,e)}),u.$hooks.register("customizeElementTitle",function(e){d.extend(u.formElementsTitle,e)}),u.$hooks.register("defaultChoiceOption",function(e){d.extend(u.defaultOptionField,e)}),u.$hooks.register("customizeFormPlaceholder",function(e){d.extend(u.formPlaceholder,e)}),u.$hooks.register("formValidationRules",function(e){d.extend(u.formValidations,e)}),u.$hooks.register("formAttributes",function(e){d.extend(u.formElementAttributes,e)}),u.$hooks.register("buttonAttributes",function(e){d.extend(u.buttonElements,e)}),u.$hooks.register("addFormCaptcha",function(n,a,r){u.getAppConfiguration(function(){r&&(u.options[r]=!0);var e=n+"recaptcha_widget";d.addRecaptchaJS();var o=[];d.captchaSchema(e,o,!1,a);var t=document.createElement("div");if(t.setAttribute("name",o[0].name),u.options.invisibleRecaptcha){var i=a.toString();i=/function ([^\(]*)/.exec(i)[1],o[0].html=o[0].html.replace("onCaptchaSubmit",i)}t.innerHTML=o[0].html,d.addHTMLContent(n,t,!0),d.renderV2Recaptcha(e,!1,a)})}),u.$hooks.register("addFormCaptchaExecute",function(e){var o=e+"recaptcha_widget",t=d.elementById(o+"_tencent");if(u.options.invisibleRecaptcha)var i=setInterval(function(){if("undefined"!=typeof grecaptcha){try{grecaptcha.execute(window[o])}catch(e){}clearInterval(i)}},1e3);else t&&"none"!==t.style.display&&(u.options.tencentCaptcha||u.options.tencentCaptchaAsFallback&&!window.grecaptcha)&&t.click()}),u.$hooks.register("successCallback",function(e,o,t){var i="";(u.$hooks.register("setCurrentAction",function(){u.storage.setBrowserStorage("LRSetSafariToken",e)}),e&&(i="verifyotp"===e.toLowerCase()?"otp":e.toLowerCase()),"1132"==o.ErrorCode)?(u.options.v2Recaptcha||u.options.invisibleRecaptcha||u.options.tencentCaptcha||u.options.tencentCaptchaAsFallback||(u.options.v2Recaptcha=!0),"verifyemail"===i&&(d.elementById("loginradius-submit-verify").style.display="block"),function(e){var o=u.util.elementById(e,!0);o&&(o.style.display="block"),window.grecaptcha&&o&&""!==o.innerHTML?grecaptcha.reset(window[e+"lr_recaptcha_widgets_idprefix"]):u.util.renderV2Recaptcha(e,!1)}(u.LRPrefix.replace("##","")+"recaptcha_widget_"+i)):"1148"==o.ErrorCode||"1165"==o.ErrorCode?function(e,a){if(u.options.securityQuestionEnabled){var r=d.jsonToQueryString(JSON.parse(e));e="string"==typeof e||e instanceof String?JSON.stringify(d.parseQueryString(e)):JSON.stringify(e),new LoginRadiusControllers(u).getSecurityQuestionsController(r,function(n){if(0<n.length)for(var e=0;e<n.length;e++)-1!==r.indexOf(n[e].name)&&n.splice(e,1);if(0<n.length){var o=document.createElement("div"),t=[],i=u.LRPrefix.split("##");new SetLoginRadiusCommonFunctions(u).createFormFields(n,o,a,t,i[0],i[1]),new FormValidator(i[1]+a,t,function(e){u.mergeFormErrors={},u.mergeFormErrors=e}),u.$hooks.register("startProcess",function(e,o){for(var t={},i=0;i<n.length;i++)o&&o[n[i].name]&&(t[n[i].name]=o[n[i].name],delete o[n[i].name]);o.securityanswer=t}),u.util.addHTMLContent("",o,!0,a,i[0])}})}}(t,i):"1194"==o.ErrorCode&&function(o,e){var t="",i=u.privacyPolicySchema.slice();i[0].rules="Strict"===u.options.privacyPolicyConfiguration.Mode?"required":"";var n=new SetLoginRadiusCommonFunctions(u),a=new LoginRadiusControllers(u,n);u.$hooks.call("getCurrentActionOptions",e);var r=u.currentActionOptions.onSuccess||function(){},s=u.currentActionOptions.onError||function(){},l=u.currentActionOptions.classPrefix||"";"socialLogin"===e?(t=u.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),u.$hooks.call("socialLoginFormRender")):t=o.Data.access_token;n.createForm(i,"privacyPolicyUpdate",u.currentLRContainer,function(e){a.updatePrivacyPolicy(t,o,r,s,null,u.currentLRContainer,l)},function(e){s(n.setMappedMessage(e))})}(o,e)}),u.$hooks.register("afterFormRender",function(e,o,t,i){var n=u.options.RegistrationFormSchema,a=[];if("registration"===e){for(var r,s={},l=0;l<n.length;l++)n[l]&&n[l].DataSource&&null!==n[l].DataSource&&(s[n[l].DataSource]=n[l],s[n[l].DataSource].children=[]);for(var c in s)s.hasOwnProperty(c)&&((r=s[c]).ParentDataSource&&null!=r.ParentDataSource?s[r.ParentDataSource].children.push(r):a.push(r));0<a.length&&function(r,e,s){for(var l=[],c=new SetLoginRadiusCommonFunctions(u),o=0;o<e.length;o++)e[o].ParentDataSource||d.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/registrationdata/"+e[o].DataSource+"?apiKey="+u.options.apiKey,"",function(e,o){if(l[e.DataSource]=o,l[e.DataSource])for(var t=0;t<l[e.DataSource].length;t++){var i=document.createElement("option");i.setAttribute("value",l[e.DataSource][t].Id),i.appendChild(document.createTextNode(l[e.DataSource][t].Key));var n=document.getElementById(s+"registration-"+e.name);n&&n.appendChild(i)}if(e&&e.children&&0<e.children.length)for(var a=0;a<e.children.length;a++)c.addChangeEventHandler(r,e,e.children[a],s)},"registration",e[o])}(o,a,t)}"validatecode"===e&&function(n,e,a){for(var o=0;o<e.length;o++)e[o].DataSource&&u.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/registrationdata/"+e[o].DataSource+"?apiKey="+u.options.apiKey,"",function(e,o){for(var t=0;t<o.length;t++){var i=document.createElement("option");i.setAttribute("value",o[t].Id),i.appendChild(document.createTextNode(o[t].Key)),document.getElementById(a+n+"-"+e.name).appendChild(i)}},"registration",e[o])}(e,n,t)}),u.$hooks.register("setLocaleBasedInfo",function(e){for(var o in e)if(e.hasOwnProperty(o))switch(o){case"labels":d.extend(u.formCustomLabel,e[o]);break;case"placeholders":d.extend(u.formPlaceholder,e[o]);break;case"validationMessages":u.$hooks.call("mapValidationMessages",e[o]);break;case"errorMessages":u.$hooks.call("mapErrorMessages",e[o]);break;case"passwordMeterConfiguration":u.$hooks.call("passwordMeterConfiguration",e[o]);break;case"buttonsName":u.$hooks.call("setButtonsName",e[o])}})}function SetLoginRadiusCommonFunctions(O){var I=this,D=LoginRadiusDefaults.messages,w=LoginRadiusDefaults.buttonNames;function k(t,i,e){var o=O.util.elementById(e+"_tencent"),n=O.util.elementById(e);window.grecaptcha&&O.options.invisibleRecaptcha&&n&&""!==n.innerHTML&&"none"!==n.style.display?grecaptcha.execute(window[e+"lr_recaptcha_widgets_idprefix"]):o&&"none"!==o.style.display&&(O.options.tencentCaptcha||O.options.tencentCaptchaAsFallback&&!window.grecaptcha)?window.onTencentCaptchaSubmitCallback=function(e){var o=O.util.serialize(t);o+="&qq_captcha_ticket="+e.ticket,o+="&qq_captcha_randstr="+e.randstr,i(o)}:i(O.util.serialize(t))}function C(e,o,t,i,n){var a="linksignin";"passwordlessLoginOTPButtonLabel"===e&&(a="otpsignin");var r=document.createElement("input");r.type="submit";var s=O.buttonsName[e.toLowerCase()]||w[e.toLowerCase()],l=w[e.toLowerCase()];r.value=s,r.id=i+a+"-"+l.toLowerCase().replace(/ /g,"-"),r.setAttribute("class",n+a+" "+a+"-"+i+l.toLowerCase().replace(/ /g,"-")),O.options.disableButtonOnsubmit&&(O.$hooks.register("startProcess",function(e){("otpsignin"===a&&window.lrpasswordlessloginotp||"linksignin"===a&&window.lrpasswordlesslogin)&&(r.disabled=!0)}),O.$hooks.register("xhrEndWithError",function(e){("otpsignin"===a&&window.lrpasswordlessloginotp||"linksignin"===a&&window.lrpasswordlesslogin)&&(r.disabled=!1)}),O.$hooks.register("xhrEndWithSuccess",function(e){("otpsignin"===a&&window.lrpasswordlessloginotp||"linksignin"===a&&window.lrpasswordlesslogin)&&O.options.enableSubmitOnSuccess&&(r.disabled=!1)})),o.appendChild(r),O.util.addEvent("click",t,function(e){window.lrpasswordlessloginotp=!1,window.lrpasswordlesslogin=!1}),"passwordlessLoginOTPButtonLabel"===e?O.util.addEvent("click",r,function(e){window.lrpasswordlessloginotp=!0,window.lrpasswordlesslogin=!1}):O.util.addEvent("click",r,function(e){window.lrpasswordlesslogin=!0,window.lrpasswordlessloginotp=!1})}I.renderCustomInterface=function(e,b,R,P,E,o){O.options.selector=e;function t(e){var o,t=e;O.options.providerCountry&&!O.options.providersList&&(t=function(e,o){for(var t=[{Name:"Facebook",country:"global",except:"china"},{Name:"Google",country:"global",except:"china"},{Name:"Yahoo",country:"global",except:"china"},{Name:"Live",country:"global",except:"china"},{Name:"Twitter",country:"global",except:"china"},{Name:"Linkedin",country:"global",except:"china"},{Name:"Myspace",country:"US"},{Name:"Foursquare",country:"global",except:"china"},{Name:"Vkontakte",country:"Russia"},{Name:"Renren",country:"China"},{Name:"QQ",country:"China"},{Name:"Kaixin",country:"China"},{Name:"Github",country:"global",except:"china"},{Name:"Mailru",country:"Russia"},{Name:"Amazon",country:"US"},{Name:"Paypal",country:"global"},{Name:"Salesforce",country:"global"},{Name:"ODNOKLASSNIKI",country:"Russia"},{Name:"WORDPRESS",country:"global"},{Name:"GOOGLEPLUS",country:"global",except:"china"},{Name:"Disqus",country:"global",except:"china"},{Name:"INSTAGRAM",country:"global",except:"china"},{Name:"SINAWEIBO",country:"China"},{Name:"XING",country:"Germany"},{Name:"PINTEREST",country:"global",except:"china"},{Name:"LINE",country:"global"},{Name:"AOL",country:"US"}],i=0;i<t.length;i++)for(var n=0;n<o.length;n++)if(o[n]&&o[n].Name.toLowerCase()===t[i].Name.toLowerCase()){if(t[i].country.toLowerCase()===e.toLowerCase()||"global"===t[i].country.toLowerCase()&&!t[i].except||t[i].except&&t[i].except.toLowerCase()!==e.toLowerCase())continue;o.splice(n,1)}return o}(O.options.providerCountry,t)),O.$hooks.call("socialInterfaceProviders",t),O.options.providersList&&(o=O.options.providersList);var i=O.options.hashTemplate?O.util.hashTmpl:O.util.tmpl,n=R.split(","),a=O.util.getQueryParameterByName("scope");""===O.options.scope&&a&&(O.options.scope=a);var r="&callback="+O.options.callbackUrl+"&same_window="+O.options.callbackInsideSameWindow+"&is_access_token="+O.options.accessTokenResponse+"&callbacktype="+O.options.callbackType+"&disablesignup="+O.options.disableSignup;-1===r.indexOf("scope")&&(r+="&scope="+O.options.scope),O.options.isMobile&&(r+="&ismobile=true"),E&&(r+="&ac_linking=true"),O.options.isCustomScope&&(r+="&is_custom_scope=true");for(var s=O.util.getThisObjectName(),l=0;l<n.length;l++){var c=O.util.elementById(n[l]);if(c)-1!==c.innerHTML.indexOf("ac_linking")&&(r=r.replace("&ac_linking=true",""));var u=[];A[l]="";for(var d=0;d<t.length;d++){t[d].ObjectName=s,-1===t[d].Endpoint.indexOf("callback=")&&(t[d].Endpoint+=r);var p={islinked:!1,providerId:!1};b&&b[t[d].Name.toLowerCase()]&&(p.islinked=!0,p.providerId=b[t[d].Name.toLowerCase()]),t[d].isLinked=p.islinked,t[d].providerId=p.providerId;var m=O.options.unLinkAccountCallbackUrl||window.location.href;m+=-1===m.indexOf("?")?"?":"&";var g=t[d];u.push(g)}for(var f=[],h=0;h<u.length;h++)u[h].isLinked&&f.push(u[h]);if(0<f.length){for(var v=0;v<u.length;v++)u[v].isLinked||f.push(u[v]);u=f}for(var y=0;y<u.length;y++)""!==n[l]&&(void 0!==o&&-1===o.indexOf(u[y].Name)&&-1===o.indexOf(u[y].Name.toLowerCase())||(A[l]+=i(n[l],u[y])))}for(var w=O.options.selector.split(","),k=0;k<w.length;k++){var C=w[k];if(0===C.indexOf(".")){C=C.replace(".","");var L=O.util.elementsByClass(C);if(L&&0<L.length)for(var T=0;T<L.length;T++)P?L[T].innerHTML+=A[k]:L[T].innerHTML=A[k]}else if(""!==C){var S=O.util.elementById(C);S&&(P?S.innerHTML+=A[k]:S.innerHTML=A[k])}}}var A=[];o?t(o):void 0!==O.options.SocialSchema&&t(O.options.SocialSchema.Providers)},I.mapRegistrationSchema=function(e,o,t){var i=O.util.parseQueryString(o),n={},a={},r={},s=[];for(var l in i){if(-1!==l.indexOf("cf_"))n[l.replace("cf_","")]=i[l],delete i[l];else if("emailsubscription"===l)i.IsEmailSubscribed=!("on"!==i[l]&&"true"!==i[l]),delete i[l];else if("emailid"===l||"email"===l)a.value=i[l],a.type="Primary";else if("SecurityQuestionAnswer"!==l&&-1!==l.indexOf("securityQuestion")){for(var c={},u=0;u<O.options.securityQuestionsCount;u++)i["securityAnswer"+u]&&i["securityQuestion"+u]&&(c[i["securityQuestion"+u]]=i["securityAnswer"+u]),delete i["securityQuestion"+u],delete i["securityAnswer"+u];0!==Object.keys(c).length&&(i.SecurityQuestionAnswer=c)}else if("country"===l)r=-1!==i[l].indexOf("|")?{code:i[l].split("|")[0],name:i[l].split("|")[1]}:{code:"",name:i[l]};else{var d=O.util.findInSchema(e,"name",l);if(d&&d.Parent){var p=-1!==l.indexOf("_")?l.split("_")[1]:l;if(void 0===i[d.Parent]){i[d.Parent]=[];var m={};m[p]=i[l],"Addresses"===d.Parent?m.type="personal":"PhoneNumbers"!==d.Parent||m.phonetype||(m.phonetype="default"),i[d.Parent].push(m)}else"Addresses"!==d.Parent||i[d.Parent][0].type||(i[d.Parent][0].type="personal"),i[d.Parent][0][p]=i[l];delete i[l]}}}return 0!==Object.keys(n).length&&(i.CustomFields=n),0!==Object.keys(a).length&&(s.push(a),i.email=s),0!==Object.keys(r).length&&(i.country=r),i};var s=!(I.showQRCode=function(e,o,t,i,n,a,r){var s=O.QRCodeSchema.slice();O.options.maskSensitiveInput?s[0].type="password":s[0].type="string";function l(e,o){if(e&&s.splice(0,0,{type:"image",name:"qrcode",display:"QR Code",rules:"",permission:"r",value:e}),o){var t=n||LoginRadiusDefaults.classPrefix;s.splice(1,0,{type:"button",name:"ManualEntryCode",display:"Get Manual Entry Code",rules:"",permission:"r",title:"Use this code when you unable to scan QR code. Tap 'Enter a provided key' then enter the email address of your Account and enter this key in your authenticator app",event:"click",eventCallback:function(e){document.getElementsByClassName("content-"+t+"ManualEntryCode")[0].innerHTML=o}})}}var c,u,d=!0,p=new LoginRadiusControllers(O,I);if(e.SecondFactorAuthentication)c=e.SecondFactorAuthentication.QRCode,u=e.SecondFactorAuthentication.ManualEntryCode,e.SecondFactorAuthentication.IsGoogleAuthenticatorVerified||l(c,u);else if(d=!1,c=e.QRCode,u=e.ManualEntryCode,e.IsGoogleAuthenticatorVerified){if("false"!==O.storage.getBrowserStorage(LoginRadiusDefaults.storedOTPAuth)&&O.options.twoFactorAuthentication||O.options.optionalTwoFactorAuthentication){var m=O.util.getButtonAttribute("disablegoogleauthenticator",n);O.util.addHTMLContent(o,m),O.util.addEvent("click",m,function(e){p.resetTwoFactorAuthenticationController("googleauthenticator",t,i)})}}else d=!0,l(c,u);d&&I.createForm(s,"showQRcode",o,function(e){p.verify2FAOTPController(e,t,i,a,r)},function(e){i(e)},n)});I.socialLogin=function(t,i,n,a){var r=new LoginRadiusControllers(O,I);window.html5passToken=function(e){if(!s){s=!0,t=LoginRadiusDefaults.socialRegFormId||t;var o=O.storage.getBrowserStorage("LRSetSafariToken");o&&(O.$hooks.call("getCurrentActionOptions",o),i=window.LRSafarionSuccess||i,n=window.LRSafarionError||n),r.socialLoginReceiveToken(e,t,i,n,a)}};var e=O.util.getHashParam("lr-token");e&&window.html5passToken(e),O.loginRadiusHtml5PassToken=window.html5passToken,O.options.isMobile||O.options.noCallbackForSocialLogin?O.$hooks.register("socialCalls",function(e,o){if(O.options.noCallbackForSocialLogin){I.pingForSmartLogin(o,function(e){e.access_token?r.socialLoginReceiveToken(e.access_token,t,i,n,a):i(e)},function(){})}}):O.util.addEvent("message",window,function(e){-1===e.origin.indexOf(O.options.customDomain)&&-1===e.origin.indexOf(LoginRadiusDefaults.hubDomain)||(t=LoginRadiusDefaults.socialRegFormId||t,"string"==typeof e.data&&LoginRadiusDefaults._uuidFormat.test(e.data)&&r.socialLoginReceiveToken(e.data,t,i,n,a))})},I.resetPassword=function(o,t,i,n,a){var r,s,e=O.resetPasswordFormSchema.slice(),l=new LoginRadiusControllers(O,I);if(null==O.util.getHashParam("vtype")){var c,u;if(e=O.resetPasswordByPhoneSchema.slice(),I.setPasswordRule(O.util.findInSchema(e,"name","password")),a)a.email?(c="email",u=a.email):a.username&&(c="username",u=a.username),e.push({type:"hidden",name:c,value:u});else if(O.options.phoneLogin&&(s="&"+LoginRadiusDefaults.LRPhoneNo,!O.util.findInSchema(e,"name","resendotp"))){var d=Object.assign({},O.btnOTPSchema,{name:"resendotp",display:"Resend OTP",eventCallback:function(e){l.forgotPasswordbyPhoneController(LoginRadiusDefaults.LRPhoneNo,o,t,i,n,function(){})}});e.push(d)}}else{I.setPasswordRule(O.util.findInSchema(e,"name","password")),I.setPasswordRule(O.util.findInSchema(e,"name","confirmpassword"));var p=O.util.getHashParam("vtoken");if(p)if(O.options.verifyEmailByOTP){var m=O.util.getQueryParameterByName("email");r="&otp="+p,r+="&email="+encodeURIComponent(m.replace(/ /g,"+")),e.splice(2,1)}else O.resetPasswordFormSchema[2].value=p;else i([{Message:"Verification Token not found in query string."}])}I.createForm(e,"resetpassword",o,function(e){-1===e.indexOf("otp")||a?(r&&(e+=r),l.resetPasswordController(e,t,i,o,n)):l.resetPasswordByPhoneController(e+s,t,i,o,n)},function(e){i(e)},n)},I.setPasswordRule=function(e,o){O.options.passwordLength=O.options.passwordlength||O.options.passwordLength;var t=O.util.findInSchema(O.options.RegistrationFormSchema,"name","password").rules;if(e&&e.rules){var i=new RegExp(/matches\[\w*\]/).exec(e.rules);if(i){var n=i[0];e.rules=[t,n].join("|")}else e.rules=t;O.options.passwordLength&&O.options.passwordLength.min&&O.options.passwordLength.max&&(e.rules=e.rules||"",e.rules=e.rules.replace("min_length[6]","min_length["+O.options.passwordLength.min+"]").replace("max_length[32]","max_length["+O.options.passwordLength.max+"]"))}(o=o||!1)&&e&&(e.rules="required")},I.changeNumberForm=function(o,e,t,i,n,a,r,s){var l=O.util.getButtonAttribute("changenumber",n),c=O.util.getButtonAttribute("disableotpauthenticator",n),u=O.storage.getBrowserStorage(LoginRadiusDefaults.storedGAAuth),d=O.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);e?(e.appendChild(l),d&&!O.LRCheckLogin&&(O.options.optionalTwoFactorAuthentication||"false"!==u&&O.options.twoFactorAuthentication)&&e.appendChild(c)):(O.util.addHTMLContent(o,l,a),d&&!O.LRCheckLogin&&(O.options.optionalTwoFactorAuthentication||"false"!==u&&O.options.twoFactorAuthentication)&&O.util.addHTMLContent(o,c,!0)),O.util.addEvent("click",c,function(e){new LoginRadiusControllers(O,I).resetTwoFactorAuthenticationController("otpauthenticator",t,i)}),O.util.addEvent("click",l,function(e){document.getElementsByName(n+"changePhone")[0]||I.updatePhoneNumber(o,t,i,n,"changePhone",r,s)})},I.validateAndCall=function(e){LoginRadiusDefaults.isSSOInitFired?O.options.appName?e():O.log("LoginRadius site name (app name) required to do SSO"):O.log("Init method should be called first then login.")},I.logout=function(i){I.validateAndCall(function(){var e=O.options.tokenExpire?"?tokenExpire=1":"",o=O.options.tokenExpire?"tokenExpire":"logout",t=O.options.customDomain||O.options.appName+"."+LoginRadiusDefaults.hubDomain;O.util.jsonpCall("https://"+t+"/ssologin/"+o+e,function(e){LRNameSpace.cookies.removeItem(LoginRadiusDefaults.tokenCookie,O.options.appPath),O.clearSession(),i&&i()},"logout")})},I.otpEmailVerification=function(t,i,n,a,r){var e=O.otpSchema;I.createForm(e,"otp",t,function(e){var o="";o="string"!=typeof r?(e=O.util.parseQueryString(e),O.util.mergeOptions(r,e)):r+"&"+e,new LoginRadiusControllers(O,I).emailVerificationController(o,i,n,t,a,!0)},function(e){n(e)},a)},I.loginHandleToken=function(e,o,t,i,n,a){if(LoginRadiusDefaults.lrResponseCounter=0,LoginRadiusDefaults.lrCounterJwtResponse="",LoginRadiusDefaults.lrCounterTokenResponse="",e)if(e.ErrorCode)i(I.loginRadiusErrorTojsError(e));else{if(e.Data&&e.Data.hasOwnProperty("Profile")&&(delete(e=e.Data).Data,delete e.IsPosted),O.options.privacyPolicyConfiguration.IsEnabled&&e.Profile){var r=!1;e.Profile.PrivacyPolicy&&e.Profile.PrivacyPolicy.Version&&(r=I.checkForLatestPrivacyPolicy(e.Profile)),e.Profile=Object.assign({},e.Profile,{IsLatestPrivacyPolicy:r})}function s(){O.LoginRadiusHostedPage&&LRNameSpace.cookies.setItem("lr-session-token",e.access_token),LoginRadiusDefaults.lrResponseCounter++,LoginRadiusDefaults.lrCounterTokenResponse=e,O.options.tokenType&&"jwt"===O.options.tokenType.toLowerCase()?2===LoginRadiusDefaults.lrResponseCounter&&(e.jwttoken=LoginRadiusDefaults.lrCounterResponse.signature,null!=o&&""!==o?t(e,O.util.parseQueryString(o)):t(e)):null!=o&&""!==o?t(e,O.util.parseQueryString(o)):t(e)}var l=O.storage.getBrowserStorage("LRSetSafariToken");if(O.storage.removeBrowserStorage("LRSetSafariToken"),O.setHostedToken||l)t(e);else{var c=O.registrationFormSchema&&0<O.registrationFormSchema.length?O.registrationFormSchema:O.options.RegistrationFormSchema,u=O.util.findInSchema(c,"name","phoneid"),d=u&&-1!==u.rules.indexOf("required")&&O.options.phoneLogin,p=e.Profile||e.Data,m=!(O.options.disabledEmailVerification||O.options.optionalEmailVerification);if(p&&!p.EmailVerified&&m&&!a)i([I.setMappedMessage(D.emailNotVerified)]);else if(d&&p&&!p.PhoneIdVerified&&!a)if(p.PhoneId){var g={phone:p.PhoneId},f=O.currentLRContainer,h=new LoginRadiusControllers(O,I),v=n+LoginRadiusDefaults.idPrefix+"recaptcha_widget_verifyotp";h.resendOTPController(g,function(){I.verifyOTP("phone="+p.PhoneId,f,t,i,n),I.resendOTP("phone="+p.PhoneId+"&noPhoneVerified=false",f,t,i,n)},i,v,f,n)}else O.log("Phone ID is required field.");else{if(p&&p.Uid&&O.storage.setBrowserStorage(LoginRadiusDefaults.storedUidName,p.Uid),O.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,e.access_token),LoginRadiusDefaults.isSSOInitFired&&e.access_token){I.setToken(e.access_token);var y=navigator.userAgent.toLowerCase(),w=!!(-1===y.indexOf("crios")&&-1===y.indexOf("chrome")&&0<=y.indexOf("safari")),k=/ipad|iphone|ipod/.test(y)&&!window.MSStream,C=0<=y.indexOf("ucbrowser"),L=/crios/i.test(y),T=O.options.customDomain||O.options.appName+"."+LoginRadiusDefaults.hubDomain,S=O.util.getQueryParameterByName("vtype"),b=O.util.getQueryParameterByName("vtoken"),R=window.location.href;if(S&&(R=R.replace("?vtype="+S,"").replace("&vtype="+S,"")),b&&(R=R.replace("&vtoken="+b,"").replace("?vtoken="+b,"")),R=encodeURIComponent(R),w||k&&C||k&&L){O.options.askRequiredFieldForTraditionalLogin||O.storage.setBrowserStorage("LRTraditionalLogin",!0),O.$hooks.call("setCurrentAction");var P=O.options.safariHttpsEnable?"https":"http";if(O.options.stayLogin){var E=O.storage.getBrowserStorage("lr-rememberme");O.storage.removeBrowserStorage("lr-rememberme"),window.location=P+"://"+T+"/ssologin/setCustomSafariToken?token="+e.access_token+"&apiKey="+O.options.apiKey+"&isrememberMe="+E+"&callback="+R}else window.location=P+"://"+T+"/ssologin/setSafariToken?token="+e.access_token+"&apiKey="+O.options.apiKey+"&callback="+R}else{var A="",F="setToken";O.options.stayLogin&&(A="&isrememberMe="+O.storage.getBrowserStorage("lr-rememberme"),O.storage.removeBrowserStorage("lr-rememberme"),F="setCustomToken"),O.util.jsonpCall("https://"+T+"/ssologin/"+F+"?token="+e.access_token+"&apiKey="+O.options.apiKey+A,function(){s()},"","setToken")}}else s();O.options.tokenType&&"jwt"===O.options.tokenType.toLowerCase()&&I.getJwtToken(e.access_token,t,i)}}}},I.getJwtToken=function(e,o,t){O.util.ajaxCall("get",LoginRadiusDefaults.cloudApiDomain+"/sso/jwt/api/token?apikey="+O.options.apiKey+"&jwtapp="+O.options.integrationName+"&access_token="+e,"",function(e){LoginRadiusDefaults.lrResponseCounter++,LoginRadiusDefaults.lrCounterJwtResponse=e,2===LoginRadiusDefaults.lrResponseCounter&&(e.ErrorCode?t(e):(LoginRadiusDefaults.lrCounterTokenResponse.jwttoken=e.signature,o(LoginRadiusDefaults.lrCounterTokenResponse)))},"JWTToken")},I.mapSchema=function(o,e,t,i){e=O.util.keysToLowerCase(e);var n=[];Object.keys(o).forEach(function(e){n.push(o[e])});for(var a=0;a<o.length;a++)if(null!=o[a])if("emailid"===o[a].name.toLowerCase()&&e.email&&e.email[0]&&e.email[0].value&&""!==e.email[0].value){if(e.emailverified||(O.options.disabledEmailVerification||O.options.optionalEmailVerification)&&!O.options.askEmailForUnverifiedProfileAlways){n[a].value=e.email[0].value,o[a]=null;continue}if(!O.options.askEmailForUnverifiedProfileAlways||O.setHostedToken){n[a]=o[a]=null;continue}}else if("country"===o[a].name.toLowerCase()&&""===o[a].Parent&&e.country&&null!=e.country.name&&""!==e.country.name&&"unknown"!==e.country.name.toLowerCase())n[a].value=e.country.name,e.country.code&&(n[a].value=e.country.code+"|"+n[a].value),o[a]=null;else if("emailsubscription"===o[a].name.toLowerCase()&&e.isemailsubscribed&&""!==e.isemailsubscribed)n[a].value=e.isemailsubscribed,o[a]=null;else if("phoneid"===o[a].name.toLowerCase()&&e.phoneid&&""!==e.phoneid)n[a].value=e.phoneid.replace("+",""),o[a]=null;else if("birthdate"===o[a].name.toLowerCase()&&e.birthdate&&""!==e.birthdate){var r=e.birthdate.replace("-","/").replace("-","/").split("/");if(r[2]&&""!==r[2]){n[a].value=e.birthdate,o[a]=null;continue}}else if("password"===o[a].name.toLowerCase()||"confirmpassword"===o[a].name.toLowerCase()){if(null!=e.password||!O.options.promptPasswordOnSocialLogin&&!O.options.promptPasswordOnFirstLoginForSocial){n[a]=o[a]=null;continue}}else if(""!==o[a].Parent&&void 0!==o[a].Parent&&null!==o[a].Parent){if(o[a].Parent&&e[o[a].Parent.toLowerCase()]&&void 0!==e[o[a].Parent.toLowerCase()]){var s=-1!==o[a].name.indexOf("_")?o[a].name.split("_")[1]:o[a].name,l=Object.keys(e[o[a].Parent.toLowerCase()]).length-1;if("object"!=typeof e[o[a].Parent.toLowerCase()]||!e[o[a].Parent.toLowerCase()][l]||!e[o[a].Parent.toLowerCase()][l][s.toLowerCase()]){n[a].value=e[o[a].Parent.toLowerCase()][o[a].name.toLowerCase()],o[a]=null;continue}if(null!=e[o[a].Parent.toLowerCase()][l][s.toLowerCase()]&&void 0!==e[o[a].Parent.toLowerCase()][l][s.toLowerCase()]&&"unknown"!==e[o[a].Parent.toLowerCase()][l][s.toLowerCase()]){n[a].value=e[o[a].Parent.toLowerCase()][l][s.toLowerCase()],o[a]=null;continue}}}else{if(0===o[a].name.indexOf("cf_")&&e.customfields&&e.customfields[o[a].name.replace("cf_","").toLowerCase()]){n[a].value=e.customfields[o[a].name.replace("cf_","").toLowerCase()],o[a]=null;continue}o[a].name&&"object"!=typeof e[o[a].name.toLowerCase()]&&null!=e[o[a].name.toLowerCase()]&&""!==e[o[a].name.toLowerCase()]&&void 0!==e[o[a].name.toLowerCase()]&&"unknown"!==e[o[a].name.toLowerCase()]&&(n[a].value=e[o[a].name.toLowerCase()],o[a]=null)}if(o=o.filter(function(e){return e}),t&&"profileeditor"===t&&!e.ErrorCode)return n=n.filter(function(e){return e});for(var c=0;c<o.length;c++)if(null!=o[c].rules&&""!==o[c].rules&&-1<o[c].rules.indexOf("required")||O.options.askOptionalFieldsOnRegistration&&!0===e.firstlogin&&"email"!==e.registrationprovider.toLowerCase()||O.options.askOptionalFieldsOnProgressiveSteps&&i)return t&&!e.ErrorCode?n=n.filter(function(e){return e}):o;return[]},I.loginRadiusErrorTojsError=function(e){var o=[];return o.push(I.setMappedMessage(e)),o},I.setMappedMessage=function(e){for(var o=0;o<O.errorMessages.length;o++)O.errorMessages[o].code==e.ErrorCode&&(e.Message=O.errorMessages[o].message||e.Message,e.Description=O.errorMessages[o].description||e.Description);return e},I.setCustomLabel=function(e){for(var o=0;o<e.length;o++)e[o]&&O.formCustomLabel[e[o].name]&&(e[o].display=O.formCustomLabel[e[o].name])},I.setCustomTitle=function(e){for(var o=0;o<e.length;o++)e[o]&&O.formElementsTitle[e[o].name]&&(e[o].title=O.formElementsTitle[e[o].name])},I.setPlaceholder=function(e){for(var o=0;o<e.length;o++)e[o]&&O.formPlaceholder[e[o].name]&&(e[o].placeholder=O.formPlaceholder[e[o].name])},I.setValidation=function(e){O.formValidations[e.name]&&(e.rules=O.formValidations[e.name])},I.setAttribute=function(e,o){if(O.formElementAttributes[e.name])for(var t=O.formElementAttributes[e.name].split("&"),i=0;i<t.length;i++){var n=t[i].split("="),a=n.splice(0,1),r=n.join("=");o.setAttribute(a,r)}},I.verifyOTP=function(i,e,n,a,o,r,s){var l=!1,t="otp";O.LRCheck2FA&&(O.options.twoFactorAuthentication||O.options.optionalTwoFactorAuthentication)&&!O.LRCheckRegistration&&(l=!0,t="twofaotp");var c=O.otpSchema;I.createForm(c,t,e,function(e){var o,t=new LoginRadiusControllers(O,I);l?t.verify2FAOTPController(e,n,a,r,s):(("string"==typeof i||i instanceof String)&&(i=O.util.parseQueryString(i)),e=O.util.parseQueryString(e),i.phone?o={phone:i.phone}:(i.phoneid||i.phoneId)&&(o={phone:i.phoneid||i.phoneId}),i.onetouchloginflag&&(e.onetouchloginflag=!0),i.haveToken&&(e.haveToken=!0),t.verifyOTPController(e,o,n,a,r,s))},function(e){a(e)},o)},I.resendOTP=function(e,o,t,i,n,a,r){var s={},l=!0;("string"==typeof e||e instanceof String)&&(e=O.util.parseQueryString(e)),e.noPhoneVerified&&(l=!1);var c=!0;e.phoneid||e.phoneId?(c=!1,s={phone:e.phoneid||e.phoneId}):e.phone?(O.socialLoginFlag||(c=!1),s=e):e.phoneNo2FA||e.phoneno2fa?s={phoneno2fa:e.phoneNo2FA||e.phoneno2fa}:e.SecondFactorAuthentication&&e.SecondFactorAuthentication.OTPPhoneNo&&(s={phoneno2fa:e.SecondFactorAuthentication.OTPPhoneNo});var u=O.util.getButtonAttribute("resendotp",n),d=n||LoginRadiusDefaults.classPrefix,p=c?"twofaotp":"otp",m=document.getElementsByName(d+p)[0];m||(p="twofaotp"===p?"otp":"twofaotp",m=document.getElementsByName(d+p)[0]),m&&m.appendChild(u),!O.LRCheckLogin||!c||l&&"false"!==O.storage.getBrowserStorage(LoginRadiusDefaults.storedOTPAuth)||I.changeNumberForm(o,m,t,i,d,"",a,r),e.onetouchloginflag&&(s.onetouchloginflag=!0),e.updatePhone&&(s.updatePhone=!0),O.util.addEvent("click",u,function(e){I.resendOTPManually(s,o,t,i,d,a,r)})},I.sendInstantSignInLink=function(e,o,t,i,n){var a=O.util.parseQueryString(e),r=a.emailid||a.email;if(LoginRadiusDefaults.regexExpression.emailRegex.test(r)||O.options.usernameLogin||O.options.duplicateEmailWithUniqueUsername){var s;LoginRadiusDefaults.regexExpression.emailRegex.test(r)?s="email="+r:(O.options.usernameLogin||O.options.duplicateEmailWithUniqueUsername)&&(s="username="+r);var l=O.options.instantLinkLoginEmailTemplate||O.options.passwordlessLoginEmailTemplate;O.util.ajaxCall("GET",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/email?apiKey="+O.options.apiKey+"&verificationUrl="+O.options.verificationUrl+"&passwordlesslogintemplate="+l+"&"+s,"",function(e){window.lrpasswordlessloginotp=!1,window.lrpasswordlesslogin=!1,e.ErrorCode?t(I.loginRadiusErrorTojsError(e)):o(e)},"passwordlessLogin")}else t([I.setMappedMessage(D.invalidEmail)])},I.sendInstantSignInOtp=function(i,n,a,r,s){var e=O.util.parseQueryString(i),o=e.emailid||e.email;if(LoginRadiusDefaults.regexExpression.phoneRegex.test(o)){var l="phone="+o;O.util.ajaxCall("GET",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/otp?apiKey="+O.options.apiKey+"&"+l,"",function(e){if(window.lrpasswordlessloginotp=!1,window.lrpasswordlesslogin=!1,e.ErrorCode)a(I.loginRadiusErrorTojsError(e));else if(n(e),e.Data&&e.Data.Sid){var t=new LoginRadiusControllers(O,I);O.$hooks.register("beforeFormRender",function(e,o){if(!O.util.findInSchema(o,"name","resendotp")){var t=Object.assign({},O.btnOTPSchema,{name:"resendotp",display:"Resend OTP",eventCallback:function(e){I.sendInstantSignInOtp(i,n,a,r,s)}});o.push(t)}});var o=O.otpSchema;I.createForm(o,"otp",r,function(e){var o=s+LoginRadiusDefaults.idPrefix+"recaptcha_widget_verifyotp";t.verifyInstantOTP(e,O.util.parseQueryString(l),n,a,o,r,s)},function(e){a(I.setMappedMessage(e))},s)}},"passwordlessLogin")}else a([I.setMappedMessage(D.invalidPhone)])},I.resendOTPManually=function(e,o,t,i,n,a,r){var s=n+LoginRadiusDefaults.idPrefix+"recaptcha_widget_verifyotp",l=new LoginRadiusControllers(O,I);O.LRCheck2FA&&(O.options.twoFactorAuthentication||O.options.optionalTwoFactorAuthentication)&&!O.LRCheckRegistration?"false"===O.storage.getBrowserStorage(LoginRadiusDefaults.storedOTPAuth)?l.update2FAPhoneNumberController(e,o,t,i,n,a,r):l.resendOTP2FAController(e,t,i,s,o,n):l.resendOTPController(e,t,i,s,o,n)},I.updatePhoneNumber=function(t,i,n,a,e,r,s){O.LRCheck2FA&&(O.options.twoFactorAuthentication||O.options.optionalTwoFactorAuthentication)&&(O.checkPhoneNumberSchema[0].name="phoneNo2FA"),a=a||LoginRadiusDefaults.classPrefix,document.getElementsByName(a+"showQRcode")[0]&&(LoginRadiusDefaults.innerHTML=!0);var o=e||"updatePhone";I.createForm(O.checkPhoneNumberSchema,o,t,function(e){var o=new LoginRadiusControllers(O,I);-1===e.indexOf("phone=")&&(O.options.twoFactorAuthentication||O.options.optionalTwoFactorAuthentication)?o.update2FAPhoneNumberController(e,t,i,n,a,r,s):o.updatePhoneNumberController(e,t,i,n,a,r,s)},function(e){n(e)},a)},I.pingForSmartLogin=function(o,t,i){var n=O.options.autoLoginPingInterval||O.options.smartLoginPingInterval,a=O.options.autoLoginPingCount||O.options.smartLoginPingCount;O.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/smartlogin/ping?apiKey="+O.options.apiKey+"&clientGuid="+o,"",function(e){1139===e.ErrorCode||1140===e.ErrorCode?setTimeout(function(){LoginRadiusDefaults.pingCount<a&&(I.pingForSmartLogin(o,t,i),LoginRadiusDefaults.pingCount++)},1e3*n):e.ErrorCode&&1139!==e.ErrorCode?(i(e),LoginRadiusDefaults.pingCount=0):(LoginRadiusDefaults.pingCount=0,t(e))},"pingSmartLogin")},I.addChangeEventHandler=function(c,e,o,u){O.util.addEvent("change",document.getElementById(u+"registration-"+e.name),function(e){O.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/registrationdata/"+o.DataSource+"?apiKey="+O.options.apiKey+"&parentId="+this.value,"",function(e,o){var t=document.getElementById(u+"registration-"+e.name);if(o.ErrorCode)for(var i=1;i<t.options.length;i++)t.options[i]=null;else for(var n=0;n<o.length;n++)if(0===n&&1<t.options.length){for(var a=1;a<t.options.length;a++)t.options[a]=null;var r=document.createElement("option");r.setAttribute("value",o[n].Id),r.appendChild(document.createTextNode(o[n].Key)),t.appendChild(r)}else{var s=document.createElement("option");s.setAttribute("value",o[n].Id),s.appendChild(document.createTextNode(o[n].Key)),t.appendChild(s)}for(var l=0;l<e.children.length;l++)I.addChangeEventHandler(c,e,e.children[l],u)},"registration",o)})},I.createFormFields=function(e,i,u,o,t,n,a){var d;a=a||function(){};function r(e){var o=Math.random(),t=this.value,i=O.util.elementById(u+"-password-strength-meter"),n=O.util.elementById(u+"-password-strength-text");n.innerHTML="";var a=0;0<t.length&&(a++,t.match(/[a-z]/)&&t.match(/[A-Z]/)&&a++,t.match(/\d+/)&&a++,t.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)&&a++,12<t.length&&a++),i.value=a;var r=document.getElementsByClassName(u+"-password");if(0<r.length)for(var s=0;s<r.length;s++)r[s].parentNode.removeChild(r[s]);var l=O.util.elementById(o)?O.util.elementById(o):document.createElement("style");l.type="text/css",l.id=o,l.setAttribute("class",u+"-password");var c=-1!==navigator.userAgent.indexOf("Firefox");l.innerHTML=c?"#"+u+"-password-strength-meter::-moz-meter-bar { background: "+d[a].color+" !important; }":"#"+u+"-password-strength-meter::-webkit-meter-optimum-value { background: "+d[a].color+" !important; }",document.body.appendChild(l),""!==t&&0<a?(n.innerHTML="Strength: "+d[a].Message,n.style.color=""):""!==t&&(n.innerHTML=d[a].Message,n.style.color=d[a].color)}function s(e){""!==this.value.trim()&&new LoginRadiusControllers(O,I).checkPhoneNumberAvailabilityController("phone="+this.value,function(e){if(e.IsExist)for(var o=0;o<i.childNodes.length;o++)-1!==i.childNodes[o].getAttribute("class").indexOf("phoneid")&&(i.childNodes[o].childNodes[2].innerHTML="phone already exists, enter unique phone number");else for(var t=0;t<i.childNodes.length;t++)-1!==i.childNodes[t].getAttribute("class").indexOf("phoneid")&&(i.childNodes[t].childNodes[2].innerHTML="")},a)}for(var l,c,p,m=0;m<e.length;m++)if(e[m]){var g;switch(I.setValidation(e[m]),e[m].rules&&""!==e[m].rules&&-1<e[m].rules.indexOf("custom_validation")&&-1===e[m].rules.indexOf("callback_custom_validation")&&(e[m].rules=e[m].rules.replace(/custom_validation\b/g,"callback_custom_validation")),o[m]={},o[m].name=e[m].name,o[m].display=e[m].display,o[m].rules=e[m].rules,e[m].type){case"text":g=document.createElement("textarea");break;case"html":case"captcha":g=document.createElement("div");break;case"password":(g=document.createElement("input")).type="password";break;case"hidden":(g=document.createElement("input")).type="hidden",g.value=e[m].value||"";break;case"option":g=document.createElement("select");var f=document.createElement("option");if(f.appendChild(document.createTextNode("-- select --")),f.setAttribute("value",""),g.appendChild(f),null==e[m].DataSource&&null!=e[m].options){for(var h=0;h<e[m].options.length;h++){var v=document.createElement("option");v.setAttribute("value",e[m].options[h].value),"country"===e[m].name&&v.setAttribute("value",e[m].options[h].value+"|"+e[m].options[h].text),v.appendChild(document.createTextNode(e[m].options[h].text)),g.appendChild(v)}O.defaultOptionField[e[m].name]&&(g.value=O.defaultOptionField[e[m].name])}break;case"multi":(g=document.createElement("input")).type="checkbox";break;case"email":(g=document.createElement("input")).type="email";break;case"button":(g=document.createElement("input")).type="button",g.value=e[m].display;break;case"image":(g=document.createElement("img")).src=e[m].value,g.type="image";break;default:(g=document.createElement("input")).type="text"}if(e[m].title&&(g.title=e[m].title),e[m].disabled&&(g.disabled=e[m].disabled),I.setAttribute(e[m],g),e[m].placeholder&&(g.placeholder=e[m].placeholder),e[m].value&&("multi"===e[m].type?g.checked=!0:g.value=e[m].value),"html"===e[m].type){var y=document.createElement("div");y.setAttribute("class",t+"-form-element-content content-"+n+e[m].name),y.innerHTML=e[m].html,e[m].event&&O.util.addEvent(e[m].event,y,e[m].eventCallback),i.appendChild(y)}else if("captcha"===e[m].type){var w=document.createElement("div");if(w.setAttribute("class",t+"-form-element-content content-"+n+e[m].name),w.innerHTML=e[m].html,O.options.formValidationMessage){var k=document.createElement("div");k.setAttribute("id","validation-"+n+u+"-"+e[m].name),k.setAttribute("class",t+"validation-message validation-"+n+e[m].name),w.appendChild(k)}i.appendChild(w)}else{if(g.setAttribute("name",e[m].name),e[m].name&&("phoneid"===e[m].name.toLowerCase()||"phone"===e[m].name.toLowerCase())&&O.options.existPhoneNumber&&"registration"===u&&O.util.addEvent("blur",g,s),"emailid"===e[m].name&&O.util.addEvent("keyup",g,function(e){32===e.keyCode&&(this.value=this.value.trim())}),g.setAttribute("id",n+u+"-"+e[m].name),e[m].event&&O.util.addEvent(e[m].event,g,e[m].eventCallback),O.eventsName[g.id]){var C=O.eventsName[g.id];if(O.util.isArray(C))for(var L=0;L<C.length;L++)C[L].event&&C[L].eventCallback&&O.util.addEvent(C[L].event,g,C[L].eventCallback);else O.util.addEvent(C.event,g,C.eventCallback)}if("hidden"===e[m].type)i.appendChild(g);else if("button"===e[m].type){var T=document.createElement("div");T.setAttribute("class",t+"-form-element-content content-"+n+e[m].name),T.appendChild(g),i.appendChild(T)}else{var S=document.createElement("label");S.setAttribute("for",n+u+"-"+e[m].name),S.innerHTML=e[m].display,g.setAttribute("class",t+e[m].type+" "+n+e[m].name),e[m].rules&&-1!==e[m].rules.indexOf("required")&&(g.className+=" lr-required");var b=document.createElement("div");if(b.setAttribute("class",t+"-form-element-content content-"+n+e[m].name),"multi"===e[m].type?(b.appendChild(g),b.appendChild(S)):(b.appendChild(S),b.appendChild(g)),e[m].style&&0<e[m].style.length)for(var R=0;R<e[m].style.length;R++)b.style[e[m].style[R].key]=e[m].style[R].value;if(O.options.formValidationMessage){var P=document.createElement("div");P.setAttribute("id","validation-"+n+u+"-"+e[m].name),P.setAttribute("class",t+"validation-message validation-"+n+e[m].name),b.appendChild(P)}if(O.options.displayPasswordStrength&&("password"===g.name||"newpassword"===g.name)&&("registration"===u||"resetpassword"===u||"setpassword"===u||"changepassword"===u||"socialRegistration"===u||"loginRequiredFieldsUpdate"===u)){O.options.passwordLength&&O.options.passwordLength.min,O.options.passwordLength&&O.options.passwordLength.max;if(e[m].rules)for(var E=e[m].rules.split("|"),A=0;A<E.length;A++)-1<E[A].indexOf("min_length")?E[A].substring(11,E[A].length-1):-1<E[A].indexOf("max_length")&&E[A].substring(11,E[A].length-1);var F=document.createElement("meter");F.setAttribute("max","4"),F.setAttribute("id",u+"-password-strength-meter");var D=document.createElement("div");D.setAttribute("id",u+"-password-strength-text"),g.parentNode.appendChild(F),g.parentNode.appendChild(D),void 0,l={0:"worst",1:"bad",2:"weak",3:"good",4:"strong",5:"secure"},c={0:"#dd514c",1:"orange",2:"yellow",3:"#5eb95e",4:"blue",5:"violet"},p={0:"Worst",1:"Bad",2:"Weak",3:"Good",4:"Strong",5:"Secure"},d=function(){var e=[],o=O.passwordMeterConfiguration;for(var t in l)o[t]&&o[t].case?o[t].case.toLowerCase()===l[t]&&e.push({color:o[t].color?o[t].color:c[t],Message:o[t].message?o[t].message:p[t]}):e.push({color:c[t],Message:p[t]});return e}(),O.util.addEvent("keyup",g,r)}i.appendChild(b)}}}},I.setToken=function(e){LRNameSpace.cookies.setItem(LoginRadiusDefaults.tokenCookie,e,"",O.options.appPath)},I.resetGoogleCaptcha=function(e,o){if(O.options.optionalRecaptchaConfiguration.IsEnabled&&"registration"!==e){var t=O.util.elementById(o,!0);window.grecaptcha&&t&&""!==t.innerHTML&&grecaptcha.reset(window[o+"lr_recaptcha_widgets_idprefix"])}},I.createForm=function(e,u,o,d,p,m){var t,g=m||LoginRadiusDefaults.idPrefix,f=m||LoginRadiusDefaults.classPrefix;if(O.LRPrefix=m+"##"+LoginRadiusDefaults.idPrefix,"Captcha"===O.options.loginLockedType&&"registration"!==u||O.options.optionalRecaptchaConfiguration.IsEnabled){var i=O.options.optionalRecaptchaConfiguration.Apis;("Captcha"===O.options.loginLockedType||i&&function(e,o){var t=e.toLowerCase();return"changepassword"===t&&o.PutChangePassword||("profileeditor"===t||"loginRequiredFieldsUpdate"===t||"progressiveProfiling"===t||"socialRegistration"===t)&&o.PutUpdateProfile||"forgotpassword"===t&&(O.options.phoneLogin&&o.PostForgotPasswordByPhone&&o.PostForgotPasswordByEmail||!O.options.phoneLogin&&o.PostForgotPasswordByEmail)||"login"===t&&(O.options.usernameLogin&&o.PostLoginByUserNameAndPassword&&O.options.phoneLogin&&o.PostLoginByEmailAndPassword&&o.PostLoginByPhoneAndPassword||O.options.phoneLogin&&o.PostLoginByEmailAndPassword&&o.PostLoginByPhoneAndPassword||!O.options.phoneLogin&&O.options.usernameLogin&&o.PostLoginByUserNameAndPassword||!O.options.usernameLogin&&!O.options.phoneLogin&&o.PostLoginByEmailAndPassword)}(u,i))&&(t=m+LoginRadiusDefaults.idPrefix+"recaptcha_widget_"+u.toLowerCase(),O.util.addRecaptchaJS(),O.util.captchaSchema(t,e))}if(O.$hooks.call("beforeFormRender",u,e),LoginRadiusDefaults._uuidFormat.test(O.options.apiKey)){if(LoginRadiusDefaults.isRegFormSchemaLock=!1,LoginRadiusDefaults.isSecurityFormSchemaLock=!1,I.setCustomLabel(e),I.setPlaceholder(e),I.setCustomTitle(e),0<e.length){var n=[],h=document.createElement("form");h.setAttribute("name",g+u),h.setAttribute("method","POST"),I.createFormFields(e,h,u,n,f,g,p);var a,r=document.createElement("input"),s=O.buttonsName[u.toLowerCase()]||w[u.toLowerCase()],l=w[u.toLowerCase()].toLowerCase().replace(/ /g,"-");if(r.type="submit",r.value=s,r.id=g+"submit-"+l,r.setAttribute("class",f+"submit submit-"+g+l),O.options.disableButtonOnsubmit)O.$hooks.register("eventCalls",function(e){window.lrpasswordlessloginotp||window.lrpasswordlesslogin||(a=e)}),O.$hooks.register("startProcess",function(e){a===u&&(r.disabled=!0)}),O.$hooks.register("xhrEndWithError",function(e){a===u&&(r.disabled=!1)}),O.$hooks.register("xhrEndWithSuccess",function(e){a===u&&O.options.enableSubmitOnSuccess&&(r.disabled=!1)});h.appendChild(r),O.options.passwordlessLogin&&"login"===u&&C("passwordlessloginbuttonlabel",h,r,g,f),O.options.passwordlessLoginOTP&&"login"===u&&C("passwordlessLoginOTPButtonLabel",h,r,g,f),O.util.addHTMLContent(o,h,LoginRadiusDefaults.innerHTML),O.$hooks.call("afterFormRender",u,o,f,h),LoginRadiusDefaults.innerHTML=!1;var c,v=new FormValidator(g+u,n,function(e,o){var t=document.getElementsByTagName("form"),i="";if(t[g+u])i=t[g+u];else if("object"==typeof t)for(var n=0;n<t.length;n++)if(t[n].name===g+u){i=t[n];break}O.currentLRContainer=i.parentElement.id,O.$hooks.call("eventCalls",u,f),O.mergeFormErrors&&0<O.mergeFormErrors.length&&(e=O.util.mergeObjects(e,O.mergeFormErrors));for(var a=O.util.elementsByClass(f+"validation-message"),r=0;r<a.length;r++)a[r].innerHTML="";var s=m+g+"recaptcha_widget";s+="_"+u.toLowerCase();var l=O.util.elementById(s+"_tencent");if(O.options.invisibleRecaptcha&&(window.onCaptchaSubmit=function(e){d(O.util.serialize(h)),grecaptcha.reset(window[s+"lr_recaptcha_widgets_idprefix"])}),l&&"none"!==l.style.display&&(O.options.tencentCaptcha||O.options.tencentCaptchaAsFallback&&!window.grecaptcha)&&0==e.length&&l.click(),0<e.length){O.$hooks.call("afterValidation",u);for(var c=0;c<e.length;c++)if(e[c].Id===g+""+u+"-password"&&"login"===u&&(O.options.passwordlessLogin&&window.lrpasswordlesslogin||O.options.passwordlessLoginOTP&&window.lrpasswordlessloginotp)){if(1===e.length||0===e.length)return k(h,d,s),I.resetGoogleCaptcha(u,s),!0}else O.options.formValidationMessage&&"resettoken"!==e[c].Name&&(O.util.elementById("validation-"+g+u+"-"+e[c].Name).innerHTML=e[c].Message);O.options.formValidationMessage||(p(e),I.resetGoogleCaptcha(u,s))}else k(h,d,s),I.resetGoogleCaptcha(u,s);o&&o.preventDefault?o.preventDefault():event&&(event.returnValue=!1)});if(O.validationMessages&&0<O.validationMessages.length)for(var y=0;y<O.validationMessages.length;y++)v.setMessage(O.validationMessages[y].rule,O.validationMessages[y].message),"valid_date"!==O.validationMessages[y].rule&&"callback_valid_date"!==O.validationMessages[y].rule||(c=O.validationMessages[y].message);v.registerCallback("valid_date",function(e){return function(e){var o=e.split("/");-1!==e.indexOf("-")&&(o=e.split("-"));var t=parseInt(o[1],10),i=parseInt(o[0],10),n=parseInt(o[2],10);if(n<1e3||3e3<n||0===i||12<i)return!1;var a=[31,28,31,30,31,30,31,31,30,31,30,31];return(n%400==0||n%100!=0&&n%4==0)&&(a[1]=29),0<t&&t<=a[i-1]}(e)}).setMessage("valid_date",c||"The %s field must contain a valid date."),v.registerCallback("custom_validation",function(e,o){return function(e,o){o=(o=o.split("###")[0]).split("or").join("|");try{return!!new RegExp(o,"g").test(e)}catch(e){return O.log("Invalid custom validation regex expression"),!1}}(e,o)}).setMessage("custom_validation","The %s field is not valid."),O.Validator=v}}else O.log("apiKey is not in valid guid format.");O.options.optionalRecaptchaConfiguration.IsEnabled&&"registration"!==u&&O.util.renderV2Recaptcha(t,!0)},I.isValidToken=function(e,o){return!!e||(o([I.setMappedMessage(D.tokenValid)]),!1)},I.checkForLatestPrivacyPolicy=function(e){for(var o=O.options.privacyPolicyConfiguration.PrivacyPolicies,t=(new Date).getTime(),i={},n=0;n<o.length;n++)new Date(o[n].StartDateTime).getTime()<t&&(O.util.isEmpty(i)||!O.util.isEmpty(i)&&new Date(i.StartDateTime).getTime()<new Date(o[n].StartDateTime).getTime())&&(i=o[n]);return i.Version===e.PrivacyPolicy.Version}}function LoginRadiusControllers(k,C){var L=LoginRadiusDefaults.messages,T=this;function n(e,o,t,i,n){o?k.util.ajaxCall(e,LoginRadiusDefaults.apiDomain+"/auth/customobject/"+t+"?apiKey="+k.options.apiKey+"&access_token="+o+"&objectname="+k.options.customObjectName,"",function(e){e.ErrorCode?n(C.loginRadiusErrorTojsError(e)):i(e)},"CustomObject"):n([C.setMappedMessage(L.twofaTokenValid)])}T.handleFeatures=function(e,o,t,i,n,a,r){var s=e.Profile;"string"!=typeof o&&(o=k.util.jsonToQueryString(o)),i&&k.options.periodicPasswordReset&&s.PasswordExpirationDate&&new Date(s.PasswordExpirationDate)<=new Date?(C.setPasswordRule(k.changePasswordFormSchema[1]),C.setPasswordRule(k.changePasswordFormSchema[2]),i(s,e)):t&&(k.options.askRequiredFieldForTraditionalLogin||LoginRadiusDefaults.autoFilledFieldforPasswordLesLogin)?function(e,o,t,i,n,a){var r,s;k.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,o.access_token),r=k.options,s=(s=JSON.parse(JSON.stringify(r))).RegistrationFormSchema,e.IsDeleted?a(C.loginRadiusErrorTojsError(e)):(k.options.autoFilledFieldForTraditional&&k.$hooks.register("beforeFormRender",function(e,o){if("loginRequiredFieldsUpdate"===e){var t=k.util.findInSchema(o,"name","emailid");t&&t.value&&(t.disabled=!0);var i=k.util.findInSchema(o,"name","phoneid");i&&i.value&&(i.disabled=!0)}}),k.registrationFormSchema=C.mapSchema(s,e,k.options.autoFilledFieldForTraditional),0<k.registrationFormSchema.length?(C.setPasswordRule(k.util.findInSchema(s,"name","password")),C.setPasswordRule(k.util.findInSchema(s,"name","confirmpassword")),k.$hooks.call("registrationSchemaFilter",s,e),i(e,o,o.access_token,t,n,a)):C.loginHandleToken(o,t,n,a))}(s,e,o,t,n,a):C.loginHandleToken(e,o,n,a,r)},T.verifyOTPController=function(o,e,t,i,n,a){var r=LoginRadiusDefaults.apiDomain+"/auth/phone/otp?apiKey="+k.options.apiKey+"&otp="+o.otp+"&smsTemplate="+k.options.smsTemplateWelcome;o.haveToken&&(r+="&access_token="+k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName)),o.onetouchloginflag&&(r=LoginRadiusDefaults.apiDomain+"/auth/onetouchlogin/phone/verify?apiKey="+k.options.apiKey+"&otp="+o.otp+"&smsTemplate="+k.options.smsTemplateOneTouchLoginWelcome),k.util.ajaxCall("put",r,e,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):o.onetouchloginflag&&!k.options.askRequiredFieldsOnPasswordLessLogin?C.loginHandleToken(e,"",t,i,"",!0):e.access_token?(LoginRadiusDefaults.autoFilledFieldforPasswordLesLogin=!0,T.handleFeatures(e,o,a,n,t,i)):t(e,o)},"verifyOTP")},T.updateSecurityQuestionController=function(e,o,t){for(var i=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),n=k.util.parseQueryString(e),a=0;a<k.options.securityQuestionsCount;a++)n[n["securityQuestion"+a]]=n["securityAnswer"+a],delete n["securityQuestion"+a],delete n["securityAnswer"+a];var r={SecurityQuestionAnswer:n};C.isValidToken(i,t)&&k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account?apikey="+k.options.apiKey+"&access_token="+i,r,function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"updateSecurityQuestion")},T.resetTwoFactorAuthenticationController=function(o,t,i){var e=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),n={};n[o]=!0,C.isValidToken(e,i)&&k.util.ajaxCall("delete",LoginRadiusDefaults.apiDomain+"/auth/account/2FA/authenticator?apikey="+k.options.apiKey+"&access_token="+e,n,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e,o)},"resetTwoFactorAuthentication")},T.forgotPasswordController=function(t,i,n,a,r){var e=k.options.forgotPasswordUrl||k.options.resetPasswordUrl;k.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/password?apiKey="+k.options.apiKey+"&resetPasswordUrl="+e+"&emailTemplate="+k.options.resetPasswordEmailTemplate,t,function(e){if(e.ErrorCode)a(C.loginRadiusErrorTojsError(e));else{var o=k.util.parseQueryString(t);n(e,o),k.options.otpEmailVerification&&!k.options.verifyEmailByOTP&&C.resetPassword(i,n,a,r,o)}},"forgotPassword")},T.loginController=function(o,t,i,n,a,r,s,l,c){k.options.verificationEmailTemplate=k.options.emailTemplate||k.options.verificationEmailTemplate;var e="emailTemplate="+k.options.verificationEmailTemplate+"&verificationUrl="+k.options.verificationUrl;k.options.phoneLogin&&(e+="&smsTemplate="+k.options.smsTemplatePhoneVerification),k.options.riskBasedAuthentication&&(e+="&RbaOneclickEmailTemplate="+k.options.rbaOneclickEmailTemplate+"&RbaOTPSmsTemplate="+k.options.rbaOTPSmsTemplate+"&RbaCityEmailTemplate="+k.options.rbaCityEmailTemplate+"&RbaCountryEmailTemplate="+k.options.rbaCountryEmailTemplate+"&RbaBrowserEmailTemplate="+k.options.rbaBrowserEmailTemplate+"&RbaIpEmailTemplate="+k.options.rbaIpEmailTemplate+"&RbaCitySmsTemplate="+k.options.rbaCitySmsTemplate+"&RbaCountrySmsTemplate="+k.options.rbaCountrySmsTemplate,e+="&RbaBrowserSmsTemplate="+k.options.rbaBrowserSmsTemplate+"&RbaIpSmsTemplate="+k.options.rbaIpSmsTemplate),("string"==typeof(o=k.util.checkPhoneOrEmailLogin(o))||o instanceof String)&&(o=k.util.parseQueryString(o)),k.options.duplicateEmailWithUniqueUsername&&(delete o.email,delete o.phoneid);var u=LoginRadiusDefaults.apiDomain+"/auth/login?apiKey="+k.options.apiKey+"&loginUrl="+k.options.loginUrl+"&"+e;o["g-recaptcha-response"]&&(u+="&g-recaptcha-response="+o["g-recaptcha-response"],delete o["g-recaptcha-response"]),o.qq_captcha_randstr&&(u+="&qq_captcha_randstr="+o.qq_captcha_randstr,delete o.qq_captcha_randstr),o.qq_captcha_ticket&&(u+="&qq_captcha_ticket="+o.qq_captcha_ticket,delete o.qq_captcha_ticket),k.util.ajaxCall("post",u,o,function(e){k.options.stayLogin&&k.storage.setBrowserStorage("lr-rememberme",o.stayLogin),e.ErrorCode?("970"==e.ErrorCode&&k.options.otpEmailVerification&&!k.options.verifyEmailByOTP?C.otpEmailVerification(t,i,n,s,o):"1167"==e.ErrorCode&&(e.PhoneId||o.phone)?(delete o.email,o.phone=e.PhoneId||o.phone,T.loginOTPController(o,t,i,n,s,"no")):k.options.phoneLogin&&"1066"==e.ErrorCode&&(C.verifyOTP=l||C.verifyOTP,C.resendOTP=c||C.resendOTP,C.verifyOTP(o,t,i,n,s,a,r),C.resendOTP(o,t,i,n,s,a,r)),n(C.loginRadiusErrorTojsError(e))):T.handleFeatures(e,o,r,a,i,n,s)},"login")},T.loginOTPController=function(t,i,n,a,r,e){var s=t=k.util.checkPhoneOrEmailLogin(t);if(("string"==typeof t||t instanceof String)&&(s=k.util.parseQueryString(t)),s.email||s.username)C.sendInstantSignInLink(t,n,a,i,r);else{k.$hooks.register("beforeFormRender",function(e,o){k.util.findInSchema(o,"name","resendotp")||o.push({type:"button",name:"resendotp",display:"Resend OTP",rules:"",permission:"r",event:"click",eventCallback:function(e){T.loginOTPController(t,i,n,a,r)}})});function o(){var e=k.otpSchema;C.createForm(e,"otp",i,function(e){var o=r+LoginRadiusDefaults.idPrefix+"recaptcha_widget_verifyotp";T.verifyInstantOTP(e,s,n,a,o,i,r)},function(e){a(C.setMappedMessage(e))},r)}if(e)o();else{var l=k.options.smsTemplateInstantOTPLogin||k.options.passwordlessLoginSMSTemplate;k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/otp?apiKey="+k.options.apiKey+"&phone="+s.phone+"&smsTemplate="+l,"",function(e){e.ErrorCode?a(C.loginRadiusErrorTojsError(e)):(n(e),o())},"loginOTP")}}},T.login2FAController=function(t,r,s,l,c,u,d,p,m,g){k.LRCheck2FA=!0,t=k.util.checkPhoneOrEmailLogin(t);var f=function(t,e,o){e=e||"",o=o||"";var i=k.util.getButtonAttribute("sendotp",c);if(k.options.googleAuthentication&&(!e&&k.options.twoFactorAuthentication||o)&&C.showQRCode(t,r,s,l,c,u,d),e||o||!k.options.twoFactorAuthentication){if(!o&&k.options.twoFactorAuthentication||k.options.optionalTwoFactorAuthentication&&!e&&""!==t.SecondFactorAuthentication.OTPPhoneNo&&null!=t.SecondFactorAuthentication.OTPPhoneNo||e)if(o)if(c=c||LoginRadiusDefaults.classPrefix,k.options.googleAuthentication){var n=document.getElementsByName(c+"showQRcode")[0];n&&n.appendChild(i)}else k.util.addHTMLContent(r,i);else C.verifyOTP=m||C.verifyOTP,C.resendOTP=g||C.resendOTP,C.verifyOTP(t,r,s,l,c,u,d),C.resendOTP(t,r,s,l,c,u,d)}else C.updatePhoneNumber=p||C.updatePhoneNumber,C.updatePhoneNumber(r,s,l,c,"",u,d);if(e||o){var a=k.util.getButtonAttribute("backupcodebutton",c);k.util.addHTMLContent(r,a,!0),k.util.addEvent("click",a,function(e){!function(e,o,t,i,n,a){C.createForm(k.backupCodeFormSchema,"backupcode",e,function(e){T.backupCodeController(e,o,t,n,a)},function(e){t(e)},i)}(r,s,l,c,u,d);var o=k.util.getButtonAttribute("backupcodebackbutton",c);k.util.addHTMLContent(r,o,!0),k.util.addEvent("click",o,function(e){f(t,t.SecondFactorAuthentication.IsOTPAuthenticatorVerified,t.SecondFactorAuthentication.IsGoogleAuthenticatorVerified)})})}k.util.addEvent("click",i,function(e){var o="phoneNo2FA="+t.SecondFactorAuthentication.OTPPhoneNo;C.resendOTPManually(o,r,s,l,c,u,d),C.verifyOTP=m||C.verifyOTP,C.resendOTP=g||C.resendOTP,C.verifyOTP(t,r,s,l,c,u,d),C.resendOTP(t,r,s,l,c,u,d)})},e=LoginRadiusDefaults.apiDomain+"/auth/login/2FA/";k.options.verificationEmailTemplate=k.options.emailTemplate||k.options.verificationEmailTemplate;var o,i="post";o=window.lrbackupcode?(e=e+"backupcode?apiKey="+k.options.apiKey+"&"+t,i="get",""):(e=e+"?apiKey="+k.options.apiKey+"&loginUrl="+k.options.loginUrl+"&emailTemplate="+k.options.verificationEmailTemplate+"&verificationUrl="+k.options.verificationUrl+"&smsTemplate="+k.options.smsTemplateWelcome+"&smsTemplate2FA="+k.options.smsTemplate2FA,k.util.parseQueryString(t)),k.util.ajaxCall(i,e,o,function(e){if(k.options.stayLogin&&k.storage.setBrowserStorage("lr-rememberme",k.util.getQueryParameterByName("stayLogin",t)),e.ErrorCode){if(k.options.phoneLogin&&"1066"==e.ErrorCode){var o="phone="+k.util.getQueryParameterByName("phone",t);o+="&noPhoneVerified=false",k.options.optionalTwoFactorAuthentication=!1,k.options.twoFactorAuthentication=!1,C.verifyOTP=m||C.verifyOTP,C.resendOTP=g||C.resendOTP,C.verifyOTP(o,r,s,l,c,u,d),C.resendOTP(o,r,s,l,c,u,d)}l(C.loginRadiusErrorTojsError(e))}else e.SecondFactorAuthentication?(k.storage.setBrowserStorage(LoginRadiusDefaults.storedTwoFAToken,e.SecondFactorAuthentication.SecondFactorAuthenticationToken),k.storage.setBrowserStorage(LoginRadiusDefaults.storedOTPAuth,e.SecondFactorAuthentication.IsOTPAuthenticatorVerified),"00000000-0000-0000-0000-000000000000"===e.access_token&&f(e,e.SecondFactorAuthentication.IsOTPAuthenticatorVerified,e.SecondFactorAuthentication.IsGoogleAuthenticatorVerified)):T.handleFeatures(e,t,d,u,s,l,c)},"login")},T.resendOTPController=function(e,o,t,i,n,a){var r=e.updatePhone?k.options.smsTemplateUpdatePhone:k.options.smsTemplatePhoneVerification,s=LoginRadiusDefaults.apiDomain+"/auth/phone/otp?apiKey="+k.options.apiKey+"&smsTemplate="+r,l="post";e.onetouchloginflag&&(l="get","string"!=typeof e&&(e=k.util.jsonToQueryString(e)),s=LoginRadiusDefaults.apiDomain+"/auth/onetouchlogin/phone?apikey="+k.options.apiKey+"&"+e+"&smstemplate="+k.options.smsTemplatePhoneVerification),k.util.ajaxCall(l,s,e,function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):(k.log(L.otpSent),o(e))},"resendOTP")},T.resendOTP2FAController=function(e,o,t,i,n,a){var r=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),s=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);s&&!k.LRCheckLogin?k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apiKey="+k.options.apiKey+"&access_token="+s+"&smsTemplate="+k.options.smsTemplate2FA,e,function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):(k.log(L.otpSent),o(e))},"resendOTP"):r?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/2FA/resend?apiKey="+k.options.apiKey+"&SecondFactorAuthenticationToken="+r+"&smsTemplate2FA="+k.options.smsTemplate2FA,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):k.log(L.otpSent)},"resendOTP"):t([C.setMappedMessage(L.twofaTokenValid)])},T.verify2FAOTPController=function(o,t,i,n,a){var e=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),r=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken);e&&!k.LRCheckLogin?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2FA/Verification?apiKey="+k.options.apiKey+"&access_token="+e+"&"+o+"&smsTemplate="+k.options.smsTemplate2FAWelcome,"",function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e,o)},"verifyOTP##twofaotp"):r?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/2FA/Verification?apiKey="+k.options.apiKey+"&SecondFactorAuthenticationToken="+r+"&"+o+"&smsTemplate2FA="+k.options.smsTemplate2FAWelcome,"",function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):T.handleFeatures(e,o,a,n,t,i)},"verifyOTP##twofaotp"):i([C.setMappedMessage(L.twofaTokenValid)])},T.backupCodeController=function(o,t,i,n,a){var e=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken);e?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/2FA/backupcode?apiKey="+k.options.apiKey+"&SecondFactorAuthenticationToken="+e+"&"+o+"&smsTemplate2FA="+k.options.smsTemplate2FAWelcome,"",function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):T.handleFeatures(e,o,a,n,t,i)},"login"):i([C.setMappedMessage(L.twofaTokenValid)])},T.checkPhoneNumberAvailabilityController=function(e,o,t){k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/phone?apiKey="+k.options.apiKey+"&"+e,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"checkPhone")},T.update2FAPhoneNumberController=function(o,t,i,n,a,r,s,l,c){var e=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTwoFAToken),u=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);u&&!k.LRCheckLogin?k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apiKey="+k.options.apiKey+"&access_token="+u+"&smsTemplate="+k.options.smsTemplate2FA,o,function(e){e.ErrorCode?n(C.loginRadiusErrorTojsError(e)):(C.verifyOTP=l||C.verifyOTP,C.resendOTP=c||C.resendOTP,C.verifyOTP(o,t,i,n,a,r,s),C.resendOTP(o,t,i,n,a,r,s),i(e,o))},"updatePhone"):e?k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/login/2FA/?apiKey="+k.options.apiKey+"&SecondFactorAuthenticationToken="+e+"&smsTemplate2FA="+k.options.smsTemplate2FA,o,function(e){e.ErrorCode?n(C.loginRadiusErrorTojsError(e)):(i(e,o),C.verifyOTP=l||C.verifyOTP,C.resendOTP=c||C.resendOTP,C.verifyOTP(o,t,i,n,a,r,s),C.resendOTP(o,t,i,n,a,r,s))},"login"):n([C.setMappedMessage(L.twofaTokenValid)])},T.updatePhoneNumberController=function(o,t,i,n,a,r,s,l,c){var e=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);C.isValidToken(e,n)&&k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/phone?apiKey="+k.options.apiKey+"&access_token="+e+"&smsTemplate="+k.options.smsTemplateUpdatePhone,o,function(e){e.ErrorCode?n(C.loginRadiusErrorTojsError(e)):(C.verifyOTP=l||C.verifyOTP,C.resendOTP=c||C.resendOTP,C.verifyOTP(o+"&haveToken=true",t,i,n,a,r,s),C.resendOTP(o+"&updatePhone=true",t,i,n,a,r,s),i(e,o))},"updatePhone")},T.resetPasswordByPhoneController=function(o,t,i,e,n){k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password/otp?apiKey="+k.options.apiKey+"&smsTemplate="+k.options.smsTemplateWelcome,o,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e,o)},"resetPassword")},T.forgotPasswordbyPhoneController=function(o,t,i,n,a,r){k.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/password/otp?apiKey="+k.options.apiKey+"&smsTemplate="+k.options.smsTemplateForgot,o,function(e){e.ErrorCode?n(C.loginRadiusErrorTojsError(e)):(i(e,o),(r||C.resetPassword)(t,i,n,a))},"forgotPassword")},T.registrationController=function(i,n,a,r,s,e,l,c){k.LRCheckRegistration=!0;var o=i;k.lrApiFramework||(o=C.mapRegistrationSchema(e,i));var t="emailTemplate="+k.options.verificationEmailTemplate+"&verificationUrl="+k.options.verificationUrl+"&welcomeEmailTemplate="+k.options.welcomeEmailTemplate;k.options.phoneLogin&&(t+="&smsTemplate="+k.options.smsTemplatePhoneVerification),k.options.preventVerificationEmail&&(t+="&options=PreventVerificationEmail");var u="";k.options.invisibleRecaptcha||k.options.v2Recaptcha||k.options.tencentCaptcha?u=LoginRadiusDefaults.apiDomain+"/auth/register/captcha?apiKey="+k.options.apiKey+"&"+t:k.options.sott?(u=LoginRadiusDefaults.apiDomain+"/auth/register?apiKey="+k.options.apiKey+"&"+t,k.options.enableHeaderSott?(k.options.sott=decodeURIComponent(k.options.sott),o.sottcheck=!0):u+="&sott="+k.util.encodedString(k.options.sott)):k.log("url is not set as sott option is not defined"),""!==u&&k.util.ajaxCall("post",u,o,function(o){if(o&&k.util.isObject(o)&&(o=k.util.keyslowerToUpperCamelCase(o)),o.ErrorCode)1049===o.ErrorCode?(r([C.setMappedMessage(L.invalidSott)]),k.log(o.Description)):r(C.loginRadiusErrorTojsError(o));else{function t(e){e.push({type:"button",name:"skip",display:"Skip",rules:"",permission:"r",event:"click",eventCallback:function(e){C.loginHandleToken(o,i,a,r)}})}if(k.options.phoneLogin&&-1!==i.indexOf("phoneid")){-1===k.util.findInSchema(k.registrationFormSchema,"name","phoneid").rules.indexOf("required")&&k.$hooks.register("beforeFormRender",function(e,o){"otp"!==e||k.util.findInSchema(o,"name","skip")||t(o)}),C.verifyOTP=l||C.verifyOTP,C.resendOTP=c||C.resendOTP,C.verifyOTP(i,n,a,r,s),C.resendOTP(i,n,a,r,s)}else{var e=k.util.parseQueryString(i);if(k.options.disabledEmailVerification||k.options.optionalEmailVerification)if(o.Data&&(delete(o=o.Data).Data,delete o.IsPosted),k.options.askRequiredFieldForTraditionalLogin=!1,k.options.otpEmailVerification&&!k.options.verifyEmailByOTP){k.$hooks.register("beforeFormRender",function(e,o){"otp"!==e||k.util.findInSchema(o,"name","skip")||t(o)});C.otpEmailVerification(n,function(e){e.access_token||C.loginHandleToken(o,i,a,r)},r,s,e)}else C.loginHandleToken(o,i,a,r);else a(o,e),k.options.otpEmailVerification&&!k.options.verifyEmailByOTP&&C.otpEmailVerification(n,a,r,s,e)}}},"registration")},T.periodicalPasswordRestController=function(e,o,t,i,n,a){k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password?apiKey="+k.options.apiKey+"&access_token="+n.access_token,e,function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):C.loginHandleToken(n,a,o,t)},"periodicPassword")},T.changePasswordController=function(o,t,i){k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password/change?apiKey="+k.options.apiKey+"&access_token="+k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),o,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e,k.util.parseQueryString(o))},"changePassword")},T.resendEmailVerificationController=function(o,t,i){k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/register?apiKey="+k.options.apiKey+"&verificationUrl="+k.options.verificationUrl+"&emailTemplate="+k.options.verificationEmailTemplate,o,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e,k.util.parseQueryString(o))},"resendVerificationEmail")},T.addEmailController=function(o,t,i){var e=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);C.isValidToken(e,i)&&k.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/email?apiKey="+k.options.apiKey+"&access_token="+e+"&verificationUrl="+k.options.verificationUrl+"&emailTemplate="+k.options.addEmailTemplate,o,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):(t(e,k.util.parseQueryString(o)),k.options.otpEmailVerification&&!k.options.verifyEmailByOTP&&C.otpEmailVerification(k.currentLRContainer,t,i,"",o))},"addEmail")},T.removeEmailController=function(o,t,i){var e=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);C.isValidToken(e,i)&&k.util.ajaxCall("delete",LoginRadiusDefaults.apiDomain+"/auth/email?apiKey="+k.options.apiKey+"&access_token="+e,o,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):(t(e,k.util.parseQueryString(o)),k.options.otpEmailVerification&&!k.options.verifyEmailByOTP&&C.otpEmailVerification(k.currentLRContainer,t,i,"",o))},"removeEmail")},T.changeUsernameController=function(o,t,i){var e=k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);C.isValidToken(e,i)&&k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/username?apiKey="+k.options.apiKey+"&access_token="+e,o,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e,k.util.parseQueryString(o))},"changeUsername")},T.resetPasswordController=function(o,t,i,e,n){o+="&welcomeEmailTemplate="+k.options.welcomeEmailTemplate+"&ResetPasswordEmailTemplate="+k.options.resetPasswordConfirmationEmailTemplate,k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password/reset?apiKey="+k.options.apiKey,o,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e,k.util.parseQueryString(o))},"resetPassword")},T.emailVerificationController=function(e,o,t,i,n,a){var r="get";if(e){var s=LoginRadiusDefaults.apiDomain+"/auth/email?apiKey="+k.options.apiKey+"&welcomeEmailTemplate="+k.options.welcomeEmailTemplate,l="";a?(r="put",l=e):s+="&verificationtoken="+e+"&url="+k.options.verificationUrl;var c="##otp";k.options.verifyEmailByOTP&&(c=""),k.util.ajaxCall(r,s,l,function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):k.options.loginOnEmailVerification?null==e.Data?o(e):C.loginHandleToken(e.Data,"",o,t):k.options.logoutOnVerifyEmail?C.logout(o(e)):o(e)},"verifyEmail"+c)}else t(a?[L.notFound]:[L.vTokenError])},T.deleteUserConfirmController=function(e,o,t){e?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/delete?apiKey="+k.options.apiKey+"&deletetoken="+e,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"deleteUserConfirm"):t([L.vTokenError])},T.checkEmailAvailabilityController=function(e,o,t){k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/email?apiKey="+k.options.apiKey+"&"+e,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"checkEmail")},T.checkUserNameAvailabilityController=function(e,o,t){k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/username?apiKey="+k.options.apiKey+"&"+e,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"checkUsername")},T.resetPasswordBySecurityQuestionController=function(o,t,i){var e=k.util.parseQueryString(o),n={};for(var a in e)"email"!==a&&"username"!==a&&"phone"!==a&&"password"!==a&&(n[a]=e[a],delete e[a]);e.securityanswer=n,k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/password/securityanswer/?apikey="+k.options.apiKey,e,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e,o)},"resetPasswordBySecurityQuestion")},T.getSecurityQuestionsController=function(e,o,t){var i="/auth/securityquestion/";-1!==e.indexOf("username")?i+="username?apiKey=":-1!==e.indexOf("phone")?i+="phone?apiKey=":i+="email?apiKey=",k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+i+k.options.apiKey+"&"+e,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(function(e){for(var o=[],t=0;t<e.length;t++){var i={};k.options.maskSensitiveInput?i.type="password":i.type="string",i.name=e[t].QuestionId,i.display=e[t].Question,i.rules="required",i.permission="r",o.push(i)}return o}(e))},"securityQuestion")},T.getBackupCodeController=function(e,o,t){e?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2FA/backupcode?apikey="+k.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"backupCode"):t([C.setMappedMessage(L.twofaTokenValid)])},T.resetBackupCodeController=function(e,o,t){e?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2FA/backupcode/reset?apikey="+k.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"backupCode"):t([C.setMappedMessage(L.twofaTokenValid)])},T.getSocialDataController=function(e,o,t,i,n){e?(i+="?access_token="+e,n&&(i=i+"&"+n),k.util.ajaxCall("get",LoginRadiusDefaults.socialApiDomain+i,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"socialAPI")):t([C.setMappedMessage(L.twofaTokenValid)])},T.postSocialDataController=function(e,o,t,i,n,a){e?(i+="?access_token="+e,n&&(i=i+"&"+n),k.util.ajaxCall("post",LoginRadiusDefaults.socialApiDomain+i,a,function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"socialAPI")):t([C.setMappedMessage(L.twofaTokenValid)])},T.createCustomObjectController=function(e,o,t,i){e?k.util.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/customobject?apiKey="+k.options.apiKey+"&access_token="+e+"&objectname="+k.options.customObjectName,o,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e)},"createCustomObject"):i([C.setMappedMessage(L.twofaTokenValid)])},T.getCustomObjectByIdController=function(e,o,t,i){n("get",e,o,t,i)},T.getCustomObjectsController=function(e,o,t){e?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/customobject?apiKey="+k.options.apiKey+"&access_token="+e+"&objectname="+k.options.customObjectName,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"getCustomObject"):t([C.setMappedMessage(L.twofaTokenValid)])},T.updateCustomObjectController=function(e,o,t,i,n,a){if(e){var r="";i&&(r="&updatetype="+i),k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/customobject/"+o+"?apiKey="+k.options.apiKey+"&access_token="+e+"&objectname="+k.options.customObjectName+r,t,function(e){e.ErrorCode?a(C.loginRadiusErrorTojsError(e)):n(e)},"updateCustomObject")}else a([C.setMappedMessage(L.twofaTokenValid)])},T.deleteCustomObjectController=function(e,o,t,i){n("delete",e,o,t,i)},T.updateData=function(o,u,d,p,m,g,f,e,t){var h=o.Profile||o.Data,v=d;k.lrApiFramework||(v=C.mapRegistrationSchema(f,d,h));var y=o.access_token;t=t||k.setHostedToken,e=e||"updateData",k.options.verificationEmailTemplate=k.options.emailTemplate||k.options.verificationEmailTemplate,0<Object.keys(v).length?k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+k.options.apiKey+"&access_token="+y+"&verificationUrl="+k.options.verificationUrl+"&emailTemplate="+k.options.verificationEmailTemplate,v,function(c){if(c.ErrorCode)m(C.loginRadiusErrorTojsError(c));else{function e(e){var o,t;o=v.emailid||v.email,t=v.phone||v.phoneid;var i=k.util.findInSchema(f,"name","phoneid"),n=i&&-1!==i.rules.indexOf("required"),a=k.util.findInSchema(f,"name","emailid"),r=a&&-1!==a.rules.indexOf("required");k.storage.setBrowserStorage(LoginRadiusDefaults.storedUidName,h.Uid);var s,l=k.util.parseQueryString(window.location.search.replace("?",""));if((void 0===t||t)&&h.PhoneIdVerified&&void 0===o||(void 0===o||o)&&h.EmailVerified&&void 0===t||(t&&!n||void 0===t)&&(k.options.disabledEmailVerification||k.options.optionalEmailVerification))o&&!h.EmailVerified&&l.return_url&&-1!==l.return_url.toLowerCase().indexOf("/saml/")?m([C.setMappedMessage(L.emailNotVerified)]):(delete c.IsPosted,c.access_token=y,e(),LoginRadiusDefaults.isSSOInitFired&&C.setToken(y));else if(t&&h&&!h.PhoneIdVerified){(s=new SetLoginRadiusCommonFunctions(k)).verifyOTP(d,u,p,m,g),s.resendOTP(d+"&noPhoneVerified=false",u,p,m,g)}else!o||!r||h.EmailVerified||k.options.disabledEmailVerification||k.options.optionalEmailVerification?e():m([C.setMappedMessage(L.emailNotVerified)])}e(t?function(){o.Data=o.Profile,delete o.Profile,c.Data&&(o.Data=c.Data),C.loginHandleToken(o,d,p,m)}:function(){c.Data&&(c.Profile=c.Data,delete c.Data,delete c.IsPosted),c.access_token?C.loginHandleToken(c,d,p,m):p(c,k.util.parseQueryString(d))})}},e):C.loginHandleToken(o,d,p,m)},T.oneTouchLoginController=function(e,r,o,t,s,i){function n(t,e,i,o,n,a){C.createForm(k.registrationFormSchema,"loginRequiredFieldsUpdate",r,function(e){var o={};o.Profile=t,o.access_token=i,T.updateData(o,r,e,n,a,s,k.registrationFormSchema,"login",!0)},function(e){a(C.setMappedMessage(e))})}var a=k.util.checkPhoneOrEmailLogin(e),l=k.util.parseQueryString(a),c=i?"POST":"GET",u="";if(l.phone){var d=LoginRadiusDefaults.apiDomain+"/auth/onetouchlogin/phone?apikey="+k.options.apiKey+"&smstemplate="+k.options.smsTemplateOneTouchLogin;i?u=Object.assign({},l):d=d+"&"+a,k.util.ajaxCall(c,d,u,function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):(C.verifyOTP(a+"&onetouchloginflag=true",r,o,t,s,"",n),C.resendOTP(a+"&onetouchloginflag=true",r,o,t,s,"",n))},"oneTouchLogin")}else{var p=k.util.randomString(16),m=k.options.noRegistrationEmailTemplate||k.options.onetouchLoginEmailTemplate,g=LoginRadiusDefaults.apiDomain+"/auth/onetouchlogin/email?apikey="+k.options.apiKey+"&onetouchloginemailtemplate="+m+"&welcomeemailtemplate="+k.options.welcomeEmailTemplate+"&redirectUrl="+k.options.onetouchLoginRedirectUrl;i?u=Object.assign({},l,{clientGuid:p}):g=g+"&"+a+"&clientGuid="+p,k.util.ajaxCall(c,g,u,function(e){if(e.ErrorCode)t(C.loginRadiusErrorTojsError(e));else if(e.IsPosted){o(e);C.pingForSmartLogin(p,function(e){k.options.askRequiredFieldsOnPasswordLessLogin?(LoginRadiusDefaults.autoFilledFieldforPasswordLesLogin=!0,T.handleFeatures(e,a,n,"",o,t)):C.loginHandleToken(e,"",o,t,"",!0)},t)}},"oneTouchLogin")}},T.smartLoginController=function(e,o,t){var i=k.util.randomString(16),n=k.options.autoLoginRedirectUrl||k.options.smartLoginRedirectUrl,a=k.options.autoLoginEmailTemplate||k.options.smartLoginEmailTemplate;k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/smartlogin?apikey="+k.options.apiKey+"&"+e+"&clientGuid="+i+"&smartloginemailtemplate="+a+"&welcomeemailtemplate="+k.options.welcomeEmailTemplate+"&redirectUrl="+n,"",function(e){if(e.ErrorCode)t(C.loginRadiusErrorTojsError(e));else if(e.IsPosted){o(e);C.pingForSmartLogin(i,function(e){C.loginHandleToken(e,"",o,t)},t)}},"smartLogin")},T.verifyInstantOTP=function(o,e,t,i,n,a,r){var s="phone="+e.phone+"&"+o;k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/otp/verify?apiKey="+k.options.apiKey+"&smsTemplate="+k.options.smsTemplateWelcome,s,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):C.loginHandleToken(e,o,t,i)},"login##otp")},T.socialLoginReceiveToken=function(p,m,g,f,h,v,e){k.currentLRContainer=m,k.options.verificationEmailTemplate=k.options.emailTemplate||k.options.verificationEmailTemplate,k.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,p);var y,w;e=e&&0<e.length?e:k.options.RegistrationFormSchema,y=e,w=JSON.parse(JSON.stringify(y)),k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+k.options.apiKey+"&access_token="+p+"&verificationUrl="+k.options.verificationUrl+"&emailTemplate="+k.options.verificationEmailTemplate,"",function(e){if(e.ErrorCode)f(C.loginRadiusErrorTojsError(e));else if(k.LRCheckLogin=!0,e.IsDeleted)f([C.setMappedMessage(L.blockedUser)]);else{var o={};o.Profile=e,o.access_token=p,C.setPasswordRule(k.util.findInSchema(w,"name","password")),C.setPasswordRule(k.util.findInSchema(w,"name","confirmpassword"));var t=!1;k.options.autoFilledFieldForSocial&&(t=!0,k.$hooks.register("beforeFormRender",function(e,o){if("socialRegistration"===e){var t=k.util.findInSchema(o,"name","emailid");t&&t.value&&(t.disabled=!0);var i=k.util.findInSchema(o,"name","phoneid");i&&i.value&&(i.disabled=!0)}})),k.registrationFormSchema=C.mapSchema(w,e,t),k.$hooks.call("registrationSchemaFilter",w,e);var i=k.storage.getBrowserStorage("LRTraditionalLogin");if(k.storage.removeBrowserStorage("LRTraditionalLogin"),0<k.registrationFormSchema.length&&!i)m?(k.$hooks.call("socialLoginFormRender"),C.createForm(k.registrationFormSchema,"socialRegistration",m,function(e){T.updateData(o,m,e,g,f,h,k.registrationFormSchema,"socialLogin")},function(e){f(e)},h)):v(p,k.registrationFormSchema,e);else{var n=k.util.findInSchema(y,"name","phoneid"),a=n&&-1!==n.rules.indexOf("required"),r=a?!!e.PhoneIdVerified:e.PhoneIdVerified,s=k.util.findInSchema(y,"name","emailid"),l=s&&-1!==s.rules.indexOf("required"),c=l?!!e.EmailVerified:e.EmailVerified;if((!r&&a||!c&&l)&&(!r&&a||!k.options.disabledEmailVerification&&!k.options.optionalEmailVerification))if(null==e.Email||e.EmailVerified){var u={phone:e.PhoneId};f([C.setMappedMessage(L.phoneNotVerified)],u);var d=h+LoginRadiusDefaults.idPrefix+"recaptcha_widget_verifyotp";T.resendOTPController(u,function(){k.socialLoginFlag=!0,C.verifyOTP("phone="+e.PhoneId,m,g,f,h),C.resendOTP("phone="+e.PhoneId+"&noPhoneVerified=false",m,g,f,h)},f,d,m,h)}else f([C.setMappedMessage(L.emailNotVerified)]);else k.storage.setBrowserStorage(LoginRadiusDefaults.storedUidName,e.Uid),LoginRadiusDefaults.isSSOInitFired&&C.setToken(p),C.loginHandleToken(o,"",g,f)}}},"socialLogin")},T.accountLinkingReceiveToken=function(o,t,i){k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/socialidentity?apiKey="+k.options.apiKey+"&access_token="+o,"",function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):e.Uid!==k.storage.getBrowserStorage(LoginRadiusDefaults.storedUidName)?k.util.ajaxCall("put",LoginRadiusDefaults.apiDomain+"/auth/socialidentity?apiKey="+k.options.apiKey+"&access_token="+k.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),"candidatetoken="+o,function(e){e.ErrorCode?i(C.loginRadiusErrorTojsError(e)):t(e)},"linkAccount"):t({IsPosted:!0})},"linkAccount")},T.validateToken=function(e,o,t){e?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/access_token/Validate?apikey="+k.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"validateToken"):t([setMappedMessage(L.twofaTokenValid)])},T.invalidateToken=function(e,o,t){e?k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/access_token/InValidate?apikey="+k.options.apiKey+"&access_token="+e,"",function(e){e.ErrorCode?t(C.loginRadiusErrorTojsError(e)):o(e)},"invalidateToken"):t([setMappedMessage(L.twofaTokenValid)])},T.updatePrivacyPolicy=function(t,i,n,a,r,s,l){k.util.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/privacypolicy/accept?apikey="+k.options.apiKey+"&access_token="+t,"",function(e){var o;e.ErrorCode?a(C.loginRadiusErrorTojsError(e)):(r?o=e:((o=i.Data||{}).access_token=t,o.Profile=e,o.Profile=Object.assign({},o.Profile,{IsLatestPrivacyPolicy:!0})),o.Profile&&("email"===o.Profile.RegistrationProvider.toLowerCase()?C.loginHandleToken(o,"",n,a):new LoginRadiusControllers(k,C).socialLoginReceiveToken(t,s,n,a,l)))},"updatePrivacyPolicy")}}var LoginRadiusV2=function(t){this.global=window;var p=this,m=new SetLoginRadiusCommonFunctions(p),g=new LoginRadiusControllers(p,m),u=LoginRadiusDefaults.buttonNames,f=LoginRadiusDefaults.messages,d=LoginRadiusDefaults._uuidFormat,e=hash.get("lr-token");try{e&&window.opener&&window.opener.html5passToken&&(window.opener.html5passToken(e),document.write("<style type='text/css'>body { display: none !important; } </style>"),hash.remove("lr-token"),window.close())}catch(e){}var o=new LRNameSpace.Utilities;p.util=new LoginRadiusUtility(p,t),p.storage=new LRNameSpace.Storage(p,LoginRadiusDefaults);var h=p.util=Object.assign(o,p.util,p.storage);function v(e,o,t,i){e&&h.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/login/passwordlesslogin/email/verify?apiKey="+p.options.apiKey+"&verificationtoken="+e+"&welcomeEmailTemplate="+p.options.welcomeEmailTemplate,"",function(e){e.ErrorCode?t(m.loginRadiusErrorTojsError(e)):m.loginHandleToken(e,"",o,t,i)},"passwordlessLogin")}function y(r,n,a,s){var e=h.getHashParam("vtoken"),o=h.getHashParam("vtype");p.currentLRContainer=r,"oneclicksignin"!==o&&"passwordlesslogin"!==o||p.passwordlessLoginFlag||(p.passwordlessLoginFlag=!0,v(e,n,a,s));var t=p.loginFormSchema;p.loginAction=!0,L(t),t=JSON.parse(JSON.stringify(function(e){if(p.options.stayLogin){for(var o=!0,t=0;t<e.length;t++)"stayLogin"===e[t].name&&(o=!1);if(o){e.push({type:"multi",name:"stayLogin",display:"Remember me",rules:null,permission:"w"})}}return e}(t))),m.setPasswordRule(t[1],p.loginAction),m.createForm(t,"login",r,function(i){if(p.LRCheckLogin=!0,window.lrpasswordlesslogin)m.sendInstantSignInLink(i,n,a,r,s);else if(window.lrpasswordlessloginotp)m.sendInstantSignInOtp(i,n,a,r,s);else{function e(t,e,i,o,n,a){m.createForm(p.registrationFormSchema,"loginRequiredFieldsUpdate",r,function(e){var o={};o.Profile=t,o.access_token=i,g.updateData(o,r,e,n,a,s,p.registrationFormSchema,"login",!0)},function(e){a(m.setMappedMessage(e))})}function o(o,t){m.createForm(p.changePasswordFormSchema,"changepassword",r,function(e){g.periodicalPasswordRestController(e,n,a,o,t,i)},function(e){a(e)})}p.options.twoFactorAuthentication||p.options.optionalTwoFactorAuthentication?g.login2FAController(i,r,n,a,s,o,e):g.loginController(i,r,n,a,o,e,s)}},function(e){a(m.setMappedMessage(e))},s)}function w(o,t,i,n,a){p.$hooks.call("registrationSchemaFilter",a);var r=n+LoginRadiusDefaults.idPrefix+"recaptcha_widget_registration";if(h.captchaSchema(r,a),p.options.privacyPolicyConfiguration.IsEnabled){var e=p.privacyPolicySchema.slice();e[0].rules="Strict"===p.options.privacyPolicyConfiguration.Mode?"required":"",a.push(e[0])}a.push({type:"html",name:"termsandcondition",html:p.options.termsAndConditionHtml||""}),m.setPasswordRule(h.findInSchema(a,"name","password")),m.setPasswordRule(h.findInSchema(a,"name","confirmpassword")),p.registrationFormSchema=a,m.createForm(a,"registration",o,function(e){g.registrationController(e,o,function(e,o){window.grecaptcha&&p.options.v2Recaptcha&&grecaptcha.reset(window[r+"lr_recaptcha_widgets_idprefix"]),t(e,o)},function(e){window.grecaptcha&&p.options.v2Recaptcha&&grecaptcha.reset(window[r+"lr_recaptcha_widgets_idprefix"]),i(e)},n,a)},function(e){window.grecaptcha&&p.options.v2Recaptcha&&grecaptcha.reset(window[r+"lr_recaptcha_widgets_idprefix"]),i(e)},n),h.renderV2Recaptcha(r,!0)}function k(t,i,n,e){var o=document.createElement("input");o.setAttribute("type","button");var a=p.buttonsName["createTwoFactorAuthentication".toLowerCase()]||u.createtwofactorauthentication;o.setAttribute("value",a);var r=e||LoginRadiusDefaults.classPrefix;document.getElementsByName(r+"profileeditor")[0]?p.options.showTwoFactorOnProfile&&document.getElementsByName(r+"profileeditor")[0].appendChild(o):(p.options.twoFactorAuthentication||p.options.optionalTwoFactorAuthentication)&&h.addHTMLContent(t,o);h.addEvent("click",o,function(e){p.options.optionalTwoFactorAuthentication||p.options.twoFactorAuthentication?h.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apikey="+p.options.apiKey+"&access_token="+p.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),"",function(e){if(p.LRCheck2FA=!0,p.LRCheckLogin=!1,e.ErrorCode)n(m.loginRadiusErrorTojsError(e));else{p.storage.setBrowserStorage(LoginRadiusDefaults.storedOTPAuth,e.IsOTPAuthenticatorVerified),p.storage.setBrowserStorage(LoginRadiusDefaults.storedGAAuth,e.IsGoogleAuthenticatorVerified);var o=e.IsOTPAuthenticatorVerified;p.options.googleAuthentication&&(m.showQRCode(e,t,i,n,r),LoginRadiusDefaults.innerHTML=!0),o?m.changeNumberForm(t,"",i,n,r,LoginRadiusDefaults.innerHTML):m.updatePhoneNumber(t,i,n,r,"updatePhone2FA")}},"createTwoFactorAuthentication"):p.log("Two Factor Authentication will not work, please set in commonOpitons either twoFactorAuthentication or optionalTwoFactorAuthentication")})}function C(e,o){var t=[];if(p.options.SecurityQuestions){function i(e){var o=new RegExp("securityQuestion"),t=e.target.id.split("securityQuestion")[1];r[t]=e.target.selectedIndex;for(var i=h.findElementByRegex("id",o,"select"),n=0;n<i.length;n++)for(var a=1;a<i[n].options.length;a++)-1<r.indexOf(i[n].options[a].index)&&i[n].options[a].index!==i[n].options.selectedIndex?i[n].options[a].style.display="none":i[n].options[a].style.display="block"}for(var n=[],r=[],a=0;a<p.options.SecurityQuestions.length;a++){var s={};s.text=p.options.SecurityQuestions[a].Question,s.value=p.options.SecurityQuestions[a].QuestionId,n.push(s),r.push(0)}for(var l=0;l<p.options.securityQuestionsCount;l++){var c={type:"option"};c.options=n,c.name="securityQuestion"+l,c.display="Security Question",c.event="change",c.eventCallback=i,c.rules=o?"optional":"required",c.permission="r",o?e.push(c):t.push(c);var u={};p.options.maskSensitiveInput?u.type="password":u.type="string",u.name="securityAnswer"+l,u.display="Answer",u.rules=o?"optional":"required",u.permission="r",o?e.push(u):t.push(u)}}return t}function L(e){if(p.options.duplicateEmailWithUniqueUsername){var o=h.findInSchema(e,"name","emailid");o.display="Username",o.rules="required"}else{var t;p.options.usernameLogin&&-1===(t=h.findInSchema(e,"name","emailid")).display.indexOf("/Username")&&(t.display=t.display+"/Username",t.rules="required"),(p.options.phoneLogin||p.options.passwordlessLoginOTP)&&(t||((t=h.findInSchema(e,"name","emailid")).rules="required"),-1===t.display.indexOf("/Phone")&&(t.display=t.display+"/Phone"))}}function T(o,t,i,n){var e=h.getHashParam("vtoken"),a=h.getHashParam("vtype"),r=!1;p.options.v2Recaptcha||p.options.invisibleRecaptcha||p.options.tencentCaptcha||p.options.tencentCaptchaAsFallback?r=!0:p.options.privacyPolicyConfiguration.IsEnabled&&p.log("Captcha should be enabled for passwordless login if using with privacy policy"),"noregistration"!==a&&"onetouchlogin"!==a||function(e,o,t){e&&h.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/email/autologin?apiKey="+p.options.apiKey+"&verificationtoken="+e+"&welcomeEmailTemplate="+p.options.welcomeEmailTemplate,"",function(e){e.ErrorCode?t(m.loginRadiusErrorTojsError(e)):m.loginHandleToken(e,"",o,t)},"smartlogin")}(e,t,i);var s,l=p.passwordLessLoginSchema;if(p.options.phoneLogin){var c=h.findInSchema(l,"name","emailid");c.display=c.display+"/Phone"}r&&(h.addRecaptchaJS(),s=n+LoginRadiusDefaults.idPrefix+o,h.captchaSchema(s,l)),m.createForm(l,"oneTouchLogin",o,function(e){g.oneTouchLoginController(e,o,t,i,n,r)},function(e){i(e)},n),r&&h.renderV2Recaptcha(s,!0)}function i(n,e){var a=(e=e||{}).onSuccess||function(){},r=e.onError||function(){},s=e.container||"",l=e.classPrefix||"",c=e.templateName||"";p.$hooks.register("getCurrentActionOptions",function(e){n==e&&(window.LRSafarionSuccess=a||function(){},window.LRSafarionError=r||function(){}),p.currentActionOptions={},p.currentActionOptions.onSuccess=a||function(){},p.currentActionOptions.onError=r||function(){},p.currentActionOptions.container=s,p.currentActionOptions.classPrefix=l||"",p.currentActionOptions.templateName=c||""}),p.getAppConfiguration(function(){switch("registration"!==n&&"updateSecurityQuestion"!==n&&p.$hooks.call("beforeInit",n),n){case"privacyPolicyUpdate":!function(o,t,i,n){if(p.options.privacyPolicyConfiguration.IsEnabled){var a=p.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);if(a){var e=p.privacyPolicySchema.slice();e[0].rules="Strict"===p.options.privacyPolicyConfiguration.Mode?"required":"",m.createForm(e,"privacyPolicyUpdate",o,function(e){g.updatePrivacyPolicy(a,"",t,i,!0,o,n)},function(e){i(m.setMappedMessage(e))})}else i([m.setMappedMessage(f.tokenValid)])}}(s,a,r,l);break;case"login":y(s,a,r,l);break;case"registration":var e;e=setInterval(function(){LoginRadiusDefaults.isRegFormSchemaLock||(LoginRadiusDefaults.isRegFormSchemaLock=!0,p.$hooks.call("beforeInit",n),function(r,s,l,c){h.addRecaptchaJS(),p.registrationFormSchema=p.registrationFormSchema&&0<p.registrationFormSchema.length?p.registrationFormSchema:p.options.RegistrationFormSchema,function(e){for(var o=JSON.parse(JSON.stringify(e)),t=[],i=0;i<o.length;i++)if(o[i]&&p.options.showSplitForm&&o[i].DataSource&&null!==o[i].DataSource){var n=JSON.parse(JSON.stringify(o[i])),a=JSON.parse(JSON.stringify(h.findInSchema(o,"name","cf_"+o[i].DataSource+"Code")));n.name="recordid",a.name="code",t.push(n),t.push(a)}0<t.length&&p.options.showSplitForm?m.createForm(t,"validatecode",r,function(e){h.ajaxCall("post",LoginRadiusDefaults.apiDomain+"/auth/registrationdata/validatecode?apiKey="+p.options.apiKey,e,function(e){1==e.IsValid?w(r,s,l,c,o):l(e)},"registration")}):(p.options.securityQuestionEnabled&&p.options.SecurityQuestions&&C(o,!0),w(r,s,l,c,o))}(p.registrationFormSchema)}(s,a,r,l),clearInterval(e))},1e3);break;case"resetPassword":m.resetPassword(s,a,r,l);break;case"forgotPassword":!function(o,t,i,n){var e=p.forgotPasswordFormSchema;L(e),m.createForm(e,"forgotpassword",o,function(e){-1!==(e=h.checkPhoneOrEmailLogin(e)).indexOf("phoneApi=1")?(LoginRadiusDefaults.LRPhoneNo=e,g.forgotPasswordbyPhoneController(e,o,t,i,n)):g.forgotPasswordController(e,o,t,i,n)},function(e){i(e)},n)}(s,a,r,l);break;case"verifyEmail":!function(i,n,a,r){function o(e){var o=h.getHashParam("vtoken");if(p.options.verifyEmailByOTP){var t={};e&&(t=h.mergeOptions(t,h.parseQueryString(e))),t.otp=o;try{t.email=h.getQueryParameterByName("email").replace(/ /g,"+"),g.emailVerificationController(t,i,n,a,r,!0)}catch(e){p.log(e)}}else g.emailVerificationController(o,i,n,a,r)}if(a&&"Captcha"===p.options.loginLockedType){p.$hooks.register("afterFormRender",function(e,o,t,i){i&&"loginradius-verifyemail"===i.name&&"loginradius-submit-verify"===i[0].id&&(i[0].style.display="none")}),m.createForm([],"verifyemail",a,function(e){o(e)},function(e){n(e)},r)}o()}(a,r,s,l);break;case"changePassword":!function(e,o,t,i){var n=p.changePasswordFormSchema;m.setPasswordRule(h.findInSchema(n,"name","newpassword")),m.setPasswordRule(h.findInSchema(n,"name","confirmnewpassword")),m.createForm(n,"changepassword",e,function(e){g.changePasswordController(e,o,t)},function(e){t(e)},i)}(s,a,r,l);break;case"socialLogin":var o=h.elementById(s);o&&h.addEvent("click",o,function(){LoginRadiusDefaults.socialRegFormId=this.id}),LoginRadiusDefaults.socialRegFormId=s,m.socialLogin(s,a,r,l);break;case"linkAccount":!function(n,a,r,s){if(p.options.disableAccountLinking)p.log(f.disabledAccountLinking);else{var l=n.split(","),e=p.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);e?h.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+p.options.apiKey+"&access_token="+e,"",function(e){if(e.ErrorCode)r(m.loginRadiusErrorTojsError(e));else if(e.EmailVerified||e.PhoneIdVerified){var o={};if(e.Identities)for(var t=0,i=e.Identities.length;t<i;t++)o[e.Identities[t].Provider]=e.Identities[t].ID;1===l.length?m.renderCustomInterface(n,o,s,"",!0):m.renderCustomInterface(n,o,p.options.linkedAccountsTemplate+","+p.options.notLinkedAccountsTemplate,!0,!0),window.html5passToken=function(e){g.accountLinkingReceiveToken(e,a,r)},p.options.isMobile||p.options.noCallbackForSocialLogin?p.$hooks.register("socialCalls",function(e,o){if(p.options.noCallbackForSocialLogin){m.pingForSmartLogin(o,function(e){e.access_token?g.accountLinkingReceiveToken(e.access_token,a,r):a(e)},function(){})}}):h.addEvent("message",window,function(e){-1===e.origin.indexOf(p.options.customDomain)&&-1===e.origin.indexOf(LoginRadiusDefaults.hubDomain)||"string"==typeof e.data&&d.test(e.data)&&g.accountLinkingReceiveToken(e.data,a,r)})}else r([m.setMappedMessage(f.unverifiedUser)])},"linkAccount"):r([m.setMappedMessage(f.tokenValid)])}}(s,a,r,c);break;case"unLinkAccount":var t=h.unLinkAccount;h.unLinkAccount=function(e,o){t(e,o,a,r)};break;case"profileEditor":!function(s,l,c,u){var d=p.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);if(d){function n(r){h.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+p.options.apiKey+"&access_token="+d,"",function(e){var o=JSON.parse(JSON.stringify(r));o=m.mapSchema(o,e,"profileeditor");var t=[],i=[],n={};n.Profile=e,n.access_token=d;for(var a=0;a<o.length;a++)o[a].name&&-1===o[a].name.indexOf("emailid")&&-1===o[a].name.indexOf("phoneid")&&t.push(o[a]),o[a].permission&&"h"!==o[a].permission&&i.push(o[a]);m.createForm(t,"profileeditor",s,function(e){g.updateData(n,s,e,l,c,u,t,"profileEditor")},function(e){c(e)},u),(p.options.optionalTwoFactorAuthentication||p.options.twoFactorAuthentication)&&k(s,l,c,u),p.$hooks.call("renderProfileEditorHook",e,i)},"profileEditor")}p.registrationFormSchema=p.registrationFormSchema&&0<p.registrationFormSchema.length?p.registrationFormSchema:p.options.RegistrationFormSchema,p.progressiveProfiling.showInEditor?p.progressiveProfiling.fetchSchema(function(e){var o=p.registrationFormSchema.slice();if(e&&e.ProfilingSteps){for(var t=[],i=0;i<e.ProfilingSteps.length;i++)t=t.concat(e.ProfilingSteps[i].Schema);o=o.concat(t)}n(o)}):n(p.registrationFormSchema)}else c([m.setMappedMessage(f.tokenValid)])}(s,a,r,l);break;case"deleteUser":!function(o,t){var e=p.sessionData.getToken();e?h.ajaxCall("delete",LoginRadiusDefaults.apiDomain+"/auth/account?apiKey="+p.options.apiKey+"&access_token="+e+"&deleteUrl="+p.options.deleteUrl+"&emailTemplate="+p.options.deleteUserEmailTemplate,{},function(e){e.ErrorCode?t(m.loginRadiusErrorTojsError(e)):o(e)},"deleteUser"):t([f.vTokenError])}(a,r);break;case"deleteUserConfirm":!function(e,o){var t=h.getHashParam("vtoken");g.deleteUserConfirmController(t,e,o)}(a,r);break;case"updatePhone":p.LRCheck2FA=!1,m.updatePhoneNumber(s,a,r,l);break;case"changeUsername":!function(e,o,t,i){m.createForm(p.changeUsernameFormSchema,"changeUsername",e,function(e){g.changeUsernameController(e,o,t)},function(e){t(e)},i)}(s,a,r,l);break;case"resendVerificationEmail":!function(e,o,t,i){m.createForm(p.emailSchema,"resendEmailVerification",e,function(e){g.resendEmailVerificationController(e,o,t)},function(e){t(e)},i)}(s,a,r,l);break;case"addEmail":!function(e,o,t,i){m.createForm(p.addEmailSchema,"addemail",e,function(e){g.addEmailController(e,o,t)},function(e){t(e)},i)}(s,a,r,l);break;case"removeEmail":!function(e,o,t,i){m.createForm(p.emailSchema,"removeemail",e,function(e){g.removeEmailController(e,o,t)},function(e){t(e)},i)}(s,a,r,l);break;case"createTwoFactorAuthentication":k(s,a,r,l);break;case"backupCodeButton":!function(i,n,a){h.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apikey="+p.options.apiKey+"&access_token="+p.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),"",function(e){if(e.IsOTPAuthenticatorVerified||e.IsGoogleAuthenticatorVerified){var o=document.createElement("input");o.setAttribute("type","button");var t=p.buttonsName["backupCode".toLowerCase()]||u.backupCode;o.setAttribute("value",t),h.addHTMLContent(i,o),h.addEvent("click",o,function(e){p.api.getBackupCode(p.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),n,a)})}})}(s,a,r);break;case"resetBackupCodeButton":!function(i,n,a){h.ajaxCall("get",LoginRadiusDefaults.apiDomain+"/auth/account/2FA?apikey="+p.options.apiKey+"&access_token="+p.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),"",function(e){if(e.IsOTPAuthenticatorVerified||e.IsGoogleAuthenticatorVerified){var o=document.createElement("input");o.setAttribute("type","button");var t=p.buttonsName["resetBackupCode".toLowerCase()]||u.resetBackupCode;o.setAttribute("value",t),h.addHTMLContent(i,o),h.addEvent("click",o,function(e){p.api.resetBackupCode(p.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName),n,a)})}})}(s,a,r);break;case"updateSecurityQuestion":var i;i=setInterval(function(){LoginRadiusDefaults.isSecurityFormSchemaLock||(LoginRadiusDefaults.isSecurityFormSchemaLock=!0,function(e,o,t,i){var n,a,r;p.options.securityQuestionEnabled&&(p.registrationFormSchema=p.registrationFormSchema&&0<p.registrationFormSchema.length?p.registrationFormSchema:p.options.RegistrationFormSchema,n=p.registrationFormSchema,a=!0,0<(r=C(n)).length&&(a=!1),a?t([m.setMappedMessage(f.noSecurityQuestions)]):m.createForm(r,"updatesecurityquestion",e,function(e){g.updateSecurityQuestionController(e,o,t)},function(e){t(e)},i))}(s,a,r,l),clearInterval(i))},1e3);break;case"resetPasswordBySecurityQuestion":!function(i,n,a,r){if(p.options.securityQuestionEnabled){var e,s=!0;L(e=p.getSecQSchema),m.createForm(e,"securityquestions",i,function(e){e=h.checkPhoneOrEmailLogin(e),g.getSecurityQuestionsController(e,function(e){0<e.length&&(s=!1);var o=p.loginFormSchema.slice();m.setPasswordRule(p.util.findInSchema(o,"name","password")),m.setPasswordRule(p.util.findInSchema(o,"name","confirmpassword"));var t=h.mergeObjects(o,e);p.loginAction||L(t),s?a([m.setMappedMessage(f.noSecurityQuestions)]):m.createForm(t,"resetpwdbysecq",i,function(e){e=h.checkPhoneOrEmailLogin(e),g.resetPasswordBySecurityQuestionController(e,n,a)},function(e){a(e)},r)},function(e){a(e)})},function(e){a(e)},r)}}(s,a,r,l);break;case"autoLogin":case"smartLogin":!function(t,i,n,a){var e=p.smartLoginSchema;L(e),m.createForm(e,"smartlogin",t,function(e){var o=h.checkPhoneOrEmailLogin(e);-1!==o.indexOf("phone")?g.loginOTPController(o,t,i,n,a):g.smartLoginController(o,i,n)},function(e){n(e)},a)}(s,a,r,l);break;case"noRegistrationPasswordLessLogin":case"onetouchLogin":T(s,a,r,l);break;case"ssoLogin":!function(t){m.validateAndCall(function(){var e=p.options.customDomain||p.options.appName+"."+LoginRadiusDefaults.hubDomain;h.jsonpCall("https://"+e+"/ssologin/login",function(o){if(o.isauthenticated)if(p.loginRadiusHtml5PassToken)p.loginRadiusHtml5PassToken(o.token);else if(p.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,o.token),p.options.tokenType&&"jwt"===p.options.tokenType.toLowerCase()){LoginRadiusDefaults.lrResponseCounter++,LoginRadiusDefaults.lrCounterTokenResponse={};m.getJwtToken(o.token,function(e){t(o.token,e)})}else t(o.token)},"ssoLogin")})}(a);break;case"logout":m.logout(a);break;case"ssoNotLoginThenLogout":!function(t,i){m.validateAndCall(function(){var e=p.options.customDomain||p.options.appName+"."+LoginRadiusDefaults.hubDomain;h.jsonpCall("https://"+e+"/ssologin/login",function(o){if(o.isauthenticated){var e=LRNameSpace.cookies.getItem(LoginRadiusDefaults.tokenCookie);if(void 0!==e&&null!=e||(m.setToken(o.token),e=LRNameSpace.cookies.getItem(LoginRadiusDefaults.tokenCookie)),e&&e!==o.token)m.setToken(o.token),i(o.token);else if(p.storage.setBrowserStorage(LoginRadiusDefaults.storedTokenName,o.token),p.options.tokenType&&"jwt"===p.options.tokenType.toLowerCase()){LoginRadiusDefaults.lrResponseCounter++,LoginRadiusDefaults.lrCounterTokenResponse={};m.getJwtToken(o.token,function(e){i(o.token,e)})}else i(o.token)}else LRNameSpace.cookies.removeItem(LoginRadiusDefaults.tokenCookie,p.options.appPath),t()},"ssoNotLoginThenLogout")})}(r,a);break;case"instantLinkLogin":case"passwordlessLoginValidate":!function(e,o,t){var i=h.getHashParam("vtoken"),n=h.getHashParam("vtype");"oneclicksignin"!==n&&"passwordlesslogin"!==n||p.passwordlessLoginFlag||(p.passwordlessLoginFlag=!0,v(i,e,o,t))}(a,r,l);break;default:p.log("This action is not valid.")}})}return this.trackEvent=function(o,t,i){p.getAppConfiguration(function(){if(p.options.anonymousLogin){var e=p.storage.getBrowserStorage(LoginRadiusDefaults.storedUidName);p.anonymous.track(o,e,t,i)}else p.log("Anonymous login feature is not enabled.")})},h.unLinkAccount=function(e,o,t,i){if(t=t||function(){},i=i||function(){},e&&o){var n={provider:e,providerid:o},a=p.storage.getBrowserStorage(LoginRadiusDefaults.storedTokenName);a?h.ajaxCall("delete",LoginRadiusDefaults.apiDomain+"/auth/socialIdentity?apiKey="+p.options.apiKey+"&access_token="+a,n,function(e){e.ErrorCode?i(m.loginRadiusErrorTojsError(e)):t(e,n)},"unLinkAccount"):i([m.setMappedMessage(f.tokenValid)])}},LoginRadiusHooksModel(p),setLoginRadiusModuleFunctions(p,t),p.init=function(e,o){p.useraction=e,t.maskSensitiveInput?p.otpSchema=[{type:"password",name:"otp",display:"OTP",rules:"required",permission:"r"}]:p.otpSchema=[{type:"string",name:"otp",display:"OTP",rules:"required",permission:"r"}],"required"===t.twoFactorAuthentication?(t.twoFactorAuthentication=!0,t.optionalTwoFactorAuthentication=!1):"optional"===t.twoFactorAuthentication&&(t.twoFactorAuthentication=!1,t.optionalTwoFactorAuthentication=!0),"ssoLogin"!==e&&"logout"!==e&&"ssoNotLoginThenLogout"!==e||LoginRadiusDefaults.isSSOInitFired||(LoginRadiusDefaults.isSSOInitFired=!0,p.SSOinitFired=!0),t.appName||p.log("SSO will not work, please set option.appName for SSO"),t.formRenderDelay=t.formRenderDelay||0,t.apiKey?0<t.formRenderDelay?setTimeout(function(){i(e,o)},t.formRenderDelay):i(e,o):p.log("API key must be set.")},setLoginRadiusDefaultSchema(p),p.api=new LoginRadiusApiFramework(p,g),p};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxvZ2luUmFkaXVzVjIuanMiXSwibmFtZXMiOlsiJCIsInNhZmVBZGQiLCJ4IiwieSIsImxzdyIsIm1kNWNtbiIsInEiLCJhIiwiYiIsInMiLCJ0IiwibnVtIiwiY250IiwiYml0Um90YXRlTGVmdCIsIm1kNWZmIiwiYyIsImQiLCJtZDVnZyIsIm1kNWhoIiwibWQ1aWkiLCJiaW5sTUQ1IiwibGVuIiwiaSIsIm9sZGEiLCJvbGRiIiwib2xkYyIsIm9sZGQiLCJsZW5ndGgiLCJiaW5sMnJzdHIiLCJpbnB1dCIsIm91dHB1dCIsImxlbmd0aDMyIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwicnN0cjJiaW5sIiwidW5kZWZpbmVkIiwibGVuZ3RoOCIsImNoYXJDb2RlQXQiLCJyc3RyMmhleCIsImhleFRhYiIsImNoYXJBdCIsInN0cjJyc3RyVVRGOCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmF3TUQ1IiwicnN0ck1ENSIsInJhd0hNQUNNRDUiLCJrIiwia2V5IiwiZGF0YSIsImhhc2giLCJia2V5IiwiaXBhZCIsIm9wYWQiLCJjb25jYXQiLCJyc3RySE1BQ01ENSIsIm1kNSIsInN0cmluZyIsInJhdyIsImhleEhNQUNNRDUiLCJoZXhNRDUiLCJ0aGlzIiwiciIsIm0iLCJlIiwiY2FsbGJhY2siLCJlcnJvcnMiLCJmaWVsZHMiLCJmb3JtIiwiX2Zvcm1CeU5hbWVPck5vZGUiLCJtZXNzYWdlcyIsImhhbmRsZXJzIiwibmFtZSIsIm5hbWVzIiwicnVsZXMiLCJsIiwiX2FkZEZpZWxkIiwiZyIsIm9uc3VibWl0IiwiX3ZhbGlkYXRlRm9ybSIsIm4iLCJ0eXBlIiwiY2hlY2tlZCIsInJlcXVpcmVkIiwidmFsaWRfcGhvbmVubyIsIm1hdGNoZXMiLCJkZWZhdWx0IiwidmFsaWRfZW1haWwiLCJ2YWxpZF9lbWFpbHMiLCJtaW5fbGVuZ3RoIiwibWF4X2xlbmd0aCIsImV4YWN0X2xlbmd0aCIsImdyZWF0ZXJfdGhhbiIsImxlc3NfdGhhbiIsImFscGhhIiwiYWxwaGFfbnVtZXJpYyIsImFscGhhX2Rhc2giLCJhbHBoYV9udW1lcmljX2Rhc2hfY29tYm8iLCJhbHBoYW51bWVyaWNfY29tYm8iLCJudW1lcmljIiwiaW50ZWdlciIsImRlY2ltYWwiLCJpc19uYXR1cmFsIiwiaXNfbmF0dXJhbF9ub196ZXJvIiwidmFsaWRfaXAiLCJ2YWxpZF9iYXNlNjQiLCJ2YWxpZF9jcmVkaXRfY2FyZCIsImlzX2ZpbGVfdHlwZSIsInZhbGlkX3VybCIsInZhbGlkX2NhX3ppcCIsImN6aXAiLCJwTiIsInUiLCJoIiwiYU5EQyIsImFOQyIsInYiLCJwIiwidyIsInoiLCJBIiwiQiIsIkMiLCJEIiwiRSIsInByb3RvdHlwZSIsInNldE1lc3NhZ2UiLCJyZWdpc3RlckNhbGxiYWNrIiwiZm9ybXMiLCJkaXNwbGF5IiwiaWQiLCJ2YWx1ZSIsImhhc093blByb3BlcnR5IiwiX3ZhbGlkYXRlRmllbGQiLCJwcmV2ZW50RGVmYXVsdCIsImV2ZW50IiwicmV0dXJuVmFsdWUiLCJzcGxpdCIsImluZGV4T2YiLCJmIiwiZXhlYyIsInN1YnN0cmluZyIsIl9ob29rcyIsImFwcGx5IiwicmVwbGFjZSIsImN1IiwicHVzaCIsIklkIiwiTmFtZSIsIk1lc3NhZ2UiLCJSdWxlIiwidHJpbSIsInRlc3QiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsIkZvcm1WYWxpZGF0b3IiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIkxSTmFtZVNwYWNlIiwiY29udGV4dCIsIlN0b3JhZ2UiLCJtb2R1bGUiLCJMb2dpblJhZGl1c0RlZmF1bHRzIiwiaXNMb2NhbFN0b3JhZ2VOYW1lU3VwcG9ydGVkIiwibHNOYW1lIiwic3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZXJyb3IiLCJzZXRCcm93c2VyU3RvcmFnZSIsImNvb2tpZUZhbGxiYWNrIiwibG9jYWxTdG9yYWdlIiwic2Vzc2lvblN0b3JhZ2UiLCJvcHRpb25zIiwiY29va2llcyIsImFwcFBhdGgiLCJnZXRCcm93c2VyU3RvcmFnZSIsInN0b3JlZFRva2VuTmFtZSIsInZhbCIsImdldEl0ZW0iLCJyZW1vdmVCcm93c2VyU3RvcmFnZSIsInNLZXkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJSZWdFeHAiLCJzVmFsdWUiLCJ2RW5kIiwic1BhdGgiLCJzRG9tYWluIiwiYlNlY3VyZSIsInNFeHBpcmVzIiwidkV4cGlyeURhdGUiLCJuTWF4QWdlIiwiSW5maW5pdHkiLCJkRGF0ZSIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsInRvR01UU3RyaW5nIiwiY29uc3RydWN0b3IiLCJOdW1iZXIiLCJ0b1VUQ1N0cmluZyIsImhhc0l0ZW0iLCJrZXlzIiwiYUtleXMiLCJuTGVuIiwibklkeCIsIkxSQW5vbnltb3VzIiwic2VwYXJhdG9yIiwiZGVsaW0iLCJhdWlkQ29va2llS2V5IiwidXJsQ29va2llS2V5IiwidWlkQ29va2llS2V5IiwidWlkVXBkYXRlIiwidGl0bGUiLCJsYW5ndWFnZSIsIm5hdmlnYXRvciIsInVzZXJMYW5ndWFnZSIsImVuY29kaW5nIiwiY2hhcmFjdGVyU2V0IiwiY2hhcnNldCIsInRvZGF5IiwiYWZ0ZXJPbmVZZWFyIiwiZ2V0WWVhciIsImdldE1vbnRoIiwiZ2V0RGF5IiwiYXVpZCIsInVpZCIsImxyc2l0ZSIsInByb3ZpZGVySWQiLCJTNCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNldEltYWdlIiwidXNlcnVpZCIsInByb3ZpZGVyIiwiY3VzdG9tRmllbGRzIiwiY2YiLCJqc29uIiwiT2JqZWN0IiwibWFwIiwiam9pbiIsImpzb25Ub1F1ZXJ5U3RyaW5nIiwic2NyZWVuSGVpZ2h0Iiwic2NyZWVuV2lkdGgiLCJzY3JlZW5Db2xvckRlcHRoIiwic2NyZWVuIiwiaGVpZ2h0Iiwid2lkdGgiLCJjb2xvckRlcHRoIiwiaW1nIiwiSW1hZ2UiLCJzdHlsZSIsInBvc2l0aW9uIiwib25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwic3JjIiwibG9jYXRpb24iLCJocmVmIiwiaG9zdG5hbWUiLCJ0cmFjayIsInNldFVpZCIsImluaXQiLCJhcHBOYW1lIiwiYXBwbmFtZSIsIlV0aWxpdGllcyIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiYnJvd3NlciIsInZlcnNpb24iLCJtYXRjaCIsInNhZmFyaSIsIm9wZXJhIiwibXNpZSIsIm1vemlsbGEiLCJyZWFkeUJvdW5kIiwiaXNSZWFkeSIsInJlYWR5TGlzdCIsImRvbVJlYWR5IiwiZm4iLCJjYWxsIiwiYmluZFJlYWR5IiwibnVtU3R5bGVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvcCIsImRvY3VtZW50RWxlbWVudCIsImRvU2Nyb2xsIiwic3R5bGVTaGVldHMiLCJkaXNhYmxlZCIsInJlYWR5U3RhdGUiLCJsaW5rcyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0QXR0cmlidXRlIiwic3R5bGVzIiwiZnVuYyIsIm9sZG9ubG9hZCIsImFkZExvYWRFdmVudCIsImdldEhhc2hQYXJhbSIsImdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lIiwia2V5c1RvTG93ZXJDYXNlIiwib2JqIiwibmV3b2JqIiwiZWxlbWVudHNCeUNsYXNzIiwiY2xhc3NuYW1lIiwibm9kZSIsInJlIiwiZWxzIiwiaiIsImNsYXNzTmFtZSIsImlzVmFsaWRVcmwiLCJ1cmxUb1ZhbGlkYXRlIiwiaGFzQ2xhc3MiLCJlbGUiLCJjbHMiLCJhZGRjbGFzcyIsImlzU3Vic3RyaW5nIiwiaXNKc29uU3RyaW5nIiwic3RyIiwiSlNPTiIsInBhcnNlIiwiYWRkRXZlbnQiLCJlbGVtZW50IiwiaGFuZGxlIiwiZWxlbWVudHMiLCJBcnJheSIsInNlYXJjaCIsInJlc3VsdHMiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJnZXRRdWVyeVN0cmluZ1ZhbHVlIiwidXJsIiwiZXh0ZW5kIiwib2JqMSIsIm9iajIiLCJyZWFkeSIsImFyZ3MiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwicXMiLCJub2RlcyIsImtleVZhbHVlIiwiZW5jb2RlZFN0cmluZyIsIm1lcmdlT3B0aW9ucyIsIm9iajMiLCJhdHRybmFtZSIsImF0dHJuYW1lMSIsIm1lcmdlT2JqZWN0cyIsImFycjEiLCJhcnIyIiwiZmxhZyIsImNoZWNrIiwiYXJyMyIsImlzQXJyYXkiLCJvIiwicmFuZG9tU3RyaW5nIiwiY2hhcnMiLCJmbG9vciIsImZpbmRJblNjaGVtYSIsInNjaGVtYSIsImNhc2VJbnNlbnNpdGl2ZSIsImluc2VydEJlZm9yZSIsImVsIiwicmVmZXJlbmNlTm9kZSIsInBhcmVudE5vZGUiLCJpc0VtcHR5Iiwia2V5c2xvd2VyVG9VcHBlckNhbWVsQ2FzZSIsInRvVXBwZXJDYXNlIiwiZmluZEVsZW1lbnRCeVJlZ2V4IiwicHJvcGVydHkiLCJwYXR0ZXJuIiwicXVlcnlDcml0ZXJpYSIsImVsZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsInJlcUVsZW1zIiwiaXNPYmplY3QiLCJQcm9ncmVzc2l2ZVByb2ZpbGluZyIsImNvbW1vbkZucyIsImNvbnRyb2xsZXJzIiwiZmV0Y2hTY2hlbWEiLCJjYiIsInV0aWwiLCJhamF4Q2FsbCIsImNvbmZpZ0FwaURvbWFpbiIsImFwaUtleSIsImV4ZWNTdGVwIiwic3RlcElkIiwicHJvZ3Jlc3NpdmVQcm9maWxpbmdTY2hlbWEiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwiY29udGFpbmVyIiwiY2xhc3NQcmVmaXgiLCJ0ZW1wbGF0ZU5hbWUiLCJ0b2tlbiIsImFwaURvbWFpbiIsInVzZXJwcm9maWxlIiwic3RlcHNTY2hlbWEiLCJQcm9maWxpbmdTdGVwcyIsInJlc3BvbnNlT2JqZWN0IiwiUHJvZmlsZSIsImFjY2Vzc190b2tlbiIsIlByb3ZpZGVyIiwicHJvZ3Jlc3NpdmVQcm9maWxpbmdUcmFkaXRpb25hbCIsIkxvZ2dlZGluU29jaWFsUHJvdmRlclByb2ZpbGUiLCJTY2hlbWEiLCJzaG93U2NoZW1hIiwibWFwU2NoZW1hIiwiY3JlYXRlRm9ybSIsInVwZGF0ZURhdGEiLCJsb2dpbkhhbmRsZVRva2VuIiwic2NvcGVzTGlzdCIsIlNjb3BlcyIsInN0ZXBzUHJvdmlkZXJTY2hlbWEiLCJlbmRwb2ludCIsImN1c3RvbURvbWFpbiIsImh1YkRvbWFpbiIsInByb3ZpZGVycyIsIkVuZHBvaW50IiwicmVuZGVyQ3VzdG9tSW50ZXJmYWNlIiwic29jaWFsTG9naW4iLCJsb2ciLCJlbHQiLCJmcm9tIiwiYXJndW1lbnRzIiwiY2VpbCIsImZpbHRlciIsImZ1biIsIlR5cGVFcnJvciIsInJlcyIsInRoaXNwIiwiZ2V0IiwiYWRkIiwicmVtb3ZlIiwiY2xlYXIiLCJhc3NpZ24iLCJkZWZpbmVQcm9wZXJ0eSIsInRhcmdldCIsInZhckFyZ3MiLCJ0byIsImluZGV4IiwibmV4dFNvdXJjZSIsIm5leHRLZXkiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImlkUHJlZml4IiwiY2xvdWRBcGlEb21haW4iLCJzb2NpYWxBcGlEb21haW4iLCJpc1JlZ0Zvcm1TY2hlbWFMb2NrIiwiaXNTZWN1cml0eUZvcm1TY2hlbWFMb2NrIiwiaW5uZXJIVE1MIiwiYXV0b0ZpbGxlZEZpZWxkZm9yUGFzc3dvcmRMZXNMb2dpbiIsInNvY2lhbFJlZ0Zvcm1JZCIsImxyUmVzcG9uc2VDb3VudGVyIiwiTFJQaG9uZU5vIiwibHJDb3VudGVySnd0UmVzcG9uc2UiLCJsckNvdW50ZXJUb2tlblJlc3BvbnNlIiwic3RvcmVkVHdvRkFUb2tlbiIsInN0b3JlZE9UUEF1dGgiLCJzdG9yZWRHQUF1dGgiLCJzdG9yZWRVaWROYW1lIiwidG9rZW5Db29raWUiLCJpc1NTT0luaXRGaXJlZCIsInBpbmdDb3VudCIsInRva2VuVmFsaWQiLCJEZXNjcmlwdGlvbiIsIkVycm9yQ29kZSIsInR3b2ZhVG9rZW5WYWxpZCIsImludmFsaWRFbWFpbCIsImludmFsaWRQaG9uZSIsImRpc2FibGVkQWNjb3VudExpbmtpbmciLCJub1NlY3VyaXR5UXVlc3Rpb25zIiwiaW52YWxpZFNvdHQiLCJub3RWYWxpZE1lc3NhZ2UiLCJwYXNzd29yZFN0cmVuZ3RoTWVzc2FnZSIsIm90cFNlbnQiLCJ2VG9rZW5FcnJvciIsIm5vdEZvdW5kIiwiZW1haWxOb3RWZXJpZmllZCIsInBob25lTm90VmVyaWZpZWQiLCJibG9ja2VkVXNlciIsInVudmVyaWZpZWRVc2VyIiwiYnV0dG9uTmFtZXMiLCJsb2dpbiIsInNvY2lhbHJlZ2lzdHJhdGlvbiIsImxvZ2lucmVxdWlyZWRmaWVsZHN1cGRhdGUiLCJyZWdpc3RyYXRpb24iLCJ2ZXJpZnllbWFpbCIsInJlc2V0cGFzc3dvcmQiLCJzb2NpYWxsb2dpbiIsIm90cCIsInR3b2Zhb3RwIiwic2hvd3FyY29kZSIsInVwZGF0ZXBob25lIiwiY2hhbmdlcGhvbmUiLCJmb3Jnb3RwYXNzd29yZCIsInNlY3VyaXR5cXVlc3Rpb25zIiwiY2hhbmdlcGFzc3dvcmQiLCJyZXNlbmRlbWFpbHZlcmlmaWNhdGlvbiIsImFkZGVtYWlsIiwicmVtb3ZlZW1haWwiLCJjaGFuZ2V1c2VybmFtZSIsInByb2ZpbGVlZGl0b3IiLCJvdHBsb2dpbiIsInBhc3N3b3JkbGVzc2xvZ2luYnV0dG9ubGFiZWwiLCJwYXNzd29yZGxlc3Nsb2dpbm90cGJ1dHRvbmxhYmVsIiwiY3JlYXRldHdvZmFjdG9yYXV0aGVudGljYXRpb24iLCJzZW5kb3RwIiwicmVzZW5kb3RwIiwiY2hhbmdlbnVtYmVyIiwiYmFja3VwY29kZSIsImJhY2t1cGNvZGVidXR0b24iLCJiYWNrdXBjb2RlYmFja2J1dHRvbiIsImRpc2FibGVnb29nbGVhdXRoZW50aWNhdG9yIiwiZGlzYWJsZW90cGF1dGhlbnRpY2F0b3IiLCJ1cGRhdGVzZWN1cml0eXF1ZXN0aW9uIiwicmVzZXRwd2RieXNlY3EiLCJzbWFydGxvZ2luIiwidmFsaWRhdGVjb2RlIiwib25ldG91Y2hsb2dpbiIsInByb2dyZXNzaXZlcHJvZmlsaW5nIiwicHJpdmFjeXBvbGljeXVwZGF0ZSIsInVwZGF0ZXBob25lMmZhIiwicGFzc3dvcmRsZXNzTG9naW5FbWFpbFRlbXBsYXRlIiwiY2FsbGJhY2tVcmwiLCJjYWxsYmFja0luc2lkZVNhbWVXaW5kb3ciLCJjYWxsYmFja1R5cGUiLCJzY29wZSIsImxvZ2luVXJsIiwiZGVsZXRlVXJsIiwiZW1haWxUZW1wbGF0ZSIsInZlcmlmaWNhdGlvblVybCIsInZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUiLCJyZXNldFBhc3N3b3JkRW1haWxUZW1wbGF0ZSIsInJlc2V0UGFzc3dvcmRDb25maXJtYXRpb25FbWFpbFRlbXBsYXRlIiwic21hcnRMb2dpblJlZGlyZWN0VXJsIiwiYXV0b0xvZ2luUmVkaXJlY3RVcmwiLCJzbWFydExvZ2luRW1haWxUZW1wbGF0ZSIsImF1dG9Mb2dpbkVtYWlsVGVtcGxhdGUiLCJzbXNUZW1wbGF0ZTJGQSIsInNtc1RlbXBsYXRlRm9yZ290Iiwic21zVGVtcGxhdGVXZWxjb21lIiwic21zVGVtcGxhdGVPbmVUb3VjaExvZ2luV2VsY29tZSIsInNtc1RlbXBsYXRlT25lVG91Y2hMb2dpbiIsInBhc3N3b3JkbGVzc0xvZ2luU01TVGVtcGxhdGUiLCJzbXNUZW1wbGF0ZTJGQVdlbGNvbWUiLCJzbXNUZW1wbGF0ZVBob25lVmVyaWZpY2F0aW9uIiwic21zVGVtcGxhdGVVcGRhdGVQaG9uZSIsIndlbGNvbWVFbWFpbFRlbXBsYXRlIiwib25ldG91Y2hMb2dpbkVtYWlsVGVtcGxhdGUiLCJvbmV0b3VjaExvZ2luUmVkaXJlY3RVcmwiLCJyZXNldFBhc3N3b3JkVXJsIiwiZGVidWdNb2RlIiwidG9rZW5UeXBlIiwiaW50ZWdyYXRpb25OYW1lIiwic21hcnRMb2dpblBpbmdDb3VudCIsInNtYXJ0TG9naW5QaW5nSW50ZXJ2YWwiLCJtYXNrU2Vuc2l0aXZlSW5wdXQiLCJlbmFibGVIZWFkZXJTb3R0IiwiYWNjZXNzVG9rZW5SZXNwb25zZSIsInJiYU9uZWNsaWNrRW1haWxUZW1wbGF0ZSIsInJiYU9UUFNtc1RlbXBsYXRlIiwicmJhQ2l0eUVtYWlsVGVtcGxhdGUiLCJyYmFDb3VudHJ5RW1haWxUZW1wbGF0ZSIsInJiYUJyb3dzZXJFbWFpbFRlbXBsYXRlIiwicmJhSXBFbWFpbFRlbXBsYXRlIiwicmJhQ2l0eVNtc1RlbXBsYXRlIiwicmJhQ291bnRyeVNtc1RlbXBsYXRlIiwicmJhQnJvd3NlclNtc1RlbXBsYXRlIiwicmJhSXBTbXNUZW1wbGF0ZSIsInNldExSU2Vzc2lvbiIsImFza09wdGlvbmFsRmllbGRzT25Qcm9ncmVzc2l2ZVN0ZXBzIiwicmVnZXhFeHByZXNzaW9uIiwiZW1haWxSZWdleCIsInBob25lUmVnZXgiLCJfdXVpZEZvcm1hdCIsIkxvZ2luUmFkaXVzVXRpbGl0eSIsIm9wdGlvbnNMaXN0IiwiZGVmYXVsdEJ1dHRvbnNOYW1lIiwidXRpbGl0aWVzIiwidXRpbGl0eU1vZHVsZSIsImVsZW1lbnRCeUlkIiwiZGVidWciLCJjb250ZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRUaGlzT2JqZWN0TmFtZSIsImdsb2JhbCIsInNlcmlhbGl6ZSIsIm5vZGVOYW1lIiwidXNlcm5hbWVMb2dpbiIsImR1cGxpY2F0ZUVtYWlsV2l0aFVuaXF1ZVVzZXJuYW1lIiwic2VsZWN0ZWQiLCJhZGRKcyIsImhlYWQiLCJqcyIsImNyZWF0ZUVsZW1lbnQiLCJoYXNoVG1wbCIsIkZ1bmN0aW9uIiwiY2FjaGUiLCJ0bXBsIiwianNvbnBDYWxsIiwiY2FsbGFiY2siLCJhY3Rpb24iLCIkaG9va3MiLCJlbmR1cmwiLCJnZXRCdXR0b25BdHRyaWJ1dGUiLCJidXR0b25JZCIsIl9jbGFzc1ByZWZpeE5hbWUiLCJCdG4iLCJfaWRQcmVmaXgiLCJidXR0b25FbGVtZW50cyIsImNsb25lTm9kZSIsImJ1dHRvbnNOYW1lIiwibWV0aG9kIiwic3VjY2Vzc0hhbmRsZXIiLCJkc0ZsYWciLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInByb2plY3Rpb25GaWVsZHMiLCJwcm9qZWN0aW9uRmllbGRzS2V5cyIsIm1hcEFjdGlvbnMiLCJtYXBBY3Rpb25zRXhpc3QiLCJfYWN0aW9uIiwiTFJDaGVja1JlZ2lzdHJhdGlvbiIsIkxSQ2hlY2tMb2dpbiIsImFjdGlvblByb2plY3Rpb25GaWVsZHMiLCJyZXF1aXJlZFByb2plY3RlZEZpZWxkIiwidHdvRmFjdG9yQXV0aGVudGljYXRpb24iLCJvcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIiwiZmllbGRzTGlzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic290dGNoZWNrIiwic290dCIsInN0cmluZ2lmeSIsInNlbmQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZXN1bHQiLCJyZXNwb25zZSIsImpzb25SZXNwb25zZSIsInN0YXR1cyIsIl9yZXNwb25zZSIsIm9uZXJyb3IiLCJvcGVuV2luZG93IiwiX3VybCIsImlzTW9iaWxlIiwicGFyc2VyIiwiY2xpZW50R3VpZCIsIm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbiIsInNvY2lhbFBvcHVwRGF0YSIsImN1c3RvbWl6ZVNvY2lhbFBvcHVwIiwibG9jIiwid2luIiwiY2xvc2UiLCJodG1sNXBhc3NUb2tlbiIsImFkZEhUTUxDb250ZW50IiwiaW5uZXJIdG1sIiwiY29udGFpbmVyRWxlbSIsImJ1dHRvbk5hbWUiLCJyZWYiLCJjb250YWluZXJFbGVtMSIsImFkZFJlY2FwdGNoYUpTIiwidjJSZWNhcHRjaGEiLCJpbnZpc2libGVSZWNhcHRjaGEiLCJ2MlJlY2FwdGNoYUxhbmd1YWdlIiwidGVuY2VudENhcHRjaGEiLCJ0ZW5jZW50Q2FwdGNoYUFzRmFsbGJhY2siLCJyZW5kZXJWMlJlY2FwdGNoYSIsInJlY2FwdGNoYWlkIiwiaW50dmFsIiwiZG9tUmVjYXB0Y2hhIiwiZ3JlY2FwdGNoYSIsInJlc2V0IiwibWFpbkludHZhbCIsInNldEludGVydmFsIiwicmVjYXB0Y2hhT2JqIiwic2l0ZWtleSIsInYyUmVjYXB0Y2hhU2l0ZUtleSIsInRoZW1lIiwiZ19yZXNwb25zZSIsInJlbmRlciIsImNsZWFySW50ZXJ2YWwiLCJUZW5jZW50Q2FwdGNoYSIsImNhcHRjaGFTY2hlbWEiLCJpbnZpc2libGVDYXB0Y2hhT2JqIiwiaHRtbCIsImNhcHRjaGFPYmoiLCJvblRlbmNlbnRDYXB0Y2hhU3VibWl0IiwicmV0Iiwib25UZW5jZW50Q2FwdGNoYVN1Ym1pdENhbGxiYWNrIiwidGVuY2VudENhcHRjaGFPYmoiLCJ0ZW5jZW50Q2FwdGNoYUFwcGlkIiwiY2hlY2tQaG9uZU9yRW1haWxMb2dpbiIsImZvcm1EYXRhIiwiZW1haWxpZCIsImVtYWlsIiwidXNlcm5hbWUiLCJwaG9uZUxvZ2luIiwiTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsiLCJhcGlGcmFtZVdvcmtNb2R1bGUiLCJsckFwaUZyYW1ld29yayIsImdldEFwcENvbmZpZ3VyYXRpb24iLCJsb2dpbkNvbnRyb2xsZXIiLCJvdHBMb2dpbiIsImxvZ2luT1RQQ29udHJvbGxlciIsInR3b0ZBTG9naW4iLCJ1cGRhdGVQaG9uZU51bWJlciIsInZlcmlmeU9UUCIsInJlc2VuZE9UUCIsInBhc3N3b3JkRXhwaXJ5IiwicmVxdWlyZWRGaWVsZCIsImxvZ2luMkZBQ29udHJvbGxlciIsInJlZ1NjaGVtYSIsInJlZ2lzdHJhdGlvbkNvbnRyb2xsZXIiLCJmb3Jnb3RQYXNzd29yZCIsImZvcmdvdFBhc3N3b3JkQ29udHJvbGxlciIsInJlc2V0UGFzc3dvcmQiLCJyZXNldFBhc3N3b3JkQ29udHJvbGxlciIsImVtYWlsVmVyaWZpY2F0aW9uIiwiZW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyIiwidnRva2VuIiwib25NaXNzaW5nRmllbGQiLCJMb2dpblJhZGl1c0hvc3RlZFBhZ2UiLCJTU09pbml0RmlyZWQiLCJzb2NpYWxMb2dpblJlY2VpdmVUb2tlbiIsInJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uIiwicmVzZW5kRW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyIiwidHdvRkFSZXNlbmRPVFAiLCJyZXNlbmRPVFAyRkFDb250cm9sbGVyIiwidHdvRkFWZXJpZnlPVFAiLCJ2ZXJpZnkyRkFPVFBDb250cm9sbGVyIiwidHdvRkFVcGRhdGVQaG9uZSIsInVwZGF0ZTJGQVBob25lTnVtYmVyQ29udHJvbGxlciIsInVwZGF0ZVBob25lIiwidXBkYXRlUGhvbmVOdW1iZXJDb250cm9sbGVyIiwicGhvbmVUb1ZlcmlmeSIsInZlcmlmeU9UUENvbnRyb2xsZXIiLCJyZXNlbmRPVFBDb250cm9sbGVyIiwiYWRkRW1haWwiLCJhZGRFbWFpbENvbnRyb2xsZXIiLCJyZW1vdmVFbWFpbCIsInJlbW92ZUVtYWlsQ29udHJvbGxlciIsImNoYW5nZVVzZXJuYW1lIiwiY2hhbmdlVXNlcm5hbWVDb250cm9sbGVyIiwiY2hhbmdlUGFzc3dvcmQiLCJjaGFuZ2VQYXNzd29yZENvbnRyb2xsZXIiLCJjaGVja1Bob25lTnVtYmVyQXZhaWxhYmlsaXR5IiwiY2hlY2tQaG9uZU51bWJlckF2YWlsYWJpbGl0eUNvbnRyb2xsZXIiLCJyZXNldFBhc3N3b3JkQnlQaG9uZSIsInJlc2V0UGFzc3dvcmRCeVBob25lQ29udHJvbGxlciIsImZvcmdvdFBhc3N3b3JkYnlQaG9uZSIsImZvcmdvdFBhc3N3b3JkYnlQaG9uZUNvbnRyb2xsZXIiLCJvblVwZGF0ZVN1Y2Nlc3MiLCJvblVwZGF0ZUVycm9yIiwidXNlclByb2ZpbGUiLCJjaGVja0VtYWlsQXZhaWxhYmlsaXR5IiwiY2hlY2tFbWFpbEF2YWlsYWJpbGl0eUNvbnRyb2xsZXIiLCJjaGVja1VzZXJOYW1lQXZhaWxhYmlsaXR5IiwiY2hlY2tVc2VyTmFtZUF2YWlsYWJpbGl0eUNvbnRyb2xsZXIiLCJyZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uIiwicmVzZXRQYXNzd29yZEJ5U2VjdXJpdHlRdWVzdGlvbkNvbnRyb2xsZXIiLCJ1cGRhdGVTZWN1cml0eVF1ZXN0aW9uIiwidXBkYXRlU2VjdXJpdHlRdWVzdGlvbkNvbnRyb2xsZXIiLCJyZXNldFR3b0ZhY3RvciIsInJlc2V0VHdvRmFjdG9yQXV0aGVudGljYXRpb25Db250cm9sbGVyIiwiaW52YWxpZGF0ZVRva2VuIiwidmFsaWRhdGVUb2tlbiIsImdldFNvY2lhbERhdGEiLCJwYXJhbVF1ZXJ5U3RyaW5nIiwiZ2V0U29jaWFsRGF0YUNvbnRyb2xsZXIiLCJwb3N0U29jaWFsRGF0YSIsInBvc3RCb2R5SnNvbiIsInBvc3RTb2NpYWxEYXRhQ29udHJvbGxlciIsImdldEN1c3RvbU9iamVjdHMiLCJnZXRDdXN0b21PYmplY3RzQ29udHJvbGxlciIsImNyZWF0ZUN1c3RvbU9iamVjdCIsImN1c3RvbU9iamVjdEpTT04iLCJjcmVhdGVDdXN0b21PYmplY3RDb250cm9sbGVyIiwiZ2V0Q3VzdG9tT2JqZWN0QnlJZCIsIm9iamVjdHJlY29yZGlkIiwiZ2V0Q3VzdG9tT2JqZWN0QnlJZENvbnRyb2xsZXIiLCJkZWxldGVDdXN0b21PYmplY3RCeUlkIiwiZGVsZXRlQ3VzdG9tT2JqZWN0Q29udHJvbGxlciIsInVwZGF0ZUN1c3RvbU9iamVjdEJ5SWQiLCJ1cGRhdGVUeXBlIiwidXBkYXRlQ3VzdG9tT2JqZWN0Q29udHJvbGxlciIsImdldEJhY2t1cENvZGUiLCJnZXRCYWNrdXBDb2RlQ29udHJvbGxlciIsInJlc2V0QmFja3VwQ29kZSIsInJlc2V0QmFja3VwQ29kZUNvbnRyb2xsZXIiLCJhdXRvTG9naW4iLCJzbWFydExvZ2luIiwic21hcnRMb2dpbkNvbnRyb2xsZXIiLCJzZXRMb2dpblJhZGl1c0RlZmF1bHRTY2hlbWEiLCJsb2dpbkZvcm1TY2hlbWEiLCJwZXJtaXNzaW9uIiwiYmFja3VwQ29kZUZvcm1TY2hlbWEiLCJyZXNldFBhc3N3b3JkQnlQaG9uZVNjaGVtYSIsImNoZWNrUGhvbmVOdW1iZXJTY2hlbWEiLCJRUkNvZGVTY2hlbWEiLCJnZXRTZWNRU2NoZW1hIiwib3RwU2NoZW1hIiwiZm9yZ290UGFzc3dvcmRGb3JtU2NoZW1hIiwic21hcnRMb2dpblNjaGVtYSIsInBhc3N3b3JkTGVzc0xvZ2luU2NoZW1hIiwiY2hhbmdlUGFzc3dvcmRGb3JtU2NoZW1hIiwiZW1haWxTY2hlbWEiLCJhZGRFbWFpbFNjaGVtYSIsImNoYW5nZVVzZXJuYW1lRm9ybVNjaGVtYSIsInJlc2V0UGFzc3dvcmRGb3JtU2NoZW1hIiwicHJpdmFjeVBvbGljeVNjaGVtYSIsImJ0bk9UUFNjaGVtYSIsImV2ZW50Q2FsbGJhY2siLCJzZXRMb2dpblJhZGl1c01vZHVsZUZ1bmN0aW9ucyIsImxyT3B0aW9ucyIsImxyRGVmYXVsdE9wdGlvbnMiLCJTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyIsIkxvZ2luUmFkaXVzQ29udHJvbGxlcnMiLCJwYXNzd29yZGxlc3NMb2dpbkZsYWciLCJzb2NpYWxMb2dpbkZsYWciLCJMUkNoZWNrMkZBIiwibG9naW5BY3Rpb24iLCJzZXNzaW9uRGF0YSIsImdldFVpZCIsImdldFRva2VuIiwiZXJyb3JNZXNzYWdlcyIsInZhbGlkYXRpb25NZXNzYWdlcyIsImZvcm1DdXN0b21MYWJlbCIsImZvcm1FbGVtZW50c1RpdGxlIiwiZGVmYXVsdE9wdGlvbkZpZWxkIiwiZm9ybVZhbGlkYXRpb25zIiwiZm9ybVBsYWNlaG9sZGVyIiwiZm9ybUVsZW1lbnRBdHRyaWJ1dGVzIiwicGFzc3dvcmRNZXRlckNvbmZpZ3VyYXRpb24iLCJldmVudHNOYW1lIiwibWVzc2FnZSIsImNvbnNvbGUiLCJjdXN0b21JbnRlcmZhY2UiLCJzZWxlY3RvciIsImNsZWFyU2Vzc2lvbiIsImRvY3VtZW50Q29va2llcyIsImNhbGxiYWNrcyIsImlzQXBpQ2FsbGluZ1N0YXJ0ZWQiLCJ1c2VyYWN0aW9uIiwiYXBwQ29uZmlnIiwiYXBwRGF0YSIsInNlY3VyaXR5UXVlc3Rpb25FbmFibGVkIiwiSXNTZWN1cml0eVF1ZXN0aW9uIiwiQXBwTmFtZSIsIlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEiLCJsb2dpbkxvY2tlZFR5cGUiLCJMb2dpbkxvY2tlZENvbmZpZ3VyYXRpb24iLCJMb2dpbkxvY2tlZFR5cGUiLCJhbm9ueW1vdXNMb2dpbiIsImFub255bW91cyIsIlNlY3VyaXR5UXVlc3Rpb25zIiwiUXVlc3Rpb25zIiwic2VjdXJpdHlRdWVzdGlvbnNDb3VudCIsIlNlY3VyaXR5UXVlc3Rpb25Db3VudCIsInBhc3N3b3JkTGVuZ3RoIiwiZGlzcGxheVBhc3N3b3JkU3RyZW5ndGgiLCJtaW5TdHIiLCJtaW4iLCJtYXhTdHIiLCJtYXgiLCJwYXNzd29yZGxlbmd0aCIsIlNvY2lhbFNjaGVtYSIsImVuY3J5cHRlZEFuc3dlciIsIm5vQ2FsbGJhY2siLCJWMlJlY2FwdGNoYVNpdGVLZXkiLCJUd29GYWN0b3JBdXRoZW50aWNhdGlvbiIsIklzRW5hYmxlZCIsImdvb2dsZUF1dGhlbnRpY2F0aW9uIiwiSXNHb29nbGVBdXRoZW50aWNhdG9yIiwiSXNSZXF1aXJlZCIsIm90cEVtYWlsVmVyaWZpY2F0aW9uIiwiT1RQRW1haWxWZXJpZmljYXRpb24iLCJJc1Bob25lTG9naW4iLCJwYXNzd29yZGxlc3NMb2dpbk9UUCIsImluc3RhbnRPVFBMb2dpbiIsIklzSW5zdGFudFNpZ25pbiIsIlNtc090cCIsIkVtYWlsVmVyaWZpY2F0aW9uRmxvdyIsIm9wdGlvbmFsRW1haWxWZXJpZmljYXRpb24iLCJkaXNhYmxlZEVtYWlsVmVyaWZpY2F0aW9uIiwibG9naW5PbkVtYWlsVmVyaWZpY2F0aW9uIiwiSXNMb2dpbk9uRW1haWxWZXJpZmljYXRpb24iLCJwYXNzd29yZGxlc3NMb2dpbiIsImluc3RhbnRMaW5rTG9naW4iLCJFbWFpbExpbmsiLCJhc2tSZXF1aXJlZEZpZWxkRm9yVHJhZGl0aW9uYWxMb2dpbiIsIkFza1JlcXVpcmVkRmllbGRzT25UcmFkaXRpb25hbExvZ2luIiwic3RheUxvZ2luIiwiSXNSZW1lbWJlck1lIiwiZGlzYWJsZVNpZ251cCIsIklzRGlzYWJsZWRSZWdpc3RyYXRpb24iLCJyaXNrQmFzZWRBdXRoZW50aWNhdGlvbiIsIklzUmlza0Jhc2VkQXV0aGVudGljYXRpb24iLCJJc05vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbiIsIklzVXNlck5hbWVMb2dpbiIsInByb21wdFBhc3N3b3JkT25Tb2NpYWxMb2dpbiIsIkFza1Bhc3N3b3JkT25Tb2NpYWxMb2dpbiIsIklzVjJSZWNhcHRjaGEiLCJJc0ludmlzaWJsZVJlY2FwdGNoYSIsImFza09wdGlvbmFsRmllbGRzT25SZWdpc3RyYXRpb24iLCJBc2tPcHRpb25hbEZpZWxkc09uU29jaWFsU2lnbnVwIiwiYXNrRW1haWxGb3JVbnZlcmlmaWVkUHJvZmlsZUFsd2F5cyIsIkFza0VtYWlsSWRGb3JVbnZlcmlmaWVkVXNlckxvZ2luIiwibG9nb3V0T25WZXJpZnlFbWFpbCIsIklzTG9nb3V0T25FbWFpbFZlcmlmaWNhdGlvbiIsImRpc2FibGVBY2NvdW50TGlua2luZyIsIklzRGlzYWJsZWRBY2NvdW50TGlua2luZyIsIkR1cGxpY2F0ZUVtYWlsV2l0aFVuaXF1ZVVzZXJuYW1lIiwiQ3VzdG9tRG9tYWluIiwib3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uIiwiT3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uIiwiUVFUZW5jZW50Q2FwdGNoYUtleSIsInByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uIiwiUHJpdmFjeVBvbGljeUNvbmZpZ3VyYXRpb24iLCJtYXBPcHRpb25zIiwicHJvZ3Jlc3NpdmVQcm9maWxpbmciLCJwc2NoZW1hIiwicmVnaXN0ZXIiLCJMb2dpblJhZGl1c0hvb2tzTW9kZWwiLCJob29rcyIsInByaW9yaXR5Iiwic3BsaWNlIiwiZXZlbnRzT2JqIiwibXNnIiwiY29kZSIsImNvbmZpZyIsImJ1dHRvbnMiLCJidXR0b25zT2JqIiwicnVsZSIsImxhYmVscyIsInRpdGxlcyIsInBsYWNlaG9sZGVycyIsInZhbGlkYXRpb25zIiwiYXR0cmlidXRlcyIsImVsZW0iLCJzZXRBdHRyaWJ1dGUiLCJ0ZW5jZW50Q2FwdGNoYUlkIiwibWFpbkludHZhbGwiLCJleGVjdXRlIiwiY2xpY2siLCJoYW5kbGVDYXB0Y2hhRXJyb3JSZXNwb25zZSIsIkxSUHJlZml4Iiwic2VjcWRhdGEiLCJnZXRTZWN1cml0eVF1ZXN0aW9uc0NvbnRyb2xsZXIiLCJfc3NjaGVtYSIsImRpdiIsInZhbGlkYXRlU2NoZW1hIiwicHJlZml4IiwiY3JlYXRlRm9ybUZpZWxkcyIsIl9lcnJvcnMiLCJtZXJnZUZvcm1FcnJvcnMiLCJzZWNBbnMiLCJzZWN1cml0eWFuc3dlciIsImhhbmRsZVNlY3VyaXR5UXVlc3Rpb25Mb2Nrb3V0IiwiYWNjZXNzVG9rZW4iLCJwcml2YWN5U2NoZW1hIiwic2xpY2UiLCJNb2RlIiwiY3VycmVudEFjdGlvbk9wdGlvbnMiLCJfY2xhc3NQcmVmaXgiLCJEYXRhIiwiY3VycmVudExSQ29udGFpbmVyIiwidXBkYXRlUHJpdmFjeVBvbGljeSIsInNldE1hcHBlZE1lc3NhZ2UiLCJoYW5kbGVQcml2YWN5UG9saWN5QWNjZXB0IiwidHJlZSIsIm1hcHBlZEVsZW0iLCJtYXBwZWRBcnIiLCJEYXRhU291cmNlIiwiUGFyZW50RGF0YVNvdXJjZSIsInJlc3BBcnJheSIsImRhdGFzb3VyY2UiLCJvcHRpb24iLCJjcmVhdGVUZXh0Tm9kZSIsIktleSIsImRhdFNvdXJjZUNvbnRhaW5lciIsImNoaWxkcmVuIiwiYWRkQ2hhbmdlRXZlbnRIYW5kbGVyIiwicG9wdWxhdGVDdXN0b21SZWdpc3RyYXRpb25EYXRhIiwicG9wdWxhdGVTcGxpdFZhbGlkYXRlIiwibG9jYWxlSW5mbyIsInByaXZhdGVGdW5jdGlvbnNNb2R1bGUiLCJkZWZhdWx0TWVzc2FnZXMiLCJoYW5kbGVGb3JtUmVzcG9uc2UiLCJjYXB0Y2hhUmVzcG9uc2UiLCJzZXJpYWxpemVkRm9ybSIsInRpY2tldCIsInJhbmRzdHIiLCJjcmVhdGVPbmVDbGlja0J1dHRvbiIsImJ0bkxvZ2luU3VibWl0IiwiSURsYWJlbCIsInN1Ym1pdCIsImJ1dHRvbktleU5hbWUiLCJkaXNhYmxlQnV0dG9uT25zdWJtaXQiLCJlbmFibGVTdWJtaXRPblN1Y2Nlc3MiLCJsaW5rZWRQcm92aWRlciIsImlzYXBwZW5kIiwiYWNMaW5raW5nIiwicHJvdmlkZXJzU2NoZW1hIiwiT25Mb2FkZWRDdXN0b21JbnRlckZhY2UiLCJwcm92aWRlcnNUb1Nob3ciLCJMUlByb3ZpZGVyc0xpc3QiLCJwcm92aWRlckNvdW50cnkiLCJwcm92aWRlcnNMaXN0IiwiY291bnRyeU5hbWUiLCJwcm92TGlzdCIsImNvdW50cnlQcm92aWRlcnMiLCJjb3VudHJ5IiwiZXhjZXB0IiwiZmlsdGVyUHJvdmlkZXJzQmFzZWRPbkNvdW50cnkiLCJ0ZW1wbGF0ZUNvbXBpbGVyIiwiaGFzaFRlbXBsYXRlIiwidGVtcGxhdGVzIiwicXVlcnkiLCJpc0N1c3RvbVNjb3BlIiwib2JqZWN0TmFtZSIsInRlbXBsYXRlSUREYXRhIiwicmVuZGVyZWRIdG1sIiwiT2JqZWN0TmFtZSIsImlzbGlua2VkIiwiaXNMaW5rZWQiLCJ1bmxpbmtDYWxsYmFjayIsInVuTGlua0FjY291bnRDYWxsYmFja1VybCIsInRlbXAiLCJzZWxlY3RvcnNBcnJheSIsIlByb3ZpZGVycyIsIm1hcFJlZ2lzdHJhdGlvblNjaGVtYSIsIm9iakRhdGEiLCJjdXN0b21GaWVsZHNPYmoiLCJlbWFpbE9iaiIsImNvdW50cnlPYmoiLCJlbWFpbEFycmF5Iiwic2VjUUFPYmplY3QiLCJmaWVsZE5hbWUiLCJQYXJlbnQiLCJvYmplY3RfIiwic29jaWFsTG9naW5BUEkiLCJzaG93UVJDb2RlIiwiY3JlYXRlUVJTY2hlbWEiLCJxckNvZGUiLCJtYW51YWxFbnRyeUNvZGUiLCJfY2xhc3NQcmVmaXhfIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uIiwiUVJDb2RlIiwiTWFudWFsRW50cnlDb2RlIiwiSXNHb29nbGVBdXRoZW50aWNhdG9yVmVyaWZpZWQiLCJyZXNldEJ0biIsInRvayIsImN1cnJlbnRBY3Rpb24iLCJMUlNhZmFyaW9uU3VjY2VzcyIsIkxSU2FmYXJpb25FcnJvciIsImxyVG9rZW4iLCJsb2dpblJhZGl1c0h0bWw1UGFzc1Rva2VuIiwicGluZ0ZvclNtYXJ0TG9naW4iLCJvcmlnaW4iLCJmZGF0YSIsImZuZGF0YSIsInBob25lTm8iLCJkYXRhS2V5IiwiZGF0YVZhbHVlIiwic2V0UGFzc3dvcmRSdWxlIiwicmVzZW5kQnRuT1RQU2NoZW1hIiwidmVyaWZ5RW1haWxCeU9UUCIsIl9lbWFpbCIsImZpZWxkIiwicGFzc3dvcmRSdWxlcyIsIm1hdGNoUnVsZVJlcyIsIm1hdGNoUnVsZVN0cmluZyIsImNoYW5nZU51bWJlckZvcm0iLCJmb3JtRWxlbWVudCIsImNoYW5nZUJ0biIsImdvb2dsZUF1dGgiLCJnZXRFbGVtZW50c0J5TmFtZSIsInZhbGlkYXRlQW5kQ2FsbCIsImxvZ291dCIsInRva2VuRXhwaXJ5UGFyYW1ldGVyIiwidG9rZW5FeHBpcmUiLCJkb21haW4iLCJwYXJhbSIsInJlZ1Jlc3BvbnNlIiwib25lVG91Y2hMb2dpbiIsImxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IiLCJJc1Bvc3RlZCIsImlzTGF0ZXN0UHJpdmFjeVBvbGljeSIsIlByaXZhY3lQb2xpY3kiLCJWZXJzaW9uIiwiY2hlY2tGb3JMYXRlc3RQcml2YWN5UG9saWN5IiwiSXNMYXRlc3RQcml2YWN5UG9saWN5IiwiaGFuZGxlVG9rZW5SZXNwb25zZSIsImp3dHRva2VuIiwibHJDb3VudGVyUmVzcG9uc2UiLCJzaWduYXR1cmUiLCJnZXRTYWZhcmlUb2tlbiIsInNldEhvc3RlZFRva2VuIiwicmVnaXN0cmF0aW9uRm9ybVNjaGVtYSIsInBob25lU2NoZW1hIiwicGhvbmVyZXEiLCJyZXF1aXJlZEVtYWlsRmxvdyIsIkVtYWlsVmVyaWZpZWQiLCJQaG9uZUlkVmVyaWZpZWQiLCJQaG9uZUlkIiwicGhvbmVPYmoiLCJwaG9uZSIsIlVpZCIsInNldFRva2VuIiwiaXNTYWZhcmkiLCJpT1MiLCJNU1N0cmVhbSIsImlzVWMiLCJpT1NDaHJvbWUiLCJ2dHlwZSIsInNhZmFyaVByb3RvY29sIiwic2FmYXJpSHR0cHNFbmFibGUiLCJzdGF5TG9naW5DaGVjayIsImFwaVN0cmluZyIsImdldEp3dFRva2VuIiwiand0UmVzcG9uc2UiLCJnZXRQcm9maWxlU2NoZW1hIiwicHJvZmlsZVNjaGVtYSIsImZvckVhY2giLCJlbWFpbHZlcmlmaWVkIiwiaXNlbWFpbHN1YnNjcmliZWQiLCJwaG9uZWlkIiwiYmlydGhkYXRlIiwicGFzc3dvcmQiLCJzY2hlbWFOYW1lIiwiY3VzdG9tZmllbGRzIiwiZmlyc3Rsb2dpbiIsImxyRXJyb3IiLCJqc0Vycm9yIiwibHJNZXNzYWdlIiwiZGVzY3JpcHRpb24iLCJzZXRDdXN0b21MYWJlbCIsInNldEN1c3RvbVRpdGxlIiwic2V0UGxhY2Vob2xkZXIiLCJwbGFjZWhvbGRlciIsInNldFZhbGlkYXRpb24iLCJhdHRyaWJpdGVzIiwiYXR0cmlidXRlIiwicGhvbmVEYXRhIiwiY2hlY2syRkEiLCJmb3JtTmFtZSIsInBob25lSWQiLCJvbmV0b3VjaGxvZ2luZmxhZyIsImhhdmVUb2tlbiIsIklzUGhvbmVWZXJpZmllZCIsIm5vUGhvbmVWZXJpZmllZCIsInR3b2ZhIiwicGhvbmVObzJGQSIsInBob25lbm8yZmEiLCJPVFBQaG9uZU5vIiwicmVzZW5kT1RQQnRuIiwicmVzZW5kT1RQTWFudWFsbHkiLCJzZW5kSW5zdGFudFNpZ25JbkxpbmsiLCJwYXlsb2FkRGF0YSIsImluc3RhbnRMaW5rTG9naW5FbWFpbFRlbXBsYXRlIiwic2lnbmluUmVzcG9uc2UiLCJscnBhc3N3b3JkbGVzc2xvZ2lub3RwIiwibHJwYXNzd29yZGxlc3Nsb2dpbiIsInNlbmRJbnN0YW50U2lnbkluT3RwIiwiU2lkIiwib3RwRGF0YSIsInZlcmlmeUluc3RhbnRPVFAiLCJfZm9ybU5hbWUiLCJwaW5nSW50ZXJ2YWwiLCJhdXRvTG9naW5QaW5nSW50ZXJ2YWwiLCJhdXRvTG9naW5QaW5nQ291bnQiLCJzZXRUaW1lb3V0IiwiY2hpbGRkYXRhc291cmNlIiwiZHMiLCJvcHRpb24xIiwib3B0aW9uMiIsInZhbGlkYXRpb25TY2hlbWEiLCJtZXRlckNvbmZpZyIsInRyaW1FbWFpbCIsImNzc0lkIiwidHh0cGFzcyIsIm1ldGVyIiwidGV4dCIsInNjb3JlIiwiY3NzT2xkRWxlbWVudCIsInJlbW92ZUNoaWxkIiwiY3NzIiwiaXNGaXJlZm94IiwiY29sb3IiLCJyZXNwIiwiSXNFeGlzdCIsImNoaWxkTm9kZXMiLCJkZWZhdWx0Q2FzZSIsImRlZmF1bHRDb2xvciIsImRlZmF1bHRNZXNzYWdlIiwic2VsZWN0TGFibGUiLCJkaXZIVE1MIiwiZm9ybVZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRhdGlvbkRpdkJsb2NrIiwiZXhpc3RQaG9uZU51bWJlciIsImtleUNvZGUiLCJldmVudHMiLCJidXR0b25EaXYiLCJsYWJlbCIsImNvbnRhaW5lckRpdiIsInZhbGlkYXRpb25EaXYiLCJfcnVsZXMiLCJtZXRlckVsZW1lbnQiLCJ0ZXh0RWxlbWVudCIsIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsImNhc2UiLCJyZXNldEdvb2dsZUNhcHRjaGEiLCJlbmFibGVkQXV0aEFQSXMiLCJBcGlzIiwiX25hbWUiLCJpc0FkZEJvdFByb3RlY3Rpb24iLCJfY3VycmVudEZvcm1OYW1lIiwic3VibWl0QnV0dG9uSWQiLCJfX25hbWUiLCJ2YWxpZERhdGVFcnJvck1lc3NhZ2UiLCJ2YWxpZGF0b3IiLCJldnQiLCJmb3JtRWxlbWVudHNOYW1lIiwicGFyZW50RWxlbWVudCIsInZhbGlkYXRpb25EaXZzIiwib25DYXB0Y2hhU3VibWl0IiwiZGF0ZVN0cmluZyIsInBhcnRzIiwiZGF5IiwibW9udGgiLCJ5ZWFyIiwibW9udGhMZW5ndGgiLCJpc1ZhbGlkRGF0ZSIsInBhcm0iLCJmaWVsZFZhbHVlIiwicGFybVZhbHVlIiwiaXNDdXN0b21WYWxpZGF0aW9uIiwiVmFsaWRhdG9yIiwiaXNWYWxpZFRva2VuIiwicHJpdmFjeVBvbGljaWVzIiwiUHJpdmFjeVBvbGljaWVzIiwiY3VycmVudFRpbWUiLCJsYXRlc3RQb2xpY3kiLCJTdGFydERhdGVUaW1lIiwiY29udHJvbGxlcnNNb2R1bGUiLCJoYW5kbGVDdXN0b21PYmplY3RCeUlkIiwiY3VzdG9tT2JqZWN0TmFtZSIsImhhbmRsZUZlYXR1cmVzIiwibG9naW5SZXNwb25zZSIsInBlcmlvZGljUGFzc3dvcmRSZXNldCIsIlBhc3N3b3JkRXhwaXJhdGlvbkRhdGUiLCJfU2NoZW1hIiwiSXNEZWxldGVkIiwiYXV0b0ZpbGxlZEZpZWxkRm9yVHJhZGl0aW9uYWwiLCJlbWFpbGZpZWxkIiwicGhvbmVmaWVsZCIsInRyYWRpdGlvbmFsTG9naW5SZWNlaXZlVG9rZW4iLCJhc2tSZXF1aXJlZEZpZWxkc09uUGFzc3dvcmRMZXNzTG9naW4iLCJzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0Iiwic2VjdXJpdHlRdWVzdGlvbk9iamVjdCIsIlNlY3VyaXR5UXVlc3Rpb25BbnN3ZXIiLCJhdXRoZW50aWNhdG9yVHlwZSIsImF1dGhlbnRpY2F0b3JPYmplY3QiLCJmb3Jnb3RQYXNzd29yZFVybCIsImZvcmdvdFBhc3N3b3JkUmVzcG9uc2UiLCJwYXJzZURhdGEiLCJ2ZXJpZnlPVFBBcGkiLCJyZXNlbmRPVFBBcGkiLCJ0ZW1wbGF0ZSIsImhhbmRsZU9UUCIsInNtc1RlbXBsYXRlIiwic21zVGVtcGxhdGVJbnN0YW50T1RQTG9naW4iLCJSZXNwb25zZSIsInVwZGF0ZVBob25lTnVtYmVyQXBpIiwiaGFuZGxlMkZBUmVzcG9uc2UiLCJJc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCIsInNlbmRPVFBCdG4iLCJiYWNrdXBDb2RlQnRuIiwiYmFja3VwQ29kZUNvbnRyb2xsZXIiLCJzaG93QmFja3VwQ29kZUZvcm0iLCJiYWNrdXBDb2RlQmFja0J0biIsInBvc3RCb2R5IiwibWV0aG9kVHlwZSIsInBob25ldG9WZXJpZnkiLCJTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuIiwidHdvRmFjdG9yVG9rZW4iLCJiYWNrdXBDb2RlcmVzcG9uc2UiLCJyZXNldFBhc3N3b3JkQXBpIiwicmVnaXN0cmF0aW9uRGF0YSIsInByZXZlbnRWZXJpZmljYXRpb25FbWFpbCIsImFkZFNraXBGaWVsZGluU2NoZW1hIiwicGVyaW9kaWNhbFBhc3N3b3JkUmVzdENvbnRyb2xsZXIiLCJyZXNldERhdGEiLCJsb2dpbkRhdGEiLCJyZXNldFBhc3N3b3JkUmVlb25zZSIsImNoYW5nZVBhc3N3b3JkUmVzcG9uc2UiLCJlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlIiwiYWRkRW1haWxUZW1wbGF0ZSIsImFkZEVtYWlsUmVzcG9uc2UiLCJyZW1vdmVFbWFpbFJlc3BvbnNlIiwiY2hhbmdlVXNlcm5hbWVSZXNwb25zZSIsInJlc2V0UGFzc3dvcmRSZXNwb25zZSIsInBhcmFtcyIsImFjdGlvblZhbHVlIiwiZGVsZXRlVXNlckNvbmZpcm1Db250cm9sbGVyIiwiZGVsZXRlQ29uZmlybVJlc3BvbnNlIiwic2VjdXJpdHlPYmoiLCJzZWN1cml0eUFuc3dlckFycmF5Iiwic2NoZW1hQ2FsbGJhY2siLCJzZWNRU2NoZW1hIiwic2VjUU9iamVjdCIsIlF1ZXN0aW9uSWQiLCJRdWVzdGlvbiIsImdldFNlY3VyaXR5UXVlc3Rpb25zIiwiYWN0aW9uTmFtZSIsInRlbXBUb2tlbiIsInByb2ZpbGVEYXRhIiwiaGFuZGxlVXBkYXRlRGF0YVJlc3BvbnNlIiwiaXNlbWFpbCIsImlzcGhvbmUiLCJlbWFpbHJlcSIsImZucyIsInF1ZXJ5U3RyaW5nIiwicmV0dXJuX3VybCIsIm9uZVRvdWNoTG9naW5Db250cm9sbGVyIiwidXNlVXBkYXRlZEFQSSIsInJlZmllbGQiLCJmb3JtYXR0ZWREYXRhIiwicGFyc2VkRGF0YSIsIm9uZVRvdWNoUGhvbmVVUkwiLCJub1JlZ2lzdHJhdGlvbkVtYWlsVGVtcGxhdGUiLCJvbmVUb3VjaEVtYWlsVVJMIiwicmVkaXJlY3RVcmwiLCJfcmVnU2NoZW1hIiwiYXV0b0ZpbGxlZEZpZWxkIiwiYXV0b0ZpbGxlZEZpZWxkRm9yU29jaWFsIiwic2FmYXJpTG9naW4iLCJFbWFpbCIsImFjY291bnRMaW5raW5nUmVjZWl2ZVRva2VuIiwiTG9naW5SYWRpdXNWMiIsIm9wZW5lciIsIndyaXRlIiwiZXJyIiwicGFzc3dvcmRsZXNzTG9naW5WZXJpZmljYXRpb24iLCJsb2dpblNjaGVtYSIsImdldExvZ2luRW1haWxMYWJlbCIsImFkZHJlbWVtYmVyTWVDaGVjayIsImFkZFJlbWVtYmVyTWVTY2hlbWEiLCJfcmVxdWlyZWRGaWVsZCIsIl9wYXNzd29yZEV4cGlyeSIsInNob3dSZWdpc3RyYXRpb25Gb3JtIiwidGVybXNBbmRDb25kaXRpb25IdG1sIiwiY3JlYXRlVHdvRmFjdG9yQXV0aGVudGljYXRpb24iLCJ0d29GYWN0b3JCdXR0b24iLCJzaG93VHdvRmFjdG9yT25Qcm9maWxlIiwiZ2V0U2VjdXJpdHlRdWVzdGlvblNjaGVtYSIsImNoYW5nZUNiIiwiZWxlbUluZGV4Iiwic2VsZWN0ZWRPcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsImVsbXMiLCJvcHRpb25zQXJyYXkiLCJvcHRpb25PYmplY3QiLCJzZWNBT2JqZWN0IiwidVNjaGVtYSIsInVTY2hlbWExIiwib25lVG91Y2hMb2dpbkVtYWlsVmVyaWZpY2F0aW9uIiwicmVjYXB0Y2hhSWQiLCJhY3Rpb25IYW5kbGVyIiwiYWNjZXB0UHJpdmFjeVBvbGljeSIsImZvcm1JbnRlcnZhbCIsImNvZGVTY2hlbWEiLCJzaG93U3BsaXRGb3JtIiwicmVjb3JkT2JqIiwiY29kZU9iaiIsIklzVmFsaWQiLCJvblJlZ2lzdHJhdGlvbkxvYWRlZCIsImhhbmRsZVZlcmlmeUVtYWlsIiwiY29udGFpbmVySWRzIiwiSWRlbnRpdGllcyIsIklEIiwibGlua2VkQWNjb3VudHNUZW1wbGF0ZSIsIm5vdExpbmtlZEFjY291bnRzVGVtcGxhdGUiLCJhY2NvdW50TGlua2luZyIsInVubGluayIsInVuTGlua0FjY291bnQiLCJoYW5kbGVQcm9maWxlRWRpdG9yIiwiX3Byb2ZpbGVTY2hlbWEiLCJlZGl0b3JTY2hlbWEiLCJ2aWV3ZXJTY2hlbWEiLCJzaG93SW5FZGl0b3IiLCJwcm9ncmVlc3NpdmVTY2hlbWFPYmplY3QiLCJmaW5hbFNjaGVtYSIsInByb2dyZXNzaXZlU2NoZW1hIiwicHJvZmlsZUVkaXRvciIsImRlbGV0ZVVzZXJFbWFpbFRlbXBsYXRlIiwiZGVsZXRlVXNlciIsImRlbGV0ZVVzZXJDb25maXJtIiwiYmFja3VwQ29kZUJ1dHRvbiIsImFwaSIsInJlc2V0QmFja3VwQ29kZUJ1dHRvbiIsIl9mb3JtSW50ZXJ2YWwiLCJzZWN1cml0eVF1ZXN0aW9uU2NoZW1hIiwiX3NlY3VyaXR5U2NoZW1hIiwic2VjdXJpdHlTY2hlbWEiLCJzbWFydExvZ2luRGF0YSIsImlzYXV0aGVudGljYXRlZCIsIkp3dFRva2VuIiwic3NvTG9naW4iLCJjb29raWV0b2tlbiIsInNzb05vdExvZ2luVGhlbkxvZ291dCIsInRyYWNrRXZlbnQiLCJ1c2VySWQiLCJ1bmxpbmtPblN1Y2Nlc3MiLCJ1bmxpbmtPbkVycm9yIiwicHJvdmlkZXJpZCIsImZvcm1SZW5kZXJEZWxheSJdLCJtYXBwaW5ncyI6IkNBc0JFLFNBQVdBLEdBQ1gsYUFNQSxTQUFTQyxFQUFRQyxFQUFHQyxHQUNsQixJQUFJQyxHQUFXLE1BQUpGLElBQW1CLE1BQUpDLEdBRTFCLE9BRFdELEdBQUssS0FBT0MsR0FBSyxLQUFPQyxHQUFPLEtBQzNCLEdBQWEsTUFBTkEsRUFheEIsU0FBU0MsRUFBT0MsRUFBR0MsRUFBR0MsRUFBR04sRUFBR08sRUFBR0MsR0FDN0IsT0FBT1QsRUFSVCxTQUF1QlUsRUFBS0MsR0FDMUIsT0FBUUQsR0FBT0MsRUFBUUQsSUFBUyxHQUFLQyxFQU90QkMsQ0FBY1osRUFBUUEsRUFBUU0sRUFBR0QsR0FBSUwsRUFBUUMsRUFBR1EsSUFBS0QsR0FBSUQsR0FFMUUsU0FBU00sRUFBTVAsRUFBR0MsRUFBR08sRUFBR0MsRUFBR2QsRUFBR08sRUFBR0MsR0FDL0IsT0FBT0wsRUFBUUcsRUFBSU8sR0FBT1AsRUFBSVEsRUFBSVQsRUFBR0MsRUFBR04sRUFBR08sRUFBR0MsR0FFaEQsU0FBU08sRUFBTVYsRUFBR0MsRUFBR08sRUFBR0MsRUFBR2QsRUFBR08sRUFBR0MsR0FDL0IsT0FBT0wsRUFBUUcsRUFBSVEsRUFBTUQsR0FBS0MsRUFBSVQsRUFBR0MsRUFBR04sRUFBR08sRUFBR0MsR0FFaEQsU0FBU1EsRUFBTVgsRUFBR0MsRUFBR08sRUFBR0MsRUFBR2QsRUFBR08sRUFBR0MsR0FDL0IsT0FBT0wsRUFBT0csRUFBSU8sRUFBSUMsRUFBR1QsRUFBR0MsRUFBR04sRUFBR08sRUFBR0MsR0FFdkMsU0FBU1MsRUFBTVosRUFBR0MsRUFBR08sRUFBR0MsRUFBR2QsRUFBR08sRUFBR0MsR0FDL0IsT0FBT0wsRUFB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NUI2YSxFQUFVaW1CLGdCQUNaMVAsV0FBVyxXQUNUME0sRUFBY3J3QixFQUFRM2EsSUFDckIrbkIsRUFBVWltQixpQkFFYmhELEVBQWNyd0IsRUFBUTNhLEdBR3hCWixFQUFPa1EsSUFBSSx5QkFNZm9YLDRCQUE0QnRuQixHQUk1QkEsRUFBTzJ0QyxJQUFNLElBQUlwc0Isd0JBQXdCdmhCLEVBQVF3TixHQTZFMUN4TiIsImZpbGUiOiJMb2dpblJhZGl1c1YyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cclxuLypcclxuICogSmF2YVNjcmlwdCBNRDVcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2JsdWVpbXAvSmF2YVNjcmlwdC1NRDVcclxuICpcclxuICogQ29weXJpZ2h0IDIwMTEsIFNlYmFzdGlhbiBUc2NoYW5cclxuICogaHR0cHM6Ly9ibHVlaW1wLm5ldFxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbiAqXHJcbiAqIEJhc2VkIG9uXHJcbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgUlNBIERhdGEgU2VjdXJpdHksIEluYy4gTUQ1IE1lc3NhZ2VcclxuICogRGlnZXN0IEFsZ29yaXRobSwgYXMgZGVmaW5lZCBpbiBSRkMgMTMyMS5cclxuICogVmVyc2lvbiAyLjIgQ29weXJpZ2h0IChDKSBQYXVsIEpvaG5zdG9uIDE5OTkgLSAyMDA5XHJcbiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXRcclxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXHJcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXHJcbiAqL1xyXG5cclxuLyogZ2xvYmFsIGRlZmluZSAqL1xyXG5cclxuOyAoZnVuY3Rpb24gKCQpIHtcclxuICAndXNlIHN0cmljdCdcclxuXHJcbiAgLypcclxuICAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHlcclxuICAqIHRvIHdvcmsgYXJvdW5kIGJ1Z3MgaW4gc29tZSBKUyBpbnRlcnByZXRlcnMuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBzYWZlQWRkKHgsIHkpIHtcclxuICAgIHZhciBsc3cgPSAoeCAmIDB4ZmZmZikgKyAoeSAmIDB4ZmZmZik7XHJcbiAgICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNilcclxuICAgIHJldHVybiAobXN3IDw8IDE2KSB8IChsc3cgJiAweGZmZmYpXHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxyXG4gICovXHJcbiAgZnVuY3Rpb24gYml0Um90YXRlTGVmdChudW0sIGNudCkge1xyXG4gICAgcmV0dXJuIChudW0gPDwgY250KSB8IChudW0gPj4+ICgzMiAtIGNudCkpXHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICogVGhlc2UgZnVuY3Rpb25zIGltcGxlbWVudCB0aGUgZm91ciBiYXNpYyBvcGVyYXRpb25zIHRoZSBhbGdvcml0aG0gdXNlcy5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIG1kNWNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XHJcbiAgICByZXR1cm4gc2FmZUFkZChiaXRSb3RhdGVMZWZ0KHNhZmVBZGQoc2FmZUFkZChhLCBxKSwgc2FmZUFkZCh4LCB0KSksIHMpLCBiKVxyXG4gIH1cclxuICBmdW5jdGlvbiBtZDVmZihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XHJcbiAgICByZXR1cm4gbWQ1Y21uKChiICYgYykgfCAofmIgJiBkKSwgYSwgYiwgeCwgcywgdClcclxuICB9XHJcbiAgZnVuY3Rpb24gbWQ1Z2coYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgcmV0dXJuIG1kNWNtbigoYiAmIGQpIHwgKGMgJiB+ZCksIGEsIGIsIHgsIHMsIHQpXHJcbiAgfVxyXG4gIGZ1bmN0aW9uIG1kNWhoKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcclxuICAgIHJldHVybiBtZDVjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KVxyXG4gIH1cclxuICBmdW5jdGlvbiBtZDVpaShhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XHJcbiAgICByZXR1cm4gbWQ1Y21uKGMgXiAoYiB8IH5kKSwgYSwgYiwgeCwgcywgdClcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgKiBDYWxjdWxhdGUgdGhlIE1ENSBvZiBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzLCBhbmQgYSBiaXQgbGVuZ3RoLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gYmlubE1ENSh4LCBsZW4pIHtcclxuICAgIC8qIGFwcGVuZCBwYWRkaW5nICovXHJcbiAgICB4W2xlbiA+PiA1XSB8PSAweDgwIDw8IChsZW4gJSAzMilcclxuICAgIHhbKChsZW4gKyA2NCkgPj4+IDkgPDwgNCkgKyAxNF0gPSBsZW5cclxuXHJcbiAgICB2YXIgaVxyXG4gICAgdmFyIG9sZGFcclxuICAgIHZhciBvbGRiXHJcbiAgICB2YXIgb2xkY1xyXG4gICAgdmFyIG9sZGRcclxuICAgIHZhciBhID0gMTczMjU4NDE5M1xyXG4gICAgdmFyIGIgPSAtMjcxNzMzODc5XHJcbiAgICB2YXIgYyA9IC0xNzMyNTg0MTk0XHJcbiAgICB2YXIgZCA9IDI3MTczMzg3OFxyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxNikge1xyXG4gICAgICBvbGRhID0gYVxyXG4gICAgICBvbGRiID0gYlxyXG4gICAgICBvbGRjID0gY1xyXG4gICAgICBvbGRkID0gZFxyXG5cclxuICAgICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaV0sIDcsIC02ODA4NzY5MzYpXHJcbiAgICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxXSwgMTIsIC0zODk1NjQ1ODYpXHJcbiAgICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTcsIDYwNjEwNTgxOSlcclxuICAgICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDNdLCAyMiwgLTEwNDQ1MjUzMzApXHJcbiAgICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNywgLTE3NjQxODg5NylcclxuICAgICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDVdLCAxMiwgMTIwMDA4MDQyNilcclxuICAgICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDZdLCAxNywgLTE0NzMyMzEzNDEpXHJcbiAgICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyA3XSwgMjIsIC00NTcwNTk4MylcclxuICAgICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA3LCAxNzcwMDM1NDE2KVxyXG4gICAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgOV0sIDEyLCAtMTk1ODQxNDQxNylcclxuICAgICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTcsIC00MjA2MylcclxuICAgICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDExXSwgMjIsIC0xOTkwNDA0MTYyKVxyXG4gICAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA3LCAxODA0NjAzNjgyKVxyXG4gICAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMTNdLCAxMiwgLTQwMzQxMTAxKVxyXG4gICAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNywgLTE1MDIwMDIyOTApXHJcbiAgICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxNV0sIDIyLCAxMjM2NTM1MzI5KVxyXG5cclxuICAgICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDFdLCA1LCAtMTY1Nzk2NTEwKVxyXG4gICAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgNl0sIDksIC0xMDY5NTAxNjMyKVxyXG4gICAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNCwgNjQzNzE3NzEzKVxyXG4gICAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpXSwgMjAsIC0zNzM4OTczMDIpXHJcbiAgICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyA1XSwgNSwgLTcwMTU1ODY5MSlcclxuICAgICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDEwXSwgOSwgMzgwMTYwODMpXHJcbiAgICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE0LCAtNjYwNDc4MzM1KVxyXG4gICAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgNF0sIDIwLCAtNDA1NTM3ODQ4KVxyXG4gICAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgOV0sIDUsIDU2ODQ0NjQzOClcclxuICAgICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDE0XSwgOSwgLTEwMTk4MDM2OTApXHJcbiAgICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTQsIC0xODczNjM5NjEpXHJcbiAgICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA4XSwgMjAsIDExNjM1MzE1MDEpXHJcbiAgICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxM10sIDUsIC0xNDQ0NjgxNDY3KVxyXG4gICAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMl0sIDksIC01MTQwMzc4NClcclxuICAgICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDddLCAxNCwgMTczNTMyODQ3MylcclxuICAgICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDEyXSwgMjAsIC0xOTI2NjA3NzM0KVxyXG5cclxuICAgICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KVxyXG4gICAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgOF0sIDExLCAtMjAyMjU3NDQ2MylcclxuICAgICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTYsIDE4MzkwMzA1NjIpXHJcbiAgICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpXHJcbiAgICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNCwgLTE1MzA5OTIwNjApXHJcbiAgICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA0XSwgMTEsIDEyNzI4OTMzNTMpXHJcbiAgICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpXHJcbiAgICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxMF0sIDIzLCAtMTA5NDczMDY0MClcclxuICAgICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNCwgNjgxMjc5MTc0KVxyXG4gICAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpXHJcbiAgICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTYsIC03MjI1MjE5NzkpXHJcbiAgICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyA2XSwgMjMsIDc2MDI5MTg5KVxyXG4gICAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpXHJcbiAgICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyAxMl0sIDExLCAtNDIxODE1ODM1KVxyXG4gICAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNiwgNTMwNzQyNTIwKVxyXG4gICAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKVxyXG5cclxuICAgICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaV0sIDYsIC0xOTg2MzA4NDQpXHJcbiAgICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyA3XSwgMTAsIDExMjY4OTE0MTUpXHJcbiAgICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE1LCAtMTQxNjM1NDkwNSlcclxuICAgICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDVdLCAyMSwgLTU3NDM0MDU1KVxyXG4gICAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA2LCAxNzAwNDg1NTcxKVxyXG4gICAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgM10sIDEwLCAtMTg5NDk4NjYwNilcclxuICAgICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTUsIC0xMDUxNTIzKVxyXG4gICAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMV0sIDIxLCAtMjA1NDkyMjc5OSlcclxuICAgICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA2LCAxODczMzEzMzU5KVxyXG4gICAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTVdLCAxMCwgLTMwNjExNzQ0KVxyXG4gICAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE1LCAtMTU2MDE5ODM4MClcclxuICAgICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDEzXSwgMjEsIDEzMDkxNTE2NDkpXHJcbiAgICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNiwgLTE0NTUyMzA3MClcclxuICAgICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDExXSwgMTAsIC0xMTIwMjEwMzc5KVxyXG4gICAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE1LCA3MTg3ODcyNTkpXHJcbiAgICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyA5XSwgMjEsIC0zNDM0ODU1NTEpXHJcblxyXG4gICAgICBhID0gc2FmZUFkZChhLCBvbGRhKVxyXG4gICAgICBiID0gc2FmZUFkZChiLCBvbGRiKVxyXG4gICAgICBjID0gc2FmZUFkZChjLCBvbGRjKVxyXG4gICAgICBkID0gc2FmZUFkZChkLCBvbGRkKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFthLCBiLCBjLCBkXVxyXG4gIH1cclxuXHJcbiAgLypcclxuICAqIENvbnZlcnQgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcyB0byBhIHN0cmluZ1xyXG4gICovXHJcbiAgZnVuY3Rpb24gYmlubDJyc3RyKGlucHV0KSB7XHJcbiAgICB2YXIgaVxyXG4gICAgdmFyIG91dHB1dCA9ICcnXHJcbiAgICB2YXIgbGVuZ3RoMzIgPSBpbnB1dC5sZW5ndGggKiAzMlxyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDMyOyBpICs9IDgpIHtcclxuICAgICAgb3V0cHV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGlucHV0W2kgPj4gNV0gPj4+IChpICUgMzIpKSAmIDB4ZmYpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0cHV0XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICogQ29udmVydCBhIHJhdyBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xyXG4gICogQ2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGlnaC1ieXRlIHNpbGVudGx5IGlnbm9yZWQuXHJcbiAgKi9cclxuICBmdW5jdGlvbiByc3RyMmJpbmwoaW5wdXQpIHtcclxuICAgIHZhciBpXHJcbiAgICB2YXIgb3V0cHV0ID0gW11cclxuICAgIG91dHB1dFsoaW5wdXQubGVuZ3RoID4+IDIpIC0gMV0gPSB1bmRlZmluZWRcclxuICAgIGZvciAoaSA9IDA7IGkgPCBvdXRwdXQubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgb3V0cHV0W2ldID0gMFxyXG4gICAgfVxyXG4gICAgdmFyIGxlbmd0aDggPSBpbnB1dC5sZW5ndGggKiA4XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoODsgaSArPSA4KSB7XHJcbiAgICAgIG91dHB1dFtpID4+IDVdIHw9IChpbnB1dC5jaGFyQ29kZUF0KGkgLyA4KSAmIDB4ZmYpIDw8IChpICUgMzIpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0cHV0XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICogQ2FsY3VsYXRlIHRoZSBNRDUgb2YgYSByYXcgc3RyaW5nXHJcbiAgKi9cclxuICBmdW5jdGlvbiByc3RyTUQ1KHMpIHtcclxuICAgIHJldHVybiBiaW5sMnJzdHIoYmlubE1ENShyc3RyMmJpbmwocyksIHMubGVuZ3RoICogOCkpXHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICogQ2FsY3VsYXRlIHRoZSBITUFDLU1ENSwgb2YgYSBrZXkgYW5kIHNvbWUgZGF0YSAocmF3IHN0cmluZ3MpXHJcbiAgKi9cclxuICBmdW5jdGlvbiByc3RySE1BQ01ENShrZXksIGRhdGEpIHtcclxuICAgIHZhciBpXHJcbiAgICB2YXIgYmtleSA9IHJzdHIyYmlubChrZXkpXHJcbiAgICB2YXIgaXBhZCA9IFtdXHJcbiAgICB2YXIgb3BhZCA9IFtdXHJcbiAgICB2YXIgaGFzaFxyXG4gICAgaXBhZFsxNV0gPSBvcGFkWzE1XSA9IHVuZGVmaW5lZFxyXG4gICAgaWYgKGJrZXkubGVuZ3RoID4gMTYpIHtcclxuICAgICAgYmtleSA9IGJpbmxNRDUoYmtleSwga2V5Lmxlbmd0aCAqIDgpXHJcbiAgICB9XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xyXG4gICAgICBpcGFkW2ldID0gYmtleVtpXSBeIDB4MzYzNjM2MzZcclxuICAgICAgb3BhZFtpXSA9IGJrZXlbaV0gXiAweDVjNWM1YzVjXHJcbiAgICB9XHJcbiAgICBoYXNoID0gYmlubE1ENShpcGFkLmNvbmNhdChyc3RyMmJpbmwoZGF0YSkpLCA1MTIgKyBkYXRhLmxlbmd0aCAqIDgpXHJcbiAgICByZXR1cm4gYmlubDJyc3RyKGJpbmxNRDUob3BhZC5jb25jYXQoaGFzaCksIDUxMiArIDEyOCkpXHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICogQ29udmVydCBhIHJhdyBzdHJpbmcgdG8gYSBoZXggc3RyaW5nXHJcbiAgKi9cclxuICBmdW5jdGlvbiByc3RyMmhleChpbnB1dCkge1xyXG4gICAgdmFyIGhleFRhYiA9ICcwMTIzNDU2Nzg5YWJjZGVmJ1xyXG4gICAgdmFyIG91dHB1dCA9ICcnXHJcbiAgICB2YXIgeFxyXG4gICAgdmFyIGlcclxuICAgIGZvciAoaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICB4ID0gaW5wdXQuY2hhckNvZGVBdChpKVxyXG4gICAgICBvdXRwdXQgKz0gaGV4VGFiLmNoYXJBdCgoeCA+Pj4gNCkgJiAweDBmKSArIGhleFRhYi5jaGFyQXQoeCAmIDB4MGYpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0cHV0XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICogRW5jb2RlIGEgc3RyaW5nIGFzIHV0Zi04XHJcbiAgKi9cclxuICBmdW5jdGlvbiBzdHIycnN0clVURjgoaW5wdXQpIHtcclxuICAgIHJldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoaW5wdXQpKVxyXG4gIH1cclxuXHJcbiAgLypcclxuICAqIFRha2Ugc3RyaW5nIGFyZ3VtZW50cyBhbmQgcmV0dXJuIGVpdGhlciByYXcgb3IgaGV4IGVuY29kZWQgc3RyaW5nc1xyXG4gICovXHJcbiAgZnVuY3Rpb24gcmF3TUQ1KHMpIHtcclxuICAgIHJldHVybiByc3RyTUQ1KHN0cjJyc3RyVVRGOChzKSlcclxuICB9XHJcbiAgZnVuY3Rpb24gaGV4TUQ1KHMpIHtcclxuICAgIHJldHVybiByc3RyMmhleChyYXdNRDUocykpXHJcbiAgfVxyXG4gIGZ1bmN0aW9uIHJhd0hNQUNNRDUoaywgZCkge1xyXG4gICAgcmV0dXJuIHJzdHJITUFDTUQ1KHN0cjJyc3RyVVRGOChrKSwgc3RyMnJzdHJVVEY4KGQpKVxyXG4gIH1cclxuICBmdW5jdGlvbiBoZXhITUFDTUQ1KGssIGQpIHtcclxuICAgIHJldHVybiByc3RyMmhleChyYXdITUFDTUQ1KGssIGQpKVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbWQ1KHN0cmluZywga2V5LCByYXcpIHtcclxuICAgIGlmICgha2V5KSB7XHJcbiAgICAgIGlmICghcmF3KSB7XHJcbiAgICAgICAgcmV0dXJuIGhleE1ENShzdHJpbmcpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJhd01ENShzdHJpbmcpXHJcbiAgICB9XHJcbiAgICBpZiAoIXJhdykge1xyXG4gICAgICByZXR1cm4gaGV4SE1BQ01ENShrZXksIHN0cmluZylcclxuICAgIH1cclxuICAgIHJldHVybiByYXdITUFDTUQ1KGtleSwgc3RyaW5nKVxyXG4gIH1cclxuICAkLm1kNSA9IG1kNTtcclxufSkodGhpcyk7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xyXG4vLyBWYWxpZGF0aW9uIHZhbGlkYXRlLmpzXHJcbihmdW5jdGlvbihxLCByLCBtKSB7XHJcbiAgICB2YXIgcyA9IHtcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IFwiVGhlICVzIGZpZWxkIGlzIHJlcXVpcmVkLlwiLFxyXG4gICAgICAgICAgICB2YWxpZF9waG9uZW5vOiAnVGhlICVzIGZpZWxkIGlzIG5vdCB2YWxpZC4nLFxyXG4gICAgICAgICAgICBtYXRjaGVzOiBcIlRoZSAlcyBmaWVsZCBkb2VzIG5vdCBtYXRjaCB0aGUgJXMgZmllbGQuXCIsXHJcbiAgICAgICAgICAgIFwiZGVmYXVsdFwiOiBcIlRoZSAlcyBmaWVsZCBpcyBzdGlsbCBzZXQgdG8gZGVmYXVsdCwgcGxlYXNlIGNoYW5nZS5cIixcclxuICAgICAgICAgICAgdmFsaWRfZW1haWw6IFwiVGhlICVzIGZpZWxkIG11c3QgY29udGFpbiBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIsXHJcbiAgICAgICAgICAgIHZhbGlkX2VtYWlsczogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIGFsbCB2YWxpZCBlbWFpbCBhZGRyZXNzZXMuXCIsXHJcbiAgICAgICAgICAgIG1pbl9sZW5ndGg6IFwiVGhlICVzIGZpZWxkIG11c3QgYmUgYXQgbGVhc3QgJXMgY2hhcmFjdGVycyBpbiBsZW5ndGguXCIsXHJcbiAgICAgICAgICAgIG1heF9sZW5ndGg6IFwiVGhlICVzIGZpZWxkIG11c3Qgbm90IGV4Y2VlZCAlcyBjaGFyYWN0ZXJzIGluIGxlbmd0aC5cIixcclxuICAgICAgICAgICAgZXhhY3RfbGVuZ3RoOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGJlIGV4YWN0bHkgJXMgY2hhcmFjdGVycyBpbiBsZW5ndGguXCIsXHJcbiAgICAgICAgICAgIGdyZWF0ZXJfdGhhbjogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAlcy5cIixcclxuICAgICAgICAgICAgbGVzc190aGFuOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSBudW1iZXIgbGVzcyB0aGFuICVzLlwiLFxyXG4gICAgICAgICAgICBhbHBoYTogXCJUaGUgJXMgZmllbGQgbXVzdCBvbmx5IGNvbnRhaW4gYWxwaGFiZXRpY2FsIGNoYXJhY3RlcnMuXCIsXHJcbiAgICAgICAgICAgIGFscGhhX251bWVyaWM6IFwiVGhlICVzIGZpZWxkIG11c3Qgb25seSBjb250YWluIGFscGhhLW51bWVyaWMgY2hhcmFjdGVycy5cIixcclxuICAgICAgICAgICAgYWxwaGFfZGFzaDogXCJUaGUgJXMgZmllbGQgbXVzdCBvbmx5IGNvbnRhaW4gYWxwaGEtbnVtZXJpYyBjaGFyYWN0ZXJzLCB1bmRlcnNjb3JlcywgYW5kIGRhc2hlcy5cIixcclxuICAgICAgICAgICAgYWxwaGFfbnVtZXJpY19kYXNoX2NvbWJvOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gb25seSBjb21iaW5hdGlvbiBvZiBhbHBoYS1udW1lcmljIGNoYXJhY3RlcnMgYW5kIGRhc2hlcy5cIixcclxuICAgICAgICAgICAgYWxwaGFudW1lcmljX2NvbWJvOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gb25seSBjb21iaW5hdGlvbiBvZiBhbHBoYS1udW1lcmljIGNoYXJhY3RlcnMuXCIsXHJcbiAgICAgICAgICAgIG51bWVyaWM6IFwiVGhlICVzIGZpZWxkIG11c3QgY29udGFpbiBvbmx5IG51bWJlcnMuXCIsXHJcbiAgICAgICAgICAgIGludGVnZXI6IFwiVGhlICVzIGZpZWxkIG11c3QgY29udGFpbiBhbiBpbnRlZ2VyLlwiLFxyXG4gICAgICAgICAgICBkZWNpbWFsOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSBkZWNpbWFsIG51bWJlci5cIixcclxuICAgICAgICAgICAgaXNfbmF0dXJhbDogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIG9ubHkgcG9zaXRpdmUgbnVtYmVycy5cIixcclxuICAgICAgICAgICAgaXNfbmF0dXJhbF9ub196ZXJvOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSBudW1iZXIgZ3JlYXRlciB0aGFuIHplcm8uXCIsXHJcbiAgICAgICAgICAgIHZhbGlkX2lwOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSB2YWxpZCBJUC5cIixcclxuICAgICAgICAgICAgdmFsaWRfYmFzZTY0OiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSBiYXNlNjQgc3RyaW5nLlwiLFxyXG4gICAgICAgICAgICB2YWxpZF9jcmVkaXRfY2FyZDogXCJUaGUgJXMgZmllbGQgbXVzdCBjb250YWluIGEgdmFsaWQgY3JlZGl0IGNhcmQgbnVtYmVyLlwiLFxyXG4gICAgICAgICAgICBpc19maWxlX3R5cGU6IFwiVGhlICVzIGZpZWxkIG11c3QgY29udGFpbiBvbmx5ICVzIGZpbGVzLlwiLFxyXG4gICAgICAgICAgICB2YWxpZF91cmw6IFwiVGhlICVzIGZpZWxkIG11c3QgY29udGFpbiBhIHZhbGlkIFVSTC5cIixcclxuICAgICAgICAgICAgdmFsaWRfY2FfemlwOiBcIlRoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSB2YWxpZCBQb3N0YWwgQ29kZS5cIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdCA9IGZ1bmN0aW9uKGEpIHt9LFxyXG4gICAgICAgIGN6aXAgPSAvXltBQkNFR0hKS0xNTlBSU1RWWFldezF9XFxkezF9W0EtWl17MX0gKlxcZHsxfVtBLVpdezF9XFxkezF9JC8sXHJcbiAgICAgICAgcE4gPSAvXihcXFxcKyl8KDlbOTc2XVxcZHw4Wzk4NzUzMF1cXGR8Nls5ODddXFxkfDVbOTBdXFxkfDQyXFxkfDNbODc1XVxcZHwyWzk4NjU0MzIxXVxcZHw5Wzg1NDMyMTBdfDhbNjQyMV18Nls2NTQzMjEwXXw1Wzg3NjU0MzIxXXw0Wzk4NzY1NDMxMF18M1s5NjQzMjEwXXwyWzcwXXw3fDEpXFxkezEsMTR9JC8sXHJcbiAgICAgICAgdSA9IC9eKC4rPylcXFsoLispXFxdJC8sXHJcbiAgICAgICAgaCA9IC9eWzAtOV0rJC8sXHJcbiAgICAgICAgYU5EQyA9IC9eKD89LipbYS16QS1aXSkoPz0uKlxcZCkoPz0uKlstXSlbQS1aYS16XFxkXVtBLVphLXpcXGQtXSskL2ksXHJcbiAgICAgICAgYU5DID0gL14oPz0uKlswLTldKSg/PS4qW2EtekEtWl0pKFthLXpBLVowLTldKykkLyxcclxuICAgICAgICB2ID0gL15cXC0/WzAtOV0rJC8sXHJcbiAgICAgICAgayA9IC9eXFwtP1swLTldKlxcLj9bMC05XSskLyxcclxuICAgICAgICBwID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC8sXHJcbiAgICAgICAgdyA9IC9eW2Etel0rJC9pLFxyXG4gICAgICAgIHggPSAvXlthLXowLTldKyQvaSxcclxuICAgICAgICB5ID0gL15bYS16MC05X1xcLV0rJC9pLFxyXG4gICAgICAgIHogPSAvXlswLTldKyQvaSxcclxuICAgICAgICBBID0gL15bMS05XVswLTldKiQvaSxcclxuICAgICAgICBCID0gL14oKDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFswLTldezEsMn0pXFwuKXszfSgyNVswLTVdfDJbMC00XVswLTldfDFbMC05XXsyfXxbMC05XXsxLDJ9KSQvaSxcclxuICAgICAgICBDID0gL1teYS16QS1aMC05XFwvXFwrPV0vaSxcclxuICAgICAgICBEID0gL15bXFxkXFwtXFxzXSskLyxcclxuICAgICAgICBFID0gL14oKGh0dHB8aHR0cHMpOlxcL1xcLyhcXHcrOnswLDF9XFx3KkApPyhcXFMrKXwpKDpbMC05XSspPyhcXC98XFwvKFtcXHcjITouPys9JiVAIVxcLVxcL10pKT8kLyxcclxuICAgICAgICBlID0gZnVuY3Rpb24oYSwgYiwgYykge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrID0gYyB8fCB0O1xyXG4gICAgICAgICAgICB0aGlzLmVycm9ycyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmZpZWxkcyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmZvcm0gPSB0aGlzLl9mb3JtQnlOYW1lT3JOb2RlKGEpIHx8IHt9O1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VzID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcclxuICAgICAgICAgICAgYSA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoYyA9IGIubGVuZ3RoOyBhIDwgYzsgYSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGJbYV07XHJcbiAgICAgICAgICAgICAgICBpZiAoKGQubmFtZSB8fCBkLm5hbWVzKSAmJiBkLnJ1bGVzKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkLm5hbWVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGQubmFtZXMubGVuZ3RoOyBsKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRGaWVsZChkLCBkLm5hbWVzW2xdKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEZpZWxkKGQsIGQubmFtZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZyA9IHRoaXMuZm9ybS5vbnN1Ym1pdDtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5fdmFsaWRhdGVGb3JtKGIpICYmIChnID09PSBtIHx8IGcoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoYykge31cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAodGhpcylcclxuICAgICAgICB9LFxyXG4gICAgICAgIG4gPSBmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICAgIHZhciBjO1xyXG4gICAgICAgICAgICBpZiAoMCA8IGEubGVuZ3RoICYmIChcInJhZGlvXCIgPT09IGFbMF0udHlwZSB8fCBcImNoZWNrYm94XCIgPT09IGFbMF0udHlwZSkpXHJcbiAgICAgICAgICAgICAgICBmb3IgKGMgPSAwOyBjIDwgYS5sZW5ndGg7IGMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhW2NdLmNoZWNrZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhW2NdW2JdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBhW2JdXHJcbiAgICAgICAgfTtcclxuICAgIGUucHJvdG90eXBlLnNldE1lc3NhZ2UgPSBmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlc1thXSA9IGI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5yZWdpc3RlckNhbGxiYWNrID0gZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgIGEgJiYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhICYmIGIgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYikgJiYgKHRoaXMuaGFuZGxlcnNbYV0gPSBiKTtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLl9mb3JtQnlOYW1lT3JOb2RlID0gZnVuY3Rpb24oYSkge1xyXG4gICAgICAgIHJldHVybiBcIm9iamVjdFwiID09PSB0eXBlb2YgYSA/IGEgOiByLmZvcm1zW2FdXHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuX2FkZEZpZWxkID0gZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgIHRoaXMuZmllbGRzW2JdID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBiLFxyXG4gICAgICAgICAgICBkaXNwbGF5OiBhLmRpc3BsYXkgfHwgYixcclxuICAgICAgICAgICAgcnVsZXM6IGEucnVsZXMsXHJcbiAgICAgICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlOiBudWxsLFxyXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICAgICAgY2hlY2tlZDogbnVsbFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5fdmFsaWRhdGVGb3JtID0gZnVuY3Rpb24oYSkge1xyXG4gICAgICAgIHRoaXMuZXJyb3JzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgYiBpbiB0aGlzLmZpZWxkcylcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmllbGRzLmhhc093blByb3BlcnR5KGIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMuZmllbGRzW2JdIHx8IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGQgPSB0aGlzLmZvcm1bYy5uYW1lXTtcclxuICAgICAgICAgICAgICAgIGQgJiYgZCAhPT0gbSAmJiAoYy5pZCA9IG4oZCwgXCJpZFwiKSwgYy50eXBlID0gMCA8IGQubGVuZ3RoID8gZFswXS50eXBlIDogZC50eXBlLCBjLnZhbHVlID0gbihkLCBcInZhbHVlXCIpLCBjLmNoZWNrZWQgPSBuKGQsIFwiY2hlY2tlZFwiKSwgdGhpcy5fdmFsaWRhdGVGaWVsZChjKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHRoaXMuY2FsbGJhY2sgJiYgdGhpcy5jYWxsYmFjayh0aGlzLmVycm9ycywgYSk7XHJcbiAgICAgICAgMCA8IHRoaXMuZXJyb3JzLmxlbmd0aCAmJiAoYSAmJiBhLnByZXZlbnREZWZhdWx0ID8gYS5wcmV2ZW50RGVmYXVsdCgpIDogZXZlbnQgJiYgKGV2ZW50LnJldHVyblZhbHVlID0gITEpKTtcclxuICAgICAgICByZXR1cm4gITBcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5fdmFsaWRhdGVGaWVsZCA9IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICBmb3IgKHZhciBiID0gYS5ydWxlcy5zcGxpdChcInxcIiksIGMgPSBhLnJ1bGVzLmluZGV4T2YoXCJyZXF1aXJlZFwiKSwgZCA9ICFhLnZhbHVlIHx8IFwiXCIgPT09IGEudmFsdWUgfHwgYS52YWx1ZSA9PT0gbSwgbCA9IDAsIGcgPSBiLmxlbmd0aDsgbCA8IGc7IGwrKykge1xyXG4gICAgICAgICAgICB2YXIgZiA9IGJbbF0sXHJcbiAgICAgICAgICAgICAgICBlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGggPSAhMSxcclxuICAgICAgICAgICAgICAgIGsgPSB1LmV4ZWMoZik7XHJcbiAgICAgICAgICAgIGlmICgtMSAhPT0gYyB8fCAtMSAhPT0gZi5pbmRleE9mKFwiIWNhbGxiYWNrX1wiKSB8fCAhZClcclxuICAgICAgICAgICAgICAgIGlmIChrICYmIChmID0ga1sxXSwgZSA9IGtbMl0pLCBcIiFcIiA9PT0gZi5jaGFyQXQoMCkgJiYgKGYgPSBmLnN1YnN0cmluZygxLCBmLmxlbmd0aCkpLCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0aGlzLl9ob29rc1tmXSA/IHRoaXMuX2hvb2tzW2ZdLmFwcGx5KHRoaXMsIFthLCBlXSkgfHwgKGggPSAhMCkgOiBcImNhbGxiYWNrX1wiID09PSBmLnN1YnN0cmluZygwLCA5KSAmJiAoZiA9IGYuc3Vic3RyaW5nKDksIGYubGVuZ3RoKSwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdGhpcy5oYW5kbGVyc1tmXSAmJiAhMSA9PT0gdGhpcy5oYW5kbGVyc1tmXS5hcHBseSh0aGlzLCBbYS52YWx1ZSwgZV0pICYmIChoID0gITApKSwgaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGIgPSB0aGlzLm1lc3NhZ2VzW2YgKyBcIiNcIiArIGEubmFtZV0gfHwgdGhpcy5tZXNzYWdlc1tmXSB8fCBzW2ZdO1xyXG4gICAgICAgICAgICAgICAgICAgIGMgPSBcIkFuIGVycm9yIGhhcyBvY2N1cnJlZCB3aXRoIHRoZSBcIiArIGEuZGlzcGxheSArIFwiIGZpZWxkLlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGIgJiYgKGMgPSBiLnJlcGxhY2UoXCIlc1wiLCBhLmRpc3BsYXkpLCBlICYmICgoY3UgPSBlLmluZGV4T2YoXCIjIyNcIikgPj0gMCAmJiBlLnNwbGl0KFwiIyMjXCIpKSA/IGN1WzFdICYmIChjID0gY3VbMV0pIDogYyA9IGMucmVwbGFjZShcIiVzXCIsIHRoaXMuZmllbGRzW2VdID8gdGhpcy5maWVsZHNbZV0uZGlzcGxheSA6IGUpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIElkOiBhLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOYW1lOiBhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1lc3NhZ2U6IGMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJ1bGU6IGZcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5faG9va3MgPSB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgdmFyIGIgPSBhLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgcmV0dXJuIFwiY2hlY2tib3hcIiA9PT0gYS50eXBlIHx8IFwicmFkaW9cIiA9PT0gYS50eXBlID8gITAgPT09IGEuY2hlY2tlZCA6IG51bGwgIT09IGIgJiYgXCJcIiAhPT0gYlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJkZWZhdWx0XCI6IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEudmFsdWUgIT09IGJcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1hdGNoZXM6IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmZvcm1bYl07XHJcbiAgICAgICAgICAgIHJldHVybiBjID8gYS52YWx1ZSA9PT0gYy52YWx1ZSA6ICExXHJcbiAgICAgICAgfSxcclxuICAgICAgICB2YWxpZF9jYV96aXA6IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN6aXAudGVzdChhLnZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLypjdXN0b21fdmFsaWRhdGlvbjogZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICB2YXIgYyA9IGIuc3BsaXQoXCIjIyNcIilbMF07XHJcbiAgICAgICAgICAgIGMgPSBjLnNwbGl0KFwib3JcIikuam9pbihcInxcIik7XHJcbiAgICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoYywgXCJnXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVnZXgudGVzdChhLnZhbHVlKVxyXG4gICAgICAgIH0sKi9cclxuICAgICAgICB2YWxpZF9lbWFpbDogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcC50ZXN0KGEudmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICB2YWxpZF9lbWFpbHM6IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgYSA9IGEudmFsdWUuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IGEubGVuZ3RoOyBiKyspXHJcbiAgICAgICAgICAgICAgICBpZiAoIXAudGVzdChhW2JdKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgICAgIHJldHVybiAhMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWluX2xlbmd0aDogZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gaC50ZXN0KGIpID8gYS52YWx1ZS5sZW5ndGggPj0gcGFyc2VJbnQoYiwgMTApIDogITFcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1heF9sZW5ndGg6IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGgudGVzdChiKSA/IGEudmFsdWUubGVuZ3RoIDw9IHBhcnNlSW50KGIsIDEwKSA6ICExXHJcbiAgICAgICAgfSxcclxuICAgICAgICBleGFjdF9sZW5ndGg6IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGgudGVzdChiKSA/IGEudmFsdWUubGVuZ3RoID09PSBwYXJzZUludChiLCAxMCkgOiAhMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ3JlYXRlcl90aGFuOiBmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBrLnRlc3QoYS52YWx1ZSkgPyBwYXJzZUZsb2F0KGEudmFsdWUpID4gcGFyc2VGbG9hdChiKSA6ICExXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZXNzX3RoYW46IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGsudGVzdChhLnZhbHVlKSA/IHBhcnNlRmxvYXQoYS52YWx1ZSkgPCBwYXJzZUZsb2F0KGIpIDogITFcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFscGhhOiBmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3LnRlc3QoYS52YWx1ZSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFscGhhX251bWVyaWM6IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgudGVzdChhLnZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWxwaGFfZGFzaDogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICByZXR1cm4geS50ZXN0KGEudmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhbHBoYV9udW1lcmljX2Rhc2hfY29tYm86IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFOREMudGVzdChhLnZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWxwaGFudW1lcmljX2NvbWJvOiBmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhTkMudGVzdChhLnZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbnVtZXJpYzogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaC50ZXN0KGEudmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbnRlZ2VyOiBmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2LnRlc3QoYS52YWx1ZSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlY2ltYWw6IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGsudGVzdChhLnZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNfbmF0dXJhbDogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gei50ZXN0KGEudmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc19uYXR1cmFsX25vX3plcm86IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEEudGVzdChhLnZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmFsaWRfaXA6IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEIudGVzdChhLnZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmFsaWRfcGhvbmVubzogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHBOLnRlc3QoYS52YWx1ZSkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmFsaWRfYmFzZTY0OiBmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDLnRlc3QoYS52YWx1ZSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZhbGlkX3VybDogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gRS50ZXN0KGEudmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICB2YWxpZF9jcmVkaXRfY2FyZDogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICBpZiAoIUQudGVzdChhLnZhbHVlKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgdmFyIGIgPSAwLFxyXG4gICAgICAgICAgICAgICAgYyA9IDAsXHJcbiAgICAgICAgICAgICAgICBkID0gITE7XHJcbiAgICAgICAgICAgIGEgPSBhLnZhbHVlLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgZSA9IGEubGVuZ3RoIC0gMTsgMCA8PSBlOyBlLS0pXHJcbiAgICAgICAgICAgICAgICBjID0gYS5jaGFyQXQoZSksIGMgPSBwYXJzZUludChjLCAxMCksIGQgJiYgOSA8IChjICo9IDIpICYmIChjIC09IDkpLCBiICs9IGMsIGQgPSAhZDtcclxuICAgICAgICAgICAgcmV0dXJuIDAgPT09IGIgJSAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNfZmlsZV90eXBlOiBmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICAgIGlmIChcImZpbGVcIiAhPT0gYS50eXBlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICB2YXIgYyA9IGEudmFsdWUuc3Vic3RyKGEudmFsdWUubGFzdEluZGV4T2YoXCIuXCIpICsgMSksXHJcbiAgICAgICAgICAgICAgICBkID0gYi5zcGxpdChcIixcIiksXHJcbiAgICAgICAgICAgICAgICBlID0gITEsXHJcbiAgICAgICAgICAgICAgICBtID0gMCxcclxuICAgICAgICAgICAgICAgIGYgPSBkLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgbTsgbSA8IGY7IG0rKylcclxuICAgICAgICAgICAgICAgIGMgPT0gZFttXSAmJiAoZSA9ICEwKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcS5Gb3JtVmFsaWRhdG9yID0gZVxyXG59KSh3aW5kb3csIGRvY3VtZW50KTtcblxyXG4vKipcclxuICogQG5hbWVzcGFjZSBMUk5hbWVTcGFjZVxyXG4gKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbnZhciBMUk5hbWVTcGFjZSA9IHt9O1xyXG5cbihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemUgc3RvcmFnZSBnZXR0ZXIvc2V0dGVyL3JlbW92ZSBtZXRob2RzXHJcbiAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlXHJcbiAgICogQHR5cGUge29iamVjdH1cclxuICAgKiBAbmFtZXNwYWNlIExSTmFtZVNwYWNlLlN0b3JhZ2VcclxuICAgKi9cclxuICBjb250ZXh0LlN0b3JhZ2UgPSBmdW5jdGlvbiAobW9kdWxlLCBMb2dpblJhZGl1c0RlZmF1bHRzKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvKipcclxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuU3RvcmFnZSNcclxuICAgICAgKiBAZnVuY3Rpb24gaXNMb2NhbFN0b3JhZ2VOYW1lU3VwcG9ydGVkXHJcbiAgICAgICogQHBhcmFtIHtTdHJpbmd9IGxzTmFtZSBzdHJpbmdcclxuICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlL2ZhbHNlICBib29sZWFuIHZhbHVlXHJcbiAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrIGJyb3dzZXIgbG9jYWwgc3RvcmFnZSBuYW1lIHN1cHBvcnRlZCBvciBub3QuXHJcbiAgICAgICovXHJcbiAgICAgIGlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZDogZnVuY3Rpb24gKGxzTmFtZSkge1xyXG4gICAgICAgIGlmICh3aW5kb3dbbHNOYW1lXSkge1xyXG4gICAgICAgICAgdmFyIHRlc3RLZXkgPSAndGVzdCc7XHJcbiAgICAgICAgICB2YXIgc3RvcmFnZSA9IHdpbmRvd1tsc05hbWVdO1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHRlc3RLZXksICcxJyk7XHJcbiAgICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh0ZXN0S2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5TdG9yYWdlI1xyXG4gICAqIEBmdW5jdGlvbiBzZXRCcm93c2VyU3RvcmFnZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgc3RyaW5nXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIHN0cmluZ1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTZXQgb2JqZWN0IGluIGJyb3dzZXIgbG9jYWwgc3RvcmFnZS5cclxuICAgKi9cclxuICAgICAgc2V0QnJvd3NlclN0b3JhZ2U6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGNvb2tpZUZhbGxiYWNrID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5pc0xvY2FsU3RvcmFnZU5hbWVTdXBwb3J0ZWQoJ2xvY2FsU3RvcmFnZScpKSB7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcclxuICAgICAgICAgIGNvb2tpZUZhbGxiYWNrID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZCgnc2Vzc2lvblN0b3JhZ2UnKSkge1xyXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcclxuICAgICAgICAgIGNvb2tpZUZhbGxiYWNrID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29va2llRmFsbGJhY2sgJiYgbW9kdWxlICYmIG1vZHVsZS5vcHRpb25zKSB7XHJcbiAgICAgICAgICBjb250ZXh0LmNvb2tpZXMuc2V0SXRlbShrZXksIHZhbHVlLCAnJywgbW9kdWxlLm9wdGlvbnMuYXBwUGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlN0b3JhZ2UjXHJcbiAgICAgICogQGZ1bmN0aW9uIGdldEJyb3dzZXJTdG9yYWdlXHJcbiAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBzdHJpbmdcclxuICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHZhbHVlIHN0cmluZ1xyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgc2F2ZWQgdmFsdWVzIGZyb20gYnJvd3NlciBsb2NhbCBzdG9yYWdlLlxyXG4gICAgICAqL1xyXG4gICAgICBnZXRCcm93c2VyU3RvcmFnZTogZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmIChMb2dpblJhZGl1c0RlZmF1bHRzICYmIGtleSA9PT0gTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpIHtcclxuICAgICAgICAgIHZhciB2YWwgPSB0aGlzLmdldEJyb3dzZXJTdG9yYWdlKCdsci1zZXNzaW9uLXRva2VuJyk7XHJcbiAgICAgICAgICBpZiAodmFsKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKC9cIi9nLCAnJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUsIHZhbCk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZCgnbG9jYWxTdG9yYWdlJykgJiZcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgIT09IG51bGwgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSAhPT0gdW5kZWZpbmVkICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgIT09ICcnKSB7XHJcbiAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZCgnc2Vzc2lvblN0b3JhZ2UnKSAmJlxyXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpICE9PSBudWxsICYmIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KSAhPT0gdW5kZWZpbmVkICYmIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KSAhPT0gJycpIHtcclxuICAgICAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29udGV4dC5jb29raWVzLmdldEl0ZW0oa2V5KTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5TdG9yYWdlI1xyXG4gICAgICAqIEBmdW5jdGlvbiByZW1vdmVCcm93c2VyU3RvcmFnZVxyXG4gICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgc3RyaW5nXHJcbiAgICAgICogQGRlc2NyaXB0aW9uIFJlbW92ZSBzYXZlIG9iamVjdCBmcm9tIGJyb3dzZXIgbG9jYWwgc3RvcmFnZS5cclxuICAgICAgKi9cclxuICAgICAgcmVtb3ZlQnJvd3NlclN0b3JhZ2U6IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgY29va2llRmFsbGJhY2sgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZCgnbG9jYWxTdG9yYWdlJykpIHtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICAgICAgICBjb29raWVGYWxsYmFjayA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0xvY2FsU3RvcmFnZU5hbWVTdXBwb3J0ZWQoJ3Nlc3Npb25TdG9yYWdlJykpIHtcclxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgIGNvb2tpZUZhbGxiYWNrID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29va2llRmFsbGJhY2sgJiYgbW9kdWxlICYmIG1vZHVsZS5vcHRpb25zKSB7XHJcbiAgICAgICAgICBjb250ZXh0LmNvb2tpZXMucmVtb3ZlSXRlbShrZXksIG1vZHVsZS5vcHRpb25zLmFwcFBhdGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgIH07XHJcbiAgfTtcclxufSkoTFJOYW1lU3BhY2UpO1xyXG5cbihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemUgZG9jdW1lbnQgY29va2llcyBnZXR0ZXIvc2V0dGVyL3JlbW92ZSBtZXRob2RzXHJcbiAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlXHJcbiAgICogQHR5cGUge29iamVjdH1cclxuICAgKiBAbmFtZXNwYWNlIExSTmFtZVNwYWNlLmNvb2tpZXNcclxuICAgKi9cclxuICBjb250ZXh0LmNvb2tpZXMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJucyB2YWx1ZSBvZiB0aGUgc3BlY2lmaWVkIGRvY3VtZW50IGNvb2tpZSBPYmplY3QgaXRlbS5cclxuICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5jb29raWVzI1xyXG4gICAgICogQGZ1bmN0aW9uIGdldEl0ZW1cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzS2V5IC0gQSBTdHJpbmcgc3BlY2lmeWluZyB0aGUgbmFtZSBvZiB0aGUga2V5IHlvdSB3YW50IHRvIGdldCB0aGUgdmFsdWUgb2YuXHJcbiAgICAgKiBAcmV0dXJuIHtudWxsfE9iamVjdH0gIHJldHVybiB0aGUgdmFsdWUgb2Ygc3BlY2lmaWVkIGtleSBmcm9tIGNvb2tpZXMuXHJcbiAgICAgKi9cclxuICAgIGdldEl0ZW06IGZ1bmN0aW9uIChzS2V5KSB7XHJcbiAgICAgIGlmICghc0tleSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxyXG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyg/Oig/Ol58Lio7KVxcXFxzKicgKyBlbmNvZGVVUklDb21wb25lbnQoc0tleSkucmVwbGFjZSgvW1xcLVxcLlxcK1xcKl0vZywgJ1xcXFwkJicpICsgJ1xcXFxzKlxcXFw9XFxcXHMqKFteO10qKS4qJCl8Xi4qJCcpLCAnJDEnKSkgfHwgbnVsbDtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgc2V0cyB0aGUgdmFsdWUgb2YgdGhlIHNwZWNpZmllZCBkb2N1bWVuIGNvb2tpZSBzdG9yYWdlIE9iamVjdCBpdGVtXHJcbiAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuY29va2llcyNcclxuICAgICAqIEBmdW5jdGlvbiBzZXRJdGVtXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc0tleSAtIEEgU3RyaW5nIHNwZWNpZnlpbmcgdGhlIG5hbWUgb2YgdGhlIGtleSB5b3Ugd2FudCB0byBzZXQgdGhlIHZhbHVlIG9mLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNWYWx1ZSAtIHNwZWNpZnlpbmcgdGhlIHZhbHVlIG9mIHRoZSBrZXkgeW91IHdhbnQgdG8gc2V0IHRoZSB2YWx1ZSBvZlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZFbmRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzUGF0aCAtIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcGF0aCBvZiB0aGUgY29va2llLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNEb21haW4gLSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRvbWFpbiBvZiB0aGUgY29va2llLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJTZWN1cmUgLSBBIGJvb2xlYW4gdGhhdCBzcGVjaWZpZXMgd2hldGhlciB0aGUgY29va2llIHNob3VsZCBiZSBtYXJrZWQgYXMgc2VjdXJlICh0cnVlKSwgb3Igbm90IChmYWxzZSkuXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBjaGVjayBrZXkgaXMgYWxyZWFkeSB0aGVyZSBvciBub3QgaW4gU3RvcmFnZSAuXHJcbiAgICAgKi9cclxuICAgIHNldEl0ZW06IGZ1bmN0aW9uIChzS2V5LCBzVmFsdWUsIHZFbmQsIHNQYXRoLCBzRG9tYWluLCBiU2VjdXJlKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxyXG4gICAgICBpZiAoIXNLZXkgfHwgL14oPzpleHBpcmVzfG1heFxcLWFnZXxwYXRofGRvbWFpbnxzZWN1cmUpJC9pLnRlc3Qoc0tleSkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHNFeHBpcmVzID0gJyc7XHJcbiAgICAgIHZhciB2RXhwaXJ5RGF0ZSA9IHtcclxuICAgICAgICBnZXRJblN0cmluZ0Zvcm1hdDogZnVuY3Rpb24gKG5NYXhBZ2UpIHsgLy8gXCJtYXgtYWdlXCIgaW4gc2Vjb25kXHJcbiAgICAgICAgICBpZiAobk1heEFnZSA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdGcmksIDMxIERlYyA5OTk5IDIzOjU5OjU5IEdNVCc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgZERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcclxuICAgICAgICAgIGREYXRlLnNldFRpbWUoZERhdGUuZ2V0VGltZSgpICsgKG5NYXhBZ2UgKiAxMDAwKSk7XHJcbiAgICAgICAgICByZXR1cm4gZERhdGUudG9HTVRTdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIGlmICh2RW5kKSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlZmF1bHQtY2FzZVxyXG4gICAgICAgIHN3aXRjaCAodkVuZC5jb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgICAgY2FzZSBOdW1iZXI6XHJcbiAgICAgICAgICAgIHNFeHBpcmVzID0gJzsgZXhwaXJlcz0nICsgdkV4cGlyeURhdGUuZ2V0SW5TdHJpbmdGb3JtYXQodkVuZCkgKyB2RW5kID09PSBJbmZpbml0eSA/ICcnIDogJzsgbWF4LWFnZT0nICsgdkVuZDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFN0cmluZzpcclxuICAgICAgICAgICAgc0V4cGlyZXMgPSAnOyBleHBpcmVzPScgKyB2RW5kO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgRGF0ZTpcclxuICAgICAgICAgICAgc0V4cGlyZXMgPSAnOyBleHBpcmVzPScgKyB2RW5kLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQoc0tleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoc1ZhbHVlKSArIHNFeHBpcmVzICsgKHNEb21haW4gPyAnOyBkb21haW49JyArIHNEb21haW4gOiAnJykgKyAoc1BhdGggPyAnOyBwYXRoPScgKyBzUGF0aCA6ICcnKSArIChiU2VjdXJlID8gJzsgc2VjdXJlJyA6ICcnKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJlbW92ZXMgdGhlIHNwZWNpZmllZCBTdG9yYWdlIE9iamVjdCBpdGVtLi5cclxuICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5jb29raWVzI1xyXG4gICAgICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzS2V5IC0gQSBTdHJpbmcgc3BlY2lmeWluZyB0aGUgbmFtZSBvZiB0aGUgaXRlbSB5b3Ugd2FudCB0byByZW1vdmUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc1BhdGggLSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHBhdGggb2YgdGhlIGNvb2tpZS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzRG9tYWluIC0gQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkb21haW4gb2YgdGhlIGNvb2tpZS5cclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGl0ZW0gaGFzIGJlZW4gcmVtb3ZlZCBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIChzS2V5LCBzUGF0aCwgc0RvbWFpbikge1xyXG4gICAgICBpZiAoIXRoaXMuaGFzSXRlbShzS2V5KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQoc0tleSkgKyAnPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCcgKyAoc0RvbWFpbiA/ICc7IGRvbWFpbj0nICsgc0RvbWFpbiA6ICcnKSArIChzUGF0aCA/ICc7IHBhdGg9JyArIHNQYXRoIDogJycpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgY2hlY2sgdGhlIHNwZWNpZmllZCBTdG9yYWdlIE9iamVjdCBpdGVtIGF2YWlsYWJsZSBvciBub3QuXHJcbiAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuY29va2llcyNcclxuICAgICAqIEBmdW5jdGlvbiBoYXNJdGVtXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc0tleSAtIEEgU3RyaW5nIHNwZWNpZnlpbmcgdGhlIG5hbWUgb2YgdGhlIGl0ZW0geW91IHdhbnQgdG8gZmluZC5cclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGl0ZW0gaGFzIGJlZW4gcHJlc2VudCBvciBub3QgaW4gc3RvcmFnZS5cclxuICAgICAqL1xyXG4gICAgaGFzSXRlbTogZnVuY3Rpb24gKHNLZXkpIHtcclxuICAgICAgaWYgKCFzS2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxyXG4gICAgICByZXR1cm4gKG5ldyBSZWdFeHAoJyg/Ol58O1xcXFxzKiknICsgZW5jb2RlVVJJQ29tcG9uZW50KHNLZXkpLnJlcGxhY2UoL1tcXC1cXC5cXCtcXCpdL2csICdcXFxcJCYnKSArICdcXFxccypcXFxcPScpKS50ZXN0KGRvY3VtZW50LmNvb2tpZSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybnMgYWxsIHRoZSBzYXZlZCBrZXlzIGluIFN0b3JhZ2UgT2JqZWN0LlxyXG4gICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLmNvb2tpZXMjXHJcbiAgICAgKiBAZnVuY3Rpb24ga2V5c1xyXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFsbCB0aGUga2V5cyB0aGF0IHN0b3JlZCBpbiBzdG9yYWdlLlxyXG4gICAgICovXHJcbiAgICBrZXlzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxyXG4gICAgICB2YXIgYUtleXMgPSBkb2N1bWVudC5jb29raWUucmVwbGFjZSgvKCg/Ol58XFxzKjspW15cXD1dKykoPz07fCQpfF5cXHMqfFxccyooPzpcXD1bXjtdKik/KD86XFwxfCQpL2csICcnKS5zcGxpdCgvXFxzKig/OlxcPVteO10qKT87XFxzKi8pO1xyXG4gICAgICBmb3IgKHZhciBuTGVuID0gYUtleXMubGVuZ3RoLCBuSWR4ID0gMDsgbklkeCA8IG5MZW47IG5JZHgrKykge1xyXG4gICAgICAgIGFLZXlzW25JZHhdID0gZGVjb2RlVVJJQ29tcG9uZW50KGFLZXlzW25JZHhdKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYUtleXM7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxufSkoTFJOYW1lU3BhY2UpO1xyXG5cbihmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gIC8qKlxyXG4gKiBBbm5ub255bW91cyBMb2dpbiBtb2R1bGVcclxuICogQG1lbWJlcm9mIExSTmFtZVNwYWNlXHJcbiAqIEB0eXBlIHtvYmplY3R9XHJcbiAqIEBuYW1lc3BhY2UgTFJOYW1lU3BhY2UuTFJBbm9ueW1vdXNcclxuICovXHJcbiAgY29udGV4dC5MUkFub255bW91cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzdG9yYWdlID0gbmV3IGNvbnRleHQuU3RvcmFnZSgpO1xyXG4gICAgdmFyIGdlbmVyYXRlVWlkID0gZnVuY3Rpb24gKHNlcGFyYXRvcikge1xyXG4gICAgICB2YXIgZGVsaW0gPSBzZXBhcmF0b3IgfHwgJy0nO1xyXG5cclxuICAgICAgZnVuY3Rpb24gUzQgKCkge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgcmV0dXJuICgoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApIHwgMCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gKFM0KCkgKyBTNCgpICsgZGVsaW0gKyBTNCgpICsgZGVsaW0gKyBTNCgpICsgZGVsaW0gKyBTNCgpICsgZGVsaW0gKyBTNCgpICsgUzQoKSArIFM0KCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYXVpZENvb2tpZUtleSA9ICdfX2Fhc2F1aWQnO1xyXG4gICAgdmFyIHVybENvb2tpZUtleSA9ICdfX2Fhc3VybCc7XHJcbiAgICB2YXIgdWlkQ29va2llS2V5ID0gJ19hYXN1aWQnO1xyXG5cclxuICAgIHZhciB1aWRVcGRhdGUgPSBmYWxzZTtcclxuXHJcbiAgICB2YXIgdGl0bGUgPSBkb2N1bWVudC50aXRsZSB8fCBudWxsO1xyXG4gICAgdmFyIGxhbmd1YWdlID0gd2luZG93Lm5hdmlnYXRvci51c2VyTGFuZ3VhZ2UgfHwgd2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTtcclxuICAgIHZhciBlbmNvZGluZyA9IGRvY3VtZW50LmNoYXJhY3RlclNldCB8fCBkb2N1bWVudC5jaGFyc2V0O1xyXG4gICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgIHZhciBhZnRlck9uZVllYXIgPSBuZXcgRGF0ZSgodG9kYXkuZ2V0WWVhcigpICsgMSksICh0b2RheS5nZXRNb250aCgpICsgMSksICh0b2RheS5nZXREYXkoKSArIDEpKTtcclxuXHJcbiAgICB2YXIgYXVpZCA9ICcnO1xyXG4gICAgdmFyIHVpZCA9ICcnO1xyXG4gICAgdmFyIGxyc2l0ZSA9ICcnO1xyXG4gICAgdmFyIHByb3ZpZGVySWQgPSAnJztcclxuICAgIGlmIChzdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKHVpZENvb2tpZUtleSkpIHtcclxuICAgICAgdWlkID0gc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZSh1aWRDb29raWVLZXkpO1xyXG4gICAgfSBlbHNlIGlmIChzdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKCdsci11c2VyLXVpZCcpKSB7XHJcbiAgICAgIHVpZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgIHZhciB2YWwgPSBzdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKCdsci11c2VyLXVpZCcpO1xyXG4gICAgICB1aWQgPSB2YWw7XHJcbiAgICAgIHN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UodWlkQ29va2llS2V5LCB2YWwsIGFmdGVyT25lWWVhcik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoYXVpZENvb2tpZUtleSkpIHtcclxuICAgICAgYXVpZCA9IHN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoYXVpZENvb2tpZUtleSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhdWlkID0gZ2VuZXJhdGVVaWQoKTtcclxuICAgICAgc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShhdWlkQ29va2llS2V5LCBhdWlkLCBhZnRlck9uZVllYXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB1cmwgPSAnJztcclxuICAgIGZ1bmN0aW9uIHRyYWNrUGFnZVZpZXcgKCkge1xyXG4gICAgICBpZiAoc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZSh1cmxDb29raWVLZXkpKSB7XHJcbiAgICAgICAgdXJsID0gc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZSh1cmxDb29raWVLZXkpO1xyXG4gICAgICAgIGlmICgodXJsICE9PSBtZDUod2luZG93LmxvY2F0aW9uLmhyZWYpKSB8fCB1aWRVcGRhdGUpIHtcclxuICAgICAgICAgIHNldEltYWdlKCdwYWdlVmlldycpO1xyXG4gICAgICAgICAgc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZSh1cmxDb29raWVLZXksIG1kNSh3aW5kb3cubG9jYXRpb24uaHJlZiksIGFmdGVyT25lWWVhcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldEltYWdlKCdwYWdlVmlldycpO1xyXG4gICAgICAgIHN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UodXJsQ29va2llS2V5LCBtZDUod2luZG93LmxvY2F0aW9uLmhyZWYpLCBhZnRlck9uZVllYXIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24ganNvblRvUXVlcnlTdHJpbmcgKGpzb24pIHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGFycmF5LWNhbGxiYWNrLXJldHVyblxyXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoanNvbikubWFwKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBpZiAoanNvbltrZXldKSB7XHJcbiAgICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoanNvbltrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pLmpvaW4oJyYnKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNldEltYWdlIChldmVudCwgdXNlcnVpZCwgcHJvdmlkZXIsIGN1c3RvbUZpZWxkcykge1xyXG4gICAgICB2YXIgY2YgPSAnJztcclxuICAgICAgaWYgKGN1c3RvbUZpZWxkcykge1xyXG4gICAgICAgIGNmID0ganNvblRvUXVlcnlTdHJpbmcoY3VzdG9tRmllbGRzKTtcclxuICAgICAgfVxyXG4gICAgICBwcm92aWRlcklkID0gcHJvdmlkZXIgfHwgcHJvdmlkZXJJZDtcclxuICAgICAgdWlkID0gdXNlcnVpZCB8fCB1aWQ7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gICAgICAvLyB2YXIgc2NyZWVuUmVzb2x1dGlvbiA9IDA7XHJcbiAgICAgIHZhciBzY3JlZW5Db2xvckRlcHRoID0gMDtcclxuICAgICAgdmFyIHNjcmVlbkhlaWdodCwgc2NyZWVuV2lkdGg7XHJcbiAgICAgIGlmICh3aW5kb3cuc2NyZWVuKSB7XHJcbiAgICAgICAgc2NyZWVuSGVpZ2h0ID0gd2luZG93LnNjcmVlbi5oZWlnaHQ7XHJcbiAgICAgICAgc2NyZWVuV2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoO1xyXG4gICAgICAgIHNjcmVlbkNvbG9yRGVwdGggPSB3aW5kb3cuc2NyZWVuLmNvbG9yRGVwdGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgaW1nLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcclxuICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSkge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGltZy5zcmMgPSAnLy9nYXVnZWFwcC5scmNvbnRlbnQuY29tL2ltYWdlLmdpZj9hYXNzaXRlPScgKyBscnNpdGUgKyAnJmFhc2F1aWQ9JyArIGF1aWQgKyAnJmFhc3VpZD0nICsgdWlkICsgJyZhYXN1cmw9JyArIHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgJyZhYXNzaD0nICsgc2NyZWVuSGVpZ2h0ICsgJyZhYXNzdz0nICsgc2NyZWVuV2lkdGggKyAnJmFhc3NjZD0nICsgc2NyZWVuQ29sb3JEZXB0aCArICcmYWFzaG49JyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArICcmYWFzcHQ9JyArIHRpdGxlICsgJyZhYXNsbj0nICsgbGFuZ3VhZ2UgKyAnJmFhc2VuYz0nICsgZW5jb2RpbmcgKyAnJmFhc2V2PScgKyBldmVudCArICcmYWFzaWRwcm92PScgKyBwcm92aWRlcklkICsgJyYnICsgY2Y7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgdHJhY2sgdGhlIHVzZXIncyBjdXN0b20gZXZlbnQuXHJcbiAgICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5MUkFub255bW91cyNcclxuICAgICAgICogQGZ1bmN0aW9uIHRyYWNrXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZXZlbnQ9XCJwYWdlVmlld1wiXSAtIEFueSBldmVudCB5b3Ugd2FudCB0byB0cmFjay5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFt1aWQ9bnVsbF0gLSB1c2VyJ3MgVWlkLlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb3ZpZGVyPW51bGxdIC0gdXNlcidzIGxvZ2luIHByb3ZpZGVyLlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW2N1c3RvbUZpZWxkcz1udWxsXSAtIGUuZy4gIHsgXCJjZl9vcmRlcmlkXCIgOiBcIjUzNDU1MlwiLCBcImNmX3Byb2R1Y3RJZFwiIDpcIjQxMjQxMjQxMlwiIH0uXHJcbiAgICAgICAqL1xyXG4gICAgICB0cmFjazogZnVuY3Rpb24gKGV2ZW50LCB1aWQsIHByb3ZpZGVyLCBjdXN0b21GaWVsZHMpIHtcclxuICAgICAgICB0aGlzLnNldFVpZCh1aWQpO1xyXG4gICAgICAgIHNldEltYWdlKGV2ZW50LCB1aWQsIHByb3ZpZGVyLCBjdXN0b21GaWVsZHMpO1xyXG4gICAgICB9LFxyXG4gICAgICAvKipcclxuICAgICAgICogVGhpcyBtZXRob2Qgd2lsbCBzZXQgdGhlIHVzZXIncyB1aWQgdG8gYnJvd3NlciBzdG9yYWdlLlxyXG4gICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuTFJBbm9ueW1vdXMjXHJcbiAgICAgICAqIEBmdW5jdGlvbiBzZXRVaWRcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gdXNlcidzIFVpZC5cclxuICAgICAgICovXHJcbiAgICAgIHNldFVpZDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgdWlkID0gaWQ7XHJcbiAgICAgICAgc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZSh1aWRDb29raWVLZXksIHVpZCwgYWZ0ZXJPbmVZZWFyKTtcclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgaW50aWFsaXplIHRoZSBBbm9ueW1vdXMgbG9naW4gd2l0aCBkZWZhdWx0IG9wdGlvbnMgbGlrZSBhcHBOYW1lLlxyXG4gICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuTFJBbm9ueW1vdXMjXHJcbiAgICAgICAqIEBmdW5jdGlvbiBpbml0XHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyB0byBzZXQgZm9yIGEgZGVmYXVsdCBjb25zdHJjdXRvciBvZiBMUkFub255bW91cyBtb2R1bGUuXHJcbiAgICAgICAqL1xyXG4gICAgICBpbml0OiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIHVpZCA9IG9wdGlvbnMudWlkIHx8IHVpZDtcclxuICAgICAgICBscnNpdGUgPSBvcHRpb25zLmFwcE5hbWUgfHwgb3B0aW9ucy5hcHBuYW1lO1xyXG4gICAgICAgIGlmICh1aWQpIHtcclxuICAgICAgICAgIHN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UodWlkQ29va2llS2V5LCB1aWQsIGFmdGVyT25lWWVhcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyYWNrUGFnZVZpZXcoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9O1xyXG59KShMUk5hbWVTcGFjZSk7XHJcblxuKGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZSBVdGlsaXRpZXMgbWV0aG9kc1xyXG4gICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZVxyXG4gICAqIEB0eXBlIHtvYmplY3R9XHJcbiAgICogQG5hbWVzcGFjZSBMUk5hbWVTcGFjZS5VdGlsaXRpZXNcclxuICAgKi9cclxuICBjb250ZXh0LlV0aWxpdGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogIEBkZXNjcmlwdGlvbiBFdmVyeXRoaW5nIHRoYXQgaGFzIHRvIGRvIHdpdGggcHJvcGVybHkgc3VwcG9ydGluZyBvdXIgZG9jdW1lbnQgcmVhZHkgZXZlbnQuIEJyb3VnaHQgb3ZlciBmcm9tIHRoZSBtb3N0IGF3ZXNvbWUgalF1ZXJ5LlxyXG4gICAgICovXHJcbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgLyoqXHJcbiAgICAqICBAZGVzY3JpcHRpb24gRmlndXJlIG91dCB3aGF0IGJyb3dzZXIgaXMgYmVpbmcgdXNlZFxyXG4gICAgKi9cclxuICAgIHZhciBicm93c2VyID0ge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcclxuICAgICAgdmVyc2lvbjogKHVzZXJBZ2VudC5tYXRjaCgvLisoPzpydnxpdHxyYXxpZSlbXFwvOiBdKFtcXGQuXSspLykgfHwgW10pWzFdLFxyXG4gICAgICBzYWZhcmk6IC93ZWJraXQvLnRlc3QodXNlckFnZW50KSxcclxuICAgICAgb3BlcmE6IC9vcGVyYS8udGVzdCh1c2VyQWdlbnQpLFxyXG4gICAgICBtc2llOiAoL21zaWUvLnRlc3QodXNlckFnZW50KSB8fCAvdHJpZGVudC8udGVzdCh1c2VyQWdlbnQpKSAmJiAoIS9vcGVyYS8udGVzdCh1c2VyQWdlbnQpKSxcclxuICAgICAgbW96aWxsYTogKC9tb3ppbGxhLy50ZXN0KHVzZXJBZ2VudCkpICYmICghLyhjb21wYXRpYmxlfHdlYmtpdCkvLnRlc3QodXNlckFnZW50KSlcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHJlYWR5Qm91bmQgPSBmYWxzZTtcclxuICAgIHZhciBpc1JlYWR5ID0gZmFsc2U7XHJcbiAgICB2YXIgcmVhZHlMaXN0ID0gW107XHJcbiAgICAvKipcclxuICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICogQHByaXZhdGVcclxuICAgICogQGZ1bmN0aW9uIGRvbVJlYWR5XHJcbiAgICAqIEBkZXNjcmlwdGlvbiBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZG9tUmVhZHkgKCkge1xyXG4gICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgRE9NIGlzIG5vdCBhbHJlYWR5IGxvYWRlZFxyXG4gICAgICBpZiAoIWlzUmVhZHkpIHtcclxuICAgICAgICAvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcclxuICAgICAgICBpc1JlYWR5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHJlYWR5TGlzdCkge1xyXG4gICAgICAgICAgZm9yICh2YXIgZm4gPSAwOyBmbiA8IHJlYWR5TGlzdC5sZW5ndGg7IGZuKyspIHtcclxuICAgICAgICAgICAgcmVhZHlMaXN0W2ZuXS5jYWxsKHdpbmRvdywgW10pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJlYWR5TGlzdCA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAqIEBwcml2YXRlXHJcbiAgICAqIEBmdW5jdGlvbiBhZGRMb2FkRXZlbnRcclxuICAgICogQGRlc2NyaXB0aW9uIEZyb20gU2ltb24gV2lsbGlzb24uIEEgc2FmZSB3YXkgdG8gZmlyZSBvbmxvYWQgdy9vIHNjcmV3aW5nIHVwIGV2ZXJ5b25lIGVsc2UuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWRkTG9hZEV2ZW50IChmdW5jKSB7XHJcbiAgICAgIHZhciBvbGRvbmxvYWQgPSB3aW5kb3cub25sb2FkO1xyXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdy5vbmxvYWQgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuYztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKG9sZG9ubG9hZCkge1xyXG4gICAgICAgICAgICBvbGRvbmxvYWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZ1bmMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICogQHByaXZhdGVcclxuICAgICogQGZ1bmN0aW9uIGJpbmRSZWFkeVxyXG4gICAgKiBAZGVzY3JpcHRpb24gRG9lcyB0aGUgaGVhdnkgd29yayBvZiB3b3JraW5nIHRocm91Z2ggdGhlIGJyb3dzZXJzIGlkaW9zeW5jcmFjaWVzIChsZXQncyBjYWxsIHRoZW0gdGhhdCkgdG8gaG9vayBvbmxvYWQuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gYmluZFJlYWR5ICgpIHtcclxuICAgICAgaWYgKHJlYWR5Qm91bmQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlYWR5Qm91bmQgPSB0cnVlO1xyXG5cclxuICAgICAgLy8gTW96aWxsYSwgT3BlcmEgKHNlZSBmdXJ0aGVyIGJlbG93IGZvciBpdCkgYW5kIHdlYmtpdCBuaWdodGxpZXMgY3VycmVudGx5IHN1cHBvcnQgdGhpcyBldmVudFxyXG4gICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAmJiAhYnJvd3Nlci5vcGVyYSkge1xyXG4gICAgICAgIC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZG9tUmVhZHksIGZhbHNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgSUUgaXMgdXNlZCBhbmQgaXMgbm90IGluIGEgZnJhbWVcclxuICAgICAgLy8gQ29udGludWFsbHkgY2hlY2sgdG8gc2VlIGlmIHRoZSBkb2N1bWVudCBpcyByZWFkeVxyXG4gICAgICBpZiAoYnJvd3Nlci5tc2llICYmIHdpbmRvdyA9PT0gdG9wKSB7XHJcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmIChpc1JlYWR5KSB7IHJldHVybjsgfVxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gSWYgSUUgaXMgdXNlZCwgdXNlIHRoZSB0cmljayBieSBEaWVnbyBQZXJpbmlcclxuICAgICAgICAgICAgLy8gaHR0cDovL2phdmFzY3JpcHQubndib3guY29tL0lFQ29udGVudExvYWRlZC9cclxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCdsZWZ0Jyk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBzZXRUaW1lb3V0KGFyZ3VtZW50cy5jYWxsZWUsIDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBhbmQgZXhlY3V0ZSBhbnkgd2FpdGluZyBmdW5jdGlvbnNcclxuICAgICAgICAgIGRvbVJlYWR5KCk7XHJcbiAgICAgICAgfSkoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGJyb3dzZXIub3BlcmEpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKGlzUmVhZHkpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5zdHlsZVNoZWV0c1tpXS5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwgMCk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBhbmQgZXhlY3V0ZSBhbnkgd2FpdGluZyBmdW5jdGlvbnNcclxuICAgICAgICAgIGRvbVJlYWR5KCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYnJvd3Nlci5zYWZhcmkpIHtcclxuICAgICAgICB2YXIgbnVtU3R5bGVzO1xyXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAoaXNSZWFkeSkgeyByZXR1cm47IH1cclxuICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnbG9hZGVkJyAmJiBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwgMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChudW1TdHlsZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB2YXIgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGxpbmtzW2ldLmdldEF0dHJpYnV0ZSgncmVsJykgPT09ICdzdHlsZXNoZWV0Jykge1xyXG4gICAgICAgICAgICAgICAgbnVtU3R5bGVzKys7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3R5bGUnKTtcclxuICAgICAgICAgICAgbnVtU3R5bGVzICs9IHN0eWxlcy5sZW5ndGg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoICE9PSBudW1TdHlsZXMpIHtcclxuICAgICAgICAgICAgLy8gc2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIGFuZCBleGVjdXRlIGFueSB3YWl0aW5nIGZ1bmN0aW9uc1xyXG4gICAgICAgICAgZG9tUmVhZHkoKTtcclxuICAgICAgICB9KSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xyXG4gICAgICBhZGRMb2FkRXZlbnQoZG9tUmVhZHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGJyb3dzZXI6IGJyb3dzZXIsXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xyXG4gICAgICAgKiBAZnVuY3Rpb24gZ2V0SGFzaFBhcmFtXHJcbiAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSBuYW1lXHJcbiAgICAgICAqIEByZXR1cm4ge1N0cmluZ30gIHZ0b2tlbiAgdG9rZW4gdmFsdWVcclxuICAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHZhbGlkYXRpb24gdG9rZW4gb3IgdHlwZSBmcm9tIGJyb3dzZXIgdXJsXHJcbiAgICAgICAqL1xyXG4gICAgICBnZXRIYXNoUGFyYW06IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIHZ0b2tlbjtcclxuICAgICAgICB2YXIgbWF0Y2hlcyA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLm1hdGNoKG5ldyBSZWdFeHAobmFtZSArICc9KFteJl0qKScpKTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCAmJiBtYXRjaGVzICE9IG51bGwpIHtcclxuICAgICAgICAgIHZ0b2tlbiA9IG1hdGNoZXNbMV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZ0b2tlbiA9IHRoaXMuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2dG9rZW47XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIGtleXNUb0xvd2VyQ2FzZVxyXG4gICAgICAqIEBwYXJhbSAge09iamVjdH0gb2JqIG9iamVjdFxyXG4gICAgICAqIEByZXR1cm4ge09iamVjdH0gIG5ld29iaiAgbmV3IG9iamVjdCB3aXRoIGxvd2VyY2FzZSBrZXlzXHJcbiAgICAgICogQGRlc2NyaXB0aW9uIENvbnZlcnQgb2JqZWN0IGtleXMgdG8gbG93ZXJjYXNlIGxldHRlclxyXG4gICAgICAqL1xyXG4gICAgICBrZXlzVG9Mb3dlckNhc2U6IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICB2YXIga2V5O1xyXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcclxuICAgICAgICB2YXIgbiA9IGtleXMubGVuZ3RoO1xyXG4gICAgICAgIHZhciBuZXdvYmogPSB7fTtcclxuICAgICAgICB3aGlsZSAobi0tKSB7XHJcbiAgICAgICAgICBrZXkgPSBrZXlzW25dO1xyXG4gICAgICAgICAgbmV3b2JqW2tleS50b0xvd2VyQ2FzZSgpXSA9IG9ialtrZXldO1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcclxuICAgICAgICAgIGlmICh0eXBlb2YgbmV3b2JqW2tleS50b0xvd2VyQ2FzZSgpXSA9PT0gJ29iamVjdCcgJiYgbmV3b2JqW2tleS50b0xvd2VyQ2FzZSgpXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIG5ld29ialtrZXkudG9Mb3dlckNhc2UoKV0gPSB0aGlzLmtleXNUb0xvd2VyQ2FzZShuZXdvYmpba2V5LnRvTG93ZXJDYXNlKCldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChuZXdvYmopO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICAgKiBAZnVuY3Rpb24gZWxlbWVudHNCeUNsYXNzXHJcbiAgICAgICogQHBhcmFtICB7U3RyaW5nfSBjbGFzc25hbWUgbmFtZSBvZiBjbGFzc1xyXG4gICAgICAqIEBwYXJhbSAge09iamVjdH0gIG5vZGUgIERPTSBlbGVtZW50XHJcbiAgICAgICogQHJldHVybiB7QXJyYXl9ICBhICBET00gZWxlbWVudHNcclxuICAgICAgKiBAZGVzY3JpcHRpb24gR2V0IGh0bWwgZWxlbWVudCBieSB1c2luZyBjbGFzcyBuYW1lIGZyb20gZ2l2ZW4gaHRtbCBET01cclxuICAgICAgKi9cclxuICAgICAgZWxlbWVudHNCeUNsYXNzOiBmdW5jdGlvbiAoY2xhc3NuYW1lLCBub2RlKSB7XHJcbiAgICAgICAgaWYgKGNsYXNzbmFtZSAhPT0gJycpIHtcclxuICAgICAgICAgIG5vZGUgPSBub2RlIHx8IGRvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgICB2YXIgYSA9IFtdO1xyXG4gICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgnKF58ICknICsgY2xhc3NuYW1lICsgJyggfCQpJyk7XHJcbiAgICAgICAgICB2YXIgZWxzID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBlbHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChyZS50ZXN0KGVsc1tpXS5jbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgYS5wdXNoKGVsc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xyXG4gICAgICogQGZ1bmN0aW9uIGlzVmFsaWRVcmxcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gdXJsVG9WYWxpZGF0ZSB1cmxcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICB0cnVlL2ZhbHNlICBib29sZWFuIHZhbHVlXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNoZWNrIGdpdmVuIHVybCBpcyB2YWlsZCBvciBub3RcclxuICAgICAqL1xyXG4gICAgICBpc1ZhbGlkVXJsOiBmdW5jdGlvbiAodXJsVG9WYWxpZGF0ZSkge1xyXG4gICAgICAgIHZhciBteVJlZ0V4cCA9IC9eKD86KD86aHR0cHM/fGZ0cCk6XFwvXFwvKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hMTAoPzpcXC5cXGR7MSwzfSl7M30pKD8hMTI3KD86XFwuXFxkezEsM30pezN9KSg/ITE2OVxcLjI1NCg/OlxcLlxcZHsxLDN9KXsyfSkoPyExOTJcXC4xNjgoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1teXFxzXSopPyQvaTtcclxuICAgICAgICByZXR1cm4gISghbXlSZWdFeHAudGVzdCh1cmxUb1ZhbGlkYXRlKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIGhhc0NsYXNzXHJcbiAgICAgICogQHBhcmFtICB7U3RyaW5nfSBjbHMgY2xhc3MgbmFtZVxyXG4gICAgICAqIEBwYXJhbSAge09iamVjdH0gZWxlICBET00gb2JqZWN0XHJcbiAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gIHRydWUvZmFsc2UgIGJvb2xlYW4gdmFsdWVcclxuICAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNoZWNrIGNsYXNzIG5hbWUgZXhpc3Qgb3Igbm90IGluIGdpdmVuIGh0bWwgZWxlbWVudFxyXG4gICAgICAqL1xyXG4gICAgICBoYXNDbGFzczogZnVuY3Rpb24gKGVsZSwgY2xzKSB7XHJcbiAgICAgICAgcmV0dXJuIGVsZS5jbGFzc05hbWUubWF0Y2gobmV3IFJlZ0V4cCgnKFxcXFxzfF4pJyArIGNscyArICcoXFxcXHN8JCknKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICAqIEBmdW5jdGlvbiBhZGRDbGFzc1xyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBjbHMgY2xhc3MgbmFtZVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBlbGUgIERPTSBvYmplY3RcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICB0cnVlL2ZhbHNlICBib29sZWFuIHZhbHVlXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGFwcGVuZCBuZXcgY2xhc3MgaW4gZ2l2ZW4gaHRtbCBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgICAgYWRkY2xhc3M6IGZ1bmN0aW9uIChlbGUsIGNscykge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXNDbGFzcyhlbGUsIGNscykpIHtcclxuICAgICAgICAgIGVsZS5jbGFzc05hbWUgKz0gJyAnICsgY2xzO1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICAgKiBAZnVuY3Rpb24gaXNTdWJzdHJpbmdcclxuICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9iaiAgT2JqZWN0XHJcbiAgICAgICogQHJldHVybiB7U3RyaW5nL0Jvb2xlYW59ICBrL2ZhbHNlICBrZXkgb2Ygb2JqZWN0XHJcbiAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrIGdpdmVuIHN0cmluZyBleGlzdGluZyBpbiBvYmplY3Qga2V5cyBvciBub3RcclxuICAgICAgKi9cclxuICAgICAgaXNTdWJzdHJpbmc6IGZ1bmN0aW9uICh3LCBvYmopIHtcclxuICAgICAgICBmb3IgKHZhciBrIGluIG9iaikge1xyXG4gICAgICAgICAgaWYgKG9ialtrXS5pbmRleE9mKHcpICE9PSAtMSkgeyByZXR1cm4gazsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xyXG4gICAgKiBAZnVuY3Rpb24gaXNKc29uU3RyaW5nXHJcbiAgICAqIEBwYXJhbSAge1N0cmluZ30gc3RyICBqc29uIHN0cmluZ1xyXG4gICAgKiBAcmV0dXJuIHtPYmplY3QvQm9vbGVhbn0gIG9iamVjdC9mYWxzZSAganNvbiBvYmplY3RcclxuICAgICogQGRlc2NyaXB0aW9uIENoZWNrIHBhc3Mgc3RyaW5nIGlzIGpzb24gc3RyaW5nIG9yIG5vdFxyXG4gICAgKi9cclxuICAgICAgaXNKc29uU3RyaW5nOiBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xyXG4gICAgICogQGZ1bmN0aW9uIGFkZEV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUgIGV2ZW50IHR5cGVcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZWxlbWVudCAgb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGhhbmRsZSAgc3RyaW5nXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gQWRkIGphdmFzY3JpcHQgZXZlbnQgb24gZ2l2ZW4gaHRtbCBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgICAgYWRkRXZlbnQ6IGZ1bmN0aW9uICh0eXBlLCBlbGVtZW50LCBoYW5kbGUpIHtcclxuICAgICAgICB2YXIgZWxlbWVudHMgPSBbXTtcclxuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICBlbGVtZW50cyA9IGVsZW1lbnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGVsZW1lbnRzW2ldWydvbicgKyB0eXBlXSA9IGhhbmRsZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xyXG4gICAgKiBAZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWVcclxuICAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICB0aGUgcXVlcnkgcGFyYW0gbmFtZSwgdG8gYmUgc2VyYWNoZWQgaW4gdGhlIFVSTFxyXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IFtzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2hdIFRoZSBVUkwgd2hlcmUgc2VhcmNoIG5lZWRzIHRvIGJlIGRvbmVcclxuICAgICogQHJldHVybiB7bnVsbHxTdHJpbmd9ICByZXN1bHRzICByZXR1cm4gdmFsdWVcclxuICAgICogQGRlc2NyaXB0aW9uIHJldHVybiB0aGUgdmFsdWUgb2Ygc3BlY2lmaWMgcXVlcnkgcGFyYW1ldGVyIHZhbHVlIGluIHRoZSBnaXZlbiBVUkwgb3IgY3VycmVudCBicm93c2VyIFVSTC5cclxuICAgICovXHJcbiAgICAgIGdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lOiBmdW5jdGlvbiAobmFtZSwgc2VhcmNoKSB7XHJcbiAgICAgICAgc2VhcmNoID0gJyYnICsgKHNlYXJjaCB8fCBsb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxyXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxcXFsnKS5yZXBsYWNlKC9bXFxdXS8sICdcXFxcXFxdJyk7XHJcbiAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnW1xcXFw/Jl0nICsgbmFtZSArICc9KFteJiNdKiknKTtcclxuICAgICAgICB2YXIgcmVzdWx0cyA9IHJlZ2V4LmV4ZWMoc2VhcmNoKTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxyXG4gICAgICAgIHJldHVybiByZXN1bHRzID09IG51bGwgPyBudWxsIDogZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xyXG4gICAgICB9LFxyXG4gICAgICAvKipcclxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xyXG4gICAgICAqIEBmdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWVcclxuICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgIHRoZSBxdWVyeSBwYXJhbSBuYW1lLCB0byBiZSBzZXJhY2hlZCBpbiB0aGUgY3VycmVudCB3aW5kb3cgVVJMXHJcbiAgICAgICogQHJldHVybiB7bnVsbHxTdHJpbmd9ICByZXN1bHRzIHJldHVybiBxdWVyeSBwYXJhbWV0ZXIgdmFsdWVcclxuICAgICAgKiBAZGVzY3JpcHRpb24gdGhlIHZhbHVlIG9mIHNwZWNpZmljIHF1ZXJ5IHBhcmFtZXRlciB2YWx1ZSBpbiB0aGUgY3VycmVudCBicm93c2VyIFVSTC5cclxuICAgICAgKi9cclxuICAgICAgZ2V0UGFyYW1ldGVyQnlOYW1lOiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxyXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxbJykucmVwbGFjZSgvW1xcXV0vLCAnXFxcXF0nKTtcclxuICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdbXFxcXD8mXScgKyBuYW1lICsgJz0oW14mI10qKScpO1xyXG4gICAgICAgIHZhciByZXN1bHRzID0gcmVnZXguZXhlYyhsb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHRzID09PSBudWxsID8gJycgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIGdldFF1ZXJ5U3RyaW5nVmFsdWVcclxuICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHVybCAgVGhlIFVSTCBpbiB3aGljaCBrZXkgbmVlZHMgdG8gYmUgc2VhcmNoZWRcclxuICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGtleSAgVGhlIGtleSBvciBxdWVyeSBwYXJhbVxyXG4gICAgICAqIEByZXR1cm4ge251bGx8U3RyaW5nfSAgcmV0dXJuIHZhbHVlIG9mIHRoZSBkZXNpcmVkIHF1ZXJ5IHBhcmFtXHJcbiAgICAgICogQGRlc2NyaXB0aW9uIEdldCBxdWVyeSBwYXJhbSB2YWx1ZVxyXG4gICAgICAqL1xyXG4gICAgICBnZXRRdWVyeVN0cmluZ1ZhbHVlOiBmdW5jdGlvbiAodXJsLCBrZXkpIHtcclxuICAgICAgICB2YXIgaHJlZiA9IHVybCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnWz8mXScgKyBrZXkgKyAnPShbXiYjXSopJywgJ2knKTtcclxuICAgICAgICB2YXIgc3RyaW5nID0gcmVnLmV4ZWMoaHJlZik7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZyA/IHN0cmluZ1sxXSA6IG51bGw7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIGV4dGVuZFxyXG4gICAgICAqIEBwYXJhbSAge09iamVjdH0gb2JqMSAgb2JqZWN0XHJcbiAgICAgICogQHBhcmFtICB7T2JqZWN0fSBvYmoyICBvYmplY3RcclxuICAgICAgKiBAZGVzY3JpcHRpb24gTWVyZ2UgdGhlIGNvbnRlbnRzIG9mIG9iamVjdCBvYmoyIGludG8gdGhlIGZpcnN0IG9iamVjdCBvYmoxXHJcbiAgICAgICovXHJcbiAgICAgIGV4dGVuZDogZnVuY3Rpb24gKG9iajEsIG9iajIpIHtcclxuICAgICAgICBmb3IgKHZhciBpIGluIG9iajIpIHtcclxuICAgICAgICAgIGlmIChvYmoyLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgIG9iajFbaV0gPSBvYmoyW2ldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAqIEBmdW5jdGlvbiByZWFkeVxyXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBmdW5jdGlvblxyXG4gICAgKiBAcGFyYW0ge2FueX0gYXJncyAgYW55IHR5cGVcclxuICAgICogQGRlc2NyaXB0aW9uIFRoaXMgaXMgdGhlIHB1YmxpYyBmdW5jdGlvbiB0aGF0IHBlb3BsZSBjYW4gdXNlIHRvIGhvb2sgdXAgcmVhZHkuXHJcbiAgICAqL1xyXG4gICAgICByZWFkeTogZnVuY3Rpb24gKGZuLCBhcmdzKSB7XHJcbiAgICAgICAgLy8gQXR0YWNoIHRoZSBsaXN0ZW5lcnNcclxuICAgICAgICBiaW5kUmVhZHkoKTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIERPTSBpcyBhbHJlYWR5IHJlYWR5XHJcbiAgICAgICAgaWYgKGlzUmVhZHkpIHtcclxuICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGZ1bmN0aW9uIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICBmbi5jYWxsKHdpbmRvdywgW10pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBBZGQgdGhlIGZ1bmN0aW9uIHRvIHRoZSB3YWl0IGxpc3RcclxuICAgICAgICAgIHJlYWR5TGlzdC5wdXNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwod2luZG93LCBbXSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdcclxuICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcXMgZW5jb2RlZCBxdWVyeSBzdHJpbmdcclxuICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iaiBKU09OIG9iamVjdFxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGVpIGZ1bmN0aW9uIGRlY29kZXMgdGhlIGVuZG9jZGVkIFVSSSBzdHJpbmcgdG8gbm9ybWFsIGpzb24gb2JqZWN0XHJcbiAgICAgICovXHJcbiAgICAgIHBhcnNlUXVlcnlTdHJpbmc6IGZ1bmN0aW9uIChxcykge1xyXG4gICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICBpZiAoKHFzIHx8IHFzICE9PSAnJykgJiYgdHlwZW9mIHFzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgdmFyIG5vZGVzID0gcXMuc3BsaXQoJyYnKTtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGtleVZhbHVlID0gbm9kZXNbaV0uc3BsaXQoJz0nKTtcclxuICAgICAgICAgICAgb2JqW2RlY29kZVVSSUNvbXBvbmVudChrZXlWYWx1ZVswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KGtleVZhbHVlWzFdKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlZFN0cmluZ1xyXG4gICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgc2ltcGxlIHN0cmluZ1xyXG4gICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3RyICBlbmNvZGVkIHN0cmluZ1xyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZW5jb2RlIGdpdmVuIHN0cmluZy5cclxuICAgICAgKi9cclxuICAgICAgZW5jb2RlZFN0cmluZzogZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgIGlmIChzdHIuaW5kZXhPZignJTJCJykgPT09IC0xKSB7XHJcbiAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvXFwrL2csICclMkInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICAgKiBAZnVuY3Rpb24gbWVyZ2VPcHRpb25zXHJcbiAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iajEgb2JqZWN0XHJcbiAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iajIgb2JqZWN0XHJcbiAgICAgICogQHJldHVybiB7T2JqZWN0fSBvYmozICBvYmplY3RcclxuICAgICAgKiBAZGVzY3JpcHRpb24gTWVyZ2UgdGhlIHR3byBvYmplY3RzIGNvbnRlbnRzLlxyXG4gICAgICAqL1xyXG4gICAgICBtZXJnZU9wdGlvbnM6IGZ1bmN0aW9uIChvYmoxLCBvYmoyKSB7XHJcbiAgICAgICAgdmFyIG9iajMgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBhdHRybmFtZSBpbiBvYmoxKSB7XHJcbiAgICAgICAgICBvYmozW2F0dHJuYW1lXSA9IG9iajFbYXR0cm5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBhdHRybmFtZTEgaW4gb2JqMikge1xyXG4gICAgICAgICAgb2JqM1thdHRybmFtZTFdID0gb2JqMlthdHRybmFtZTFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqMztcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIG1lcmdlT2JqZWN0c1xyXG4gICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycjEgYXJyYXlcclxuICAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnIyIGFycmF5XHJcbiAgICAgICogQHBhcmFtIHtCb29sZWFufSBmbGFnIHRydWUvZmFsc2VcclxuICAgICAgKiBAcmV0dXJuIHtBcnJheX0gYXJyMyAgYXJyYXlcclxuICAgICAgKiBAZGVzY3JpcHRpb24gTWVyZ2UgdGhlIHR3byBhcnJheSBvZiBvYmplY3RzLlxyXG4gICAgICAqL1xyXG4gICAgICBtZXJnZU9iamVjdHM6IGZ1bmN0aW9uIChhcnIxLCBhcnIyLCBmbGFnKSB7XHJcbiAgICAgICAgdmFyIGFycjMgPSBbXTtcclxuICAgICAgICB2YXIgY2hlY2s7XHJcbiAgICAgICAgZm9yICh2YXIgaSBpbiBhcnIxKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBqIGluIGFycjIpIHsgY2hlY2sgPSBmbGFnID8gKGFycjJbal0gPT09IGFycjFbaV0pIDogYXJyMltqXS5uYW1lID09PSBhcnIxW2ldLm5hbWU7IH1cclxuICAgICAgICAgIGlmIChjaGVjaykge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGFycjMucHVzaChhcnIxW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyMyA9IGFycjMuY29uY2F0KGFycjIpO1xyXG4gICAgICAgIHJldHVybiBhcnIzO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICAgKiBAZnVuY3Rpb24gaXNBcnJheVxyXG4gICAgICAqIEBwYXJhbSB7QW55fSBvIHR5cGUgYW55XHJcbiAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZS9mYWxzZSBib29lYW4gdmFsdWVcclxuICAgICAgKiBAZGVzY3JpcHRpb24gQ2hlY2sgcGFzc2VkIHBhcmFtZXRlciBpcyBhcnJheSBvciBub3QuXHJcbiAgICAgICovXHJcbiAgICAgIGlzQXJyYXk6IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIHJhbmRvbVN0cmluZ1xyXG4gICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggdHlwZSBudW1iZXJcclxuICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN0ciByYW5kb20gc3RyaW5nXHJcbiAgICAgICogQGRlc2NyaXB0aW9uIEdlbmVyYXRlIHJhbmRhbSBzdHJpbmcgYWNjb3JkaW5nIGdpdmVuIGxlbmd0aC5cclxuICAgICAgKi9cclxuICAgICAgcmFuZG9tU3RyaW5nOiBmdW5jdGlvbiAobGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGNoYXJzID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hUWmFiY2RlZmdoaWtsbW5vcHFyc3R1dnd4eXonLnNwbGl0KCcnKTtcclxuXHJcbiAgICAgICAgaWYgKCFsZW5ndGgpIHtcclxuICAgICAgICAgIGxlbmd0aCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc3RyID0gJyc7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgc3RyICs9IGNoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICAgKiBAZnVuY3Rpb24gZmluZEluU2NoZW1hXHJcbiAgICAgICogQHBhcmFtIHtBcnJheX0gc2NoZW1hIGFycmF5IG9mIG9iamVjdFxyXG4gICAgICAqIEBwYXJhbSB7QW55fSBrZXkga2V5IG9mIG9iamVjdFxyXG4gICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSBvZiBvYmplY3RcclxuICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNhc2VJbnNlbnNpdGl2ZSBmbGFnIGNhc2VJbnNlbnNpdGl2ZVxyXG4gICAgICAqIEByZXR1cm4ge09iamVjdHxudWxsfSBzY2hlbWEgb2JqZWN0IGZyb20gYXJyYXkgb2Ygb2JqZWN0XHJcbiAgICAgICogQGRlc2NyaXB0aW9uIEZpbmQgb2JqZWN0IGZyb20gc2NoZW1hLlxyXG4gICAgICAqL1xyXG4gICAgICBmaW5kSW5TY2hlbWE6IGZ1bmN0aW9uIChzY2hlbWEsIGtleSwgdmFsdWUsIGNhc2VJbnNlbnNpdGl2ZSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIga2V5cyA9IGNhc2VJbnNlbnNpdGl2ZSA/IHNjaGVtYVtpXSAmJiBzY2hlbWFbaV1ba2V5XS50b0xvd2VyQ2FzZSgpIDogc2NoZW1hW2ldICYmIHNjaGVtYVtpXVtrZXldO1xyXG4gICAgICAgICAgaWYgKGtleXMgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWFbaV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIGpzb25Ub1F1ZXJ5U3RyaW5nXHJcbiAgICAgICogQHBhcmFtIHtPYmplY3R9IGpzb24ganNvbiBvYmplY3RcclxuICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIGpzb24gb2JqZWN0IHRvIHVybCBxdWVyeSBzdHJpbmcuXHJcbiAgICAgICovXHJcbiAgICAgIGpzb25Ub1F1ZXJ5U3RyaW5nOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhqc29uKS5tYXAoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgaWYgKGpzb25ba2V5XSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoanNvbltrZXldKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KS5qb2luKCcmJyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICogQG1lbWJlcm9mIExSTmFtZVNwYWNlLlV0aWxpdGllcyNcclxuICAgICAqIEBmdW5jdGlvbiBpbnNlcnRCZWZvcmVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbCBzb3VyY2UgaHRtbCBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVmZXJlbmNlTm9kZSBkZXN0aW5hdGlvbiBodG1sIGVsZW1lbnRcclxuICAgICAqIEBkZXNjcmlwdGlvbiBJbnNlcnQgaHRtbCBjb250ZW50IGJlZm9yZSBhbnkgZ2l2ZW4gaHRtbCBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICAgIGluc2VydEJlZm9yZTogZnVuY3Rpb24gKGVsLCByZWZlcmVuY2VOb2RlKSB7XHJcbiAgICAgICAgcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbCwgcmVmZXJlbmNlTm9kZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIGlzRW1wdHlcclxuICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIG9iamVjdFxyXG4gICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUvZmFsc2UgYm9vbGVhbiB2YWx1ZVxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgaXMgb2JqZWN0IGVtcHR5LlxyXG4gICAgICAqL1xyXG4gICAgICBpc0VtcHR5OiBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIGtleXNsb3dlclRvVXBwZXJDYW1lbENhc2VcclxuICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIG9iamVjdFxyXG4gICAgICAqIEByZXR1cm4ge09iamVjdH0gbmV3b2JqIHVwZGF0ZWQgb2JqZWN0XHJcbiAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IG9iamVjdCBrZXlzIGxvd2VyY2FzZSBsZXR0ZXJzIHRvIHVwcGVyQ2FtZWxDYXNlIC5cclxuICAgICAgKi9cclxuICAgICAga2V5c2xvd2VyVG9VcHBlckNhbWVsQ2FzZTogZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHZhciBrZXk7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcclxuICAgICAgICB2YXIgbiA9IGtleXMubGVuZ3RoO1xyXG4gICAgICAgIHZhciBuZXdvYmogPSB7fTtcclxuICAgICAgICB3aGlsZSAobi0tKSB7XHJcbiAgICAgICAgICBrZXkgPSBrZXlzW25dO1xyXG4gICAgICAgICAgbmV3b2JqW2tleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHIoMSldID0gb2JqW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdvYmo7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qKlxyXG4gICAgICAqIEBtZW1iZXJvZiBMUk5hbWVTcGFjZS5VdGlsaXRpZXMjXHJcbiAgICAgICogQGZ1bmN0aW9uIGZpbmRFbGVtZW50QnlSZWdleFxyXG4gICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSAnaWQnIG9yICdjbGFzcycgb24gd2hpY2ggeW91IHdhbnQgdG8gdGVzdFxyXG4gICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXR0ZXJuIFJlZ2V4IHBhdHRlcm4gdG8gaWRlbnRpZnkgdGhlIGVsZW1lbnRcclxuICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcXVlcnlDcml0ZXJpYSBlbGVtZW50IHNlbGVjdGluZyBxdWVyeSBlLmcuIFwic2VsZWN0LmN1c3RvbS1zZWxlY3RcIlxyXG4gICAgICAqIEByZXR1cm4ge0FycmF5fSByZXFFbGVtc1xyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZmlsdGVycyBvdXQgdGhlIGh0bWwgZWxlbWVudCBiYXNlZCBvbiByZWdleC5cclxuICAgICAgKi9cclxuICAgICAgZmluZEVsZW1lbnRCeVJlZ2V4OiBmdW5jdGlvbiAocHJvcGVydHksIHBhdHRlcm4sIHF1ZXJ5Q3JpdGVyaWEpIHtcclxuICAgICAgICB2YXIgZWxlbXM7XHJcbiAgICAgICAgaWYgKHF1ZXJ5Q3JpdGVyaWEpIHtcclxuICAgICAgICAgIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChxdWVyeUNyaXRlcmlhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXFFbGVtcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChwYXR0ZXJuLnRlc3QoZWxlbXNbaV1bcHJvcGVydHldKSkge1xyXG4gICAgICAgICAgICByZXFFbGVtcy5wdXNoKGVsZW1zW2ldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcUVsZW1zO1xyXG4gICAgICB9LFxyXG4gICAgICAvKipcclxuICAgICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2UuVXRpbGl0aWVzI1xyXG4gICAgICAqIEBmdW5jdGlvbiBpc09iamVjdFxyXG4gICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvIG9iamVjdFxyXG4gICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUvZmFsc2UgYm9vbGVhbiB2YWx1ZVxyXG4gICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgcGFyYW1ldGVyIGhhcyBvYmplY3QgdHlwZS5cclxuICAgICAgKi9cclxuICAgICAgaXNPYmplY3Q6IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgcmV0dXJuIG8gaW5zdGFuY2VvZiBPYmplY3QgJiYgby5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbn0pKExSTmFtZVNwYWNlKTtcclxuXG4oZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAvKipcclxuICAgKiBQcm9ncmVzc2l2ZVByb2ZpbGluZyBtb2R1bGVcclxuICAgKiBAbWVtYmVyb2YgTFJOYW1lU3BhY2VcclxuICAgKiBAdHlwZSB7b2JqZWN0fVxyXG4gICAqIEBuYW1lc3BhY2UgTFJOYW1lU3BhY2UuUHJvZ3Jlc3NpdmVQcm9maWxpbmdcclxuICAgKi9cclxuICBjb250ZXh0LlByb2dyZXNzaXZlUHJvZmlsaW5nID0gZnVuY3Rpb24gKG1vZHVsZSwgY29tbW9uRm5zLCBjb250cm9sbGVycywgTG9naW5SYWRpdXNEZWZhdWx0cykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmV0Y2hTY2hlbWE6IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmNvbmZpZ0FwaURvbWFpbiArICdwcm9ncmVzc2l2ZVByb2ZpbGluZ1NjaGVtYT9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYXBwTmFtZT0nICsgbW9kdWxlLm9wdGlvbnMuYXBwTmFtZSwgJycsIGNiKTtcclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgICogQGZ1bmN0aW9uIHByb2dyZXNzaXZlUHJvZmlsaW5nLmV4ZWNTdGVwXHJcbiAgICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ZXBJZCBpZCBvZiBzdGVwXHJcbiAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgbHIgb3B0aW9ucyBvYmplY3RcclxuICAgICAgKiBAZGVzY3JpcHRpb24gRXhlY3V0aW9uIG9mICBwcm9ncmVzc2l2ZVByb2ZpbGluZyBzdGVwXHJcbiAgICAgICovXHJcbiAgICAgIGV4ZWNTdGVwOiBmdW5jdGlvbiAoc3RlcElkLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZ1NjaGVtYSkge1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXHJcbiAgICAgICAgICB2YXIgb25TdWNjZXNzID0gb3B0aW9ucy5vblN1Y2Nlc3MgfHwgZnVuY3Rpb24gKCkgeyB9O1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXHJcbiAgICAgICAgICB2YXIgb25FcnJvciA9IG9wdGlvbnMub25FcnJvciB8fCBmdW5jdGlvbiAoKSB7IH07XHJcbiAgICAgICAgICB2YXIgY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgfHwgJyc7XHJcbiAgICAgICAgICB2YXIgY2xhc3NQcmVmaXggPSBvcHRpb25zLmNsYXNzUHJlZml4IHx8ICcnO1xyXG4gICAgICAgICAgdmFyIHRlbXBsYXRlTmFtZSA9IG9wdGlvbnMudGVtcGxhdGVOYW1lIHx8ICcnO1xyXG4gICAgICAgICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xyXG4gICAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9zb2NpYWxpZGVudGl0eT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgJycsIGZ1bmN0aW9uICh1c2VycHJvZmlsZSkge1xyXG4gICAgICAgICAgICAgIHZhciBzdGVwc1NjaGVtYSA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShtb2R1bGUucHJvZ3Jlc3NpdmVQcm9maWxpbmdTY2hlbWEuUHJvZmlsaW5nU3RlcHMsICdTdGVwJywgc3RlcElkKTtcclxuICAgICAgICAgICAgICBpZiAoc3RlcHNTY2hlbWEpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZU9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VPYmplY3QuUHJvZmlsZSA9IHVzZXJwcm9maWxlO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VPYmplY3QuYWNjZXNzX3Rva2VuID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSB1c2VycHJvZmlsZS5Qcm92aWRlci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3ZpZGVyID09PSAnZW1haWwnIHx8IHByb3ZpZGVyID09PSAncmFhcycgfHwgbW9kdWxlLm9wdGlvbnMucHJvZ3Jlc3NpdmVQcm9maWxpbmdUcmFkaXRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMucHJvZ3Jlc3NpdmVQcm9maWxpbmdUcmFkaXRpb25hbCAmJiBwcm92aWRlciAhPT0gJ2VtYWlsJyAmJiBwcm92aWRlciAhPT0gJ3JhYXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcnByb2ZpbGUgPSBtb2R1bGUuTG9nZ2VkaW5Tb2NpYWxQcm92ZGVyUHJvZmlsZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB2YXIgc2NoZW1hID0gc3RlcHNTY2hlbWEuU2NoZW1hO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgc2hvd1NjaGVtYSA9IGNvbW1vbkZucy5tYXBTY2hlbWEoc2NoZW1hLCB1c2VycHJvZmlsZSwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlT2JqZWN0LlByb2ZpbGUgPSB1c2VycHJvZmlsZTtcclxuICAgICAgICAgICAgICAgICAgaWYgKHNob3dTY2hlbWEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNob3dTY2hlbWEsICdwcm9ncmVzc2l2ZVByb2ZpbGluZycsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZURhdGEocmVzcG9uc2VPYmplY3QsIGNvbnRhaW5lciwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCwgc2hvd1NjaGVtYSwgJ3Byb2dyZXNzaXZlUHJvZmlsaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnJvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGNsYXNzUHJlZml4KTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZXNwb25zZU9iamVjdCwgJycsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBzY29wZXNMaXN0ID0gc3RlcHNTY2hlbWEuU2NvcGVzO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgc3RlcHNQcm92aWRlclNjaGVtYSA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY29wZXNMaXN0LCAnUHJvdmlkZXInLCBwcm92aWRlciwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChzdGVwc1Byb3ZpZGVyU2NoZW1hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9IG1vZHVsZS5vcHRpb25zLmN1c3RvbURvbWFpbiB8fCBtb2R1bGUub3B0aW9ucy5hcHBOYW1lICsgJy4nICsgTG9naW5SYWRpdXNEZWZhdWx0cy5odWJEb21haW47XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZHBvaW50ID0gJ2h0dHBzOi8vJyArIGRvbWFpbiArICcvUmVxdWVzdEhhbmRsb3IuYXNweD9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmcHJvdmlkZXI9JyArIHByb3ZpZGVyICsgJyZzY29wZT0nICsgc3RlcHNQcm92aWRlclNjaGVtYS5TY29wZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICdOYW1lJzogcHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAnRW5kcG9pbnQnOiBlbmRwb2ludFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5yZW5kZXJDdXN0b21JbnRlcmZhY2UoY29udGFpbmVyLCAnJywgdGVtcGxhdGVOYW1lLCAnJywgJycsIHByb3ZpZGVycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLnNvY2lhbExvZ2luKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZXNwb25zZU9iamVjdCwgJycsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlLmxvZygnU3RlcCBTY2hlbWEgbm90IGZvdW5kLicpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbn0pKExSTmFtZVNwYWNlKTtcclxuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xyXG4vL0FkZGVkIG5ldyBmYWxsYmFjayBtZXRob2RzIGZvciBJRThcclxuaWYgKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnRyaW0gIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgU3RyaW5nLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgXCJcIik7XHJcbiAgICB9O1xyXG59XHJcblxyXG5pZiAoIUFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XHJcbiAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKGVsdCAvKiwgZnJvbSovICkge1xyXG4gICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aCA+Pj4gMDtcclxuICAgICAgICB2YXIgZnJvbSA9IE51bWJlcihhcmd1bWVudHNbMV0pIHx8IDA7XHJcbiAgICAgICAgZnJvbSA9IChmcm9tIDwgMCkgPyBNYXRoLmNlaWwoZnJvbSkgOiBNYXRoLmZsb29yKGZyb20pO1xyXG4gICAgICAgIGlmIChmcm9tIDwgMClcclxuICAgICAgICAgICAgZnJvbSArPSBsZW47XHJcblxyXG4gICAgICAgIGZvciAoOyBmcm9tIDwgbGVuOyBmcm9tKyspIHtcclxuICAgICAgICAgICAgaWYgKGZyb20gaW4gdGhpcyAmJiB0aGlzW2Zyb21dID09PSBlbHQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfTtcclxufVxyXG5cclxuaWYgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyKSB7XHJcbiAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oZnVuIC8qLCB0aGlzcCAqLyApIHtcclxuICAgICAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMgPT09IHZvaWQgMCB8fCB0aGlzID09PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XHJcblxyXG4gICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xyXG4gICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcclxuICAgICAgICBpZiAodHlwZW9mIGZ1biAhPT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XHJcblxyXG4gICAgICAgIHZhciByZXMgPSBbXTtcclxuICAgICAgICB2YXIgdGhpc3AgPSBhcmd1bWVudHNbMV07XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaSBpbiB0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdFtpXTsgLy8gaW4gY2FzZSBmdW4gbXV0YXRlcyB0aGlzXHJcbiAgICAgICAgICAgICAgICBpZiAoZnVuLmNhbGwodGhpc3AsIHZhbCwgaSwgdCkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2godmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbn1cclxuXHJcbihmdW5jdGlvbihhLCBiKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBjID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBiID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYiA9IGEubG9jYXRpb24uaGFzaCA/IGEubG9jYXRpb24uaGFzaC5zdWJzdHIoMSkuc3BsaXQoXCImXCIpIDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgYyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBiLmxlbmd0aDsgZCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBiW2RdLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjW2VbMF1dID0gZGVjb2RlVVJJQ29tcG9uZW50KGVbMV0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgYyA9IGZ1bmN0aW9uKGIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkIGluIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjLnB1c2goZCArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGJbZF0pKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYS5sb2NhdGlvbi5oYXNoID0gYy5qb2luKFwiJlwiKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBiKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNbYV1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGIoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlIGluIGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZFtlXSA9IGFbZV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYyhkKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGEgPSB0eXBlb2YgYSA9PSBcInN0cmluZ1wiID8gW2FdIDogYTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGIoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IGEubGVuZ3RoOyBlKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRbYVtlXV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYyhkKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBjKHt9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICgpO1xyXG4gICAgYS5oYXNoID0gY1xyXG59KSh3aW5kb3cpXHJcblxyXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCwgXCJhc3NpZ25cIiwge1xyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgdmFyQXJncykge1xyXG4gICAgICAgICd1c2Ugc3RyaWN0JztcclxuICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcclxuICBcclxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xyXG4gIFxyXG4gICAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcclxuICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0bztcclxuICAgICAgfSxcclxuICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfVxuLyoqXHJcbiogQGRlZmF1bHQge29iamVjdH1cclxuKiBAZGVzY3JpcHRpb24gRGVmaW5lIExvZ2luUmFkaXVzSnMgZGVmYXVsdCBhbmQgY29uc3RhbnQgdmFsdWVzLlxyXG4qL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxudmFyIExvZ2luUmFkaXVzRGVmYXVsdHMgPSB7XHJcbiAgLyoqXHJcbiAgKiBAY29uc3RhbnRcclxuICAqIEBkZWZhdWx0IHtzdHJpbmcvYm9vbGVhbi9udW1iZXJ9XHJcbiAgKi9cclxuICBpZFByZWZpeDogJ2xvZ2lucmFkaXVzLScsXHJcbiAgY2xhc3NQcmVmaXg6ICdsb2dpbnJhZGl1cy0nLFxyXG4gIGFwaURvbWFpbjogJ2h0dHBzOi8vYXBpLmxvZ2lucmFkaXVzLmNvbS9pZGVudGl0eS92MicsXHJcbiAgaHViRG9tYWluOiAnaHViLmxvZ2lucmFkaXVzLmNvbScsXHJcbiAgY2xvdWRBcGlEb21haW46ICdodHRwczovL2Nsb3VkLWFwaS5sb2dpbnJhZGl1cy5jb20vJyxcclxuICBjb25maWdBcGlEb21haW46ICdodHRwczovL2NvbmZpZy5scmNvbnRlbnQuY29tL2NpYW0vJyxcclxuICBzb2NpYWxBcGlEb21haW46ICdodHRwczovL2FwaS5sb2dpbnJhZGl1cy5jb20vYXBpL3YyLycsXHJcbiAgaXNSZWdGb3JtU2NoZW1hTG9jazogZmFsc2UsXHJcbiAgaXNTZWN1cml0eUZvcm1TY2hlbWFMb2NrOiBmYWxzZSxcclxuICBpbm5lckhUTUw6IGZhbHNlLFxyXG4gIGF1dG9GaWxsZWRGaWVsZGZvclBhc3N3b3JkTGVzTG9naW46IGZhbHNlLFxyXG4gIHNvY2lhbFJlZ0Zvcm1JZDogJycsXHJcbiAgbHJSZXNwb25zZUNvdW50ZXI6IDAsXHJcbiAgTFJQaG9uZU5vOiAnJyxcclxuICBsckNvdW50ZXJKd3RSZXNwb25zZTogJycsXHJcbiAgbHJDb3VudGVyVG9rZW5SZXNwb25zZTogJycsXHJcbiAgc3RvcmVkVG9rZW5OYW1lOiAnTFJUb2tlbktleScsXHJcbiAgc3RvcmVkVHdvRkFUb2tlbjogJ2xyMmZhdG9rJyxcclxuICBzdG9yZWRPVFBBdXRoOiAnbHJvdHBhdXRodmVyJyxcclxuICBzdG9yZWRHQUF1dGg6ICdscmdhYXV0aHZlcicsXHJcbiAgc3RvcmVkVWlkTmFtZTogJ2xyLXVzZXItdWlkJyxcclxuICB0b2tlbkNvb2tpZTogJ2xyLXVzZXItLXRva2VuJyxcclxuICBpc1NTT0luaXRGaXJlZDogZmFsc2UsXHJcbiAgcGluZ0NvdW50OiAxLFxyXG4gIG1lc3NhZ2VzOiB7XHJcbiAgICB0b2tlblZhbGlkOiB7XHJcbiAgICAgICdNZXNzYWdlJzogJ0FjY2VzcyB0b2tlbiBpcyBub3QgdmFsaWQnLFxyXG4gICAgICAnRGVzY3JpcHRpb24nOiAnTG9naW5SYWRpdXMgQWNjZXNzIFRva2VuIGlzIGludmFsaWQsIHBsZWFzZSB2ZXJpZnkgdGhlIGF1dGhlbnRpY2F0aW9uIHJlc3BvbnNlJyxcclxuICAgICAgJ0Vycm9yQ29kZSc6IDkwNVxyXG4gICAgfSxcclxuICAgIHR3b2ZhVG9rZW5WYWxpZDoge1xyXG4gICAgICAnTWVzc2FnZSc6ICdUb2tlbiBpcyBub3QgdmFsaWQnLFxyXG4gICAgICAnRGVzY3JpcHRpb24nOiAnWW91ciBzZXNzaW9uIGlzIG5vdCB2YWxpZC4nXHJcblxyXG4gICAgfSxcclxuICAgIGludmFsaWRFbWFpbDoge1xyXG4gICAgICAnTWVzc2FnZSc6ICdJbnZhbGlkIEVtYWlsJyxcclxuICAgICAgJ0Rlc2NyaXB0aW9uJzogJ1RoZSBlbWFpbCBlbnRlcmVkIGlzIG5vdCBhIHZhbGlkIGVtYWlsLidcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkUGhvbmU6IHtcclxuICAgICAgJ01lc3NhZ2UnOiAnSW52YWxpZCBQaG9uZScsXHJcbiAgICAgICdEZXNjcmlwdGlvbic6ICdUaGUgbW9iaWxlIG51bWJlciBlbnRlcmVkIGlzIG5vdCB2YWxpZC4nXHJcbiAgICB9LFxyXG4gICAgZGlzYWJsZWRBY2NvdW50TGlua2luZzogJ0FjY291bnQgTGlua2luZyBkaXNhYmxlZCBpbiB5b3VyIGFjY291bnQnLFxyXG4gICAgbm9TZWN1cml0eVF1ZXN0aW9uczogJ1RoZXJlIGFyZSBubyBzZWN1cml0eSBxdWVzdGlvbnMgZm9yIHRoaXMgYXBwbGljYXRpb24nLFxyXG4gICAgaW52YWxpZFNvdHQ6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2Fpbi4nLFxyXG4gICAgbm90VmFsaWRNZXNzYWdlOiAnRXJyb3IgTWVzc2FnZSBlbGVtZW50IG5vdCB2YWxpZCcsXHJcbiAgICBwYXNzd29yZFN0cmVuZ3RoTWVzc2FnZTogJ1Bhc3N3b3JkIHN0cmVuZ3RoIG1ldGVyIGNvbmZpZ3VyYXRpb24gaXMgbm90IHZhbGlkLicsXHJcbiAgICBvdHBTZW50OiAnT1RQIFNlbnQgU3VjY2Vzc2Z1bGx5JyxcclxuICAgIHZUb2tlbkVycm9yOiB7XHJcbiAgICAgIE1lc3NhZ2U6ICdWZXJpZmljYXRpb24gdG9rZW4gbm90IGZvdW5kIGluIHF1ZXJ5IHN0cmluZy4nXHJcbiAgICB9LFxyXG4gICAgbm90Rm91bmQ6ICdEYXRhIG5vdCBmb3VuZC4nLFxyXG4gICAgZW1haWxOb3RWZXJpZmllZDoge1xyXG4gICAgICAnTWVzc2FnZSc6ICdUaGUgZW1haWwgaXMgbm90IHZlcmlmaWVkLCBwbGVhc2UgdmVyaWZ5IHRoZSBsaW5rIGluIHlvdXIgZW1haWwnLFxyXG4gICAgICAnRGVzY3JpcHRpb24nOiAnVGhlIGVtYWlsIGlzIG5vdCB2ZXJpZmllZCwgcGxlYXNlIHZlcmlmeSB0aGUgbGluayBpbiB5b3VyIGVtYWlsJyxcclxuICAgICAgJ0Vycm9yQ29kZSc6IDk3MFxyXG4gICAgfSxcclxuICAgIHBob25lTm90VmVyaWZpZWQ6IHtcclxuICAgICAgJ01lc3NhZ2UnOiAnUGhvbmUgbnVtYmVyIGlzIG5vdCB2ZXJpZmllZCcsXHJcbiAgICAgICdEZXNjcmlwdGlvbic6ICdUaGUgcHJvdmlkZWQgcGhvbmUgbnVtYmVyIGlzIG5vdCB2ZXJpZmllZCwgcGxlYXNlIHVzZSBhIHZlcmlmaWVkIHBob25lIG51bWJlciBmb3IgbG9naW4uJyxcclxuICAgICAgJ0Vycm9yQ29kZSc6IDEwNjZcclxuICAgIH0sXHJcbiAgICBibG9ja2VkVXNlcjoge1xyXG4gICAgICAnTWVzc2FnZSc6ICdVc2VyIGlzIGJsb2NrZWQnLFxyXG4gICAgICAnRGVzY3JpcHRpb24nOiAnVGhpcyB1c2VyIGlzIGJsb2NrZWQgYnkgc2l0ZSBhZG1pbicsXHJcbiAgICAgICdFcnJvckNvZGUnOiA5OTFcclxuICAgIH0sXHJcbiAgICB1bnZlcmlmaWVkVXNlcjoge1xyXG4gICAgICAnTWVzc2FnZSc6ICdUaGlzIFVpZCBoYXZlIG9ubHkgdHJhZGl0aW9uYWwgdW52ZXJpZmllZCBhY2NvdW50JyxcclxuICAgICAgJ0Rlc2NyaXB0aW9uJzogJ1RoaXMgVWlkIGhhdmUgb25seSB0cmFkaXRpb25hbCB1bnZlcmlmaWVkIGFjY291bnQnLFxyXG4gICAgICAnRXJyb3JDb2RlJzogMTAyOFxyXG4gICAgfVxyXG5cclxuICB9LFxyXG4gIGJ1dHRvbk5hbWVzOiB7XHJcbiAgICBsb2dpbjogJ0xvZ2luJyxcclxuICAgIHNvY2lhbHJlZ2lzdHJhdGlvbjogJ0xvZ2luJyxcclxuICAgIGxvZ2lucmVxdWlyZWRmaWVsZHN1cGRhdGU6ICdMb2dpbicsXHJcbiAgICByZWdpc3RyYXRpb246ICdSZWdpc3RlcicsXHJcbiAgICB2ZXJpZnllbWFpbDogJ1ZlcmlmeScsXHJcbiAgICByZXNldHBhc3N3b3JkOiAnUmVzZXQgUGFzc3dvcmQnLFxyXG4gICAgc29jaWFsbG9naW46ICdMb2dpbicsXHJcbiAgICBvdHA6ICdWZXJpZnknLFxyXG4gICAgdHdvZmFvdHA6ICdWZXJpZnknLFxyXG4gICAgc2hvd3FyY29kZTogJ1ZlcmlmeScsXHJcbiAgICB1cGRhdGVwaG9uZTogJ1VwZGF0ZScsXHJcbiAgICBjaGFuZ2VwaG9uZTogJ1VwZGF0ZScsXHJcbiAgICBmb3Jnb3RwYXNzd29yZDogJ1NlbmQnLFxyXG4gICAgc2VjdXJpdHlxdWVzdGlvbnM6ICdHZXQnLFxyXG4gICAgY2hhbmdlcGFzc3dvcmQ6ICdTdWJtaXQnLFxyXG4gICAgcmVzZW5kZW1haWx2ZXJpZmljYXRpb246ICdTZW5kJyxcclxuICAgIGFkZGVtYWlsOiAnU2VuZCcsXHJcbiAgICByZW1vdmVlbWFpbDogJ1NlbmQnLFxyXG4gICAgY2hhbmdldXNlcm5hbWU6ICdTdWJtaXQnLFxyXG4gICAgcHJvZmlsZWVkaXRvcjogJ1VwZGF0ZSBQcm9maWxlJyxcclxuICAgIG90cGxvZ2luOiAnT1RQJyxcclxuICAgIHBhc3N3b3JkbGVzc2xvZ2luYnV0dG9ubGFiZWw6ICdFbWFpbCBtZSBhIGxpbmsgdG8gU2lnbiBJbicsXHJcbiAgICBwYXNzd29yZGxlc3Nsb2dpbm90cGJ1dHRvbmxhYmVsOiAnU2VuZCBhbiBPVFAgdG8gU2lnbiBJbicsXHJcbiAgICBjcmVhdGV0d29mYWN0b3JhdXRoZW50aWNhdGlvbjogJzItU3RlcCBWZXJpZmljYXRpb24nLFxyXG4gICAgc2VuZG90cDogJ1NlbmQgT1RQJyxcclxuICAgIHJlc2VuZG90cDogJ1Jlc2VuZCBPVFAnLFxyXG4gICAgY2hhbmdlbnVtYmVyOiAnQ2hhbmdlIE51bWJlcicsXHJcbiAgICBiYWNrdXBjb2RlOiAnTG9naW4nLFxyXG4gICAgYmFja3VwY29kZWJ1dHRvbjogJ1RyeSBhbm90aGVyIHdheSB0byBTaWduIEluJyxcclxuICAgIGJhY2t1cGNvZGViYWNrYnV0dG9uOiAnQmFjaycsXHJcbiAgICBkaXNhYmxlZ29vZ2xlYXV0aGVudGljYXRvcjogJ0Rpc2FibGUgR29vZ2xlIEF1dGhlbnRpY2F0b3InLFxyXG4gICAgZGlzYWJsZW90cGF1dGhlbnRpY2F0b3I6ICdEaXNhYmxlIE9UUCBBdXRoZW50aWNhdG9yJyxcclxuICAgIHVwZGF0ZXNlY3VyaXR5cXVlc3Rpb246ICdVcGRhdGUgU2VjdXJpdHkgUXVlc3Rpb24nLFxyXG4gICAgcmVzZXRwd2RieXNlY3E6ICdSZXNldCBQYXNzd29yZCBCeSBTZWN1cml0eVEnLFxyXG4gICAgc21hcnRsb2dpbjogJ1NtYXJ0IExvZ2luJyxcclxuICAgIHZhbGlkYXRlY29kZTogJ1ZhbGlkYXRlJyxcclxuICAgIG9uZXRvdWNobG9naW46ICdMb2dpbicsXHJcbiAgICBwcm9ncmVzc2l2ZXByb2ZpbGluZzogJ1Byb2dyZXNzaXZlIFByb2ZpbGluZycsXHJcbiAgICBwcml2YWN5cG9saWN5dXBkYXRlOiAnQWNjZXB0JyxcclxuICAgIHVwZGF0ZXBob25lMmZhOiAnVXBkYXRlJ1xyXG4gIH0sXHJcbiAgb3B0aW9uczoge1xyXG4gICAgcGFzc3dvcmRsZXNzTG9naW5FbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIGNhbGxiYWNrVXJsOiB3aW5kb3cubG9jYXRpb24sXHJcbiAgICBjYWxsYmFja0luc2lkZVNhbWVXaW5kb3c6ICcnLFxyXG4gICAgY2FsbGJhY2tUeXBlOiAnJyxcclxuICAgIHNjb3BlOiAnJyxcclxuICAgIGxvZ2luVXJsOiAnJyxcclxuICAgIGRlbGV0ZVVybDogJycsXHJcbiAgICBlbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIHZlcmlmaWNhdGlvblVybDogJycsXHJcbiAgICB2ZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIHJlc2V0UGFzc3dvcmRFbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIHJlc2V0UGFzc3dvcmRDb25maXJtYXRpb25FbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIHNtYXJ0TG9naW5SZWRpcmVjdFVybDogJycsXHJcbiAgICBhdXRvTG9naW5SZWRpcmVjdFVybDogJycsXHJcbiAgICBzbWFydExvZ2luRW1haWxUZW1wbGF0ZTogJycsXHJcbiAgICBhdXRvTG9naW5FbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIHNtc1RlbXBsYXRlMkZBOiAnJyxcclxuICAgIHNtc1RlbXBsYXRlRm9yZ290OiAnJyxcclxuICAgIHNtc1RlbXBsYXRlV2VsY29tZTogJycsXHJcbiAgICBzbXNUZW1wbGF0ZU9uZVRvdWNoTG9naW5XZWxjb21lOiAnJyxcclxuICAgIHNtc1RlbXBsYXRlT25lVG91Y2hMb2dpbjogJycsXHJcbiAgICBwYXNzd29yZGxlc3NMb2dpblNNU1RlbXBsYXRlOiAnJyxcclxuICAgIHNtc1RlbXBsYXRlMkZBV2VsY29tZTogJycsXHJcbiAgICBzbXNUZW1wbGF0ZVBob25lVmVyaWZpY2F0aW9uOiAnJyxcclxuICAgIHNtc1RlbXBsYXRlVXBkYXRlUGhvbmU6ICcnLFxyXG4gICAgd2VsY29tZUVtYWlsVGVtcGxhdGU6ICcnLFxyXG4gICAgb25ldG91Y2hMb2dpbkVtYWlsVGVtcGxhdGU6ICcnLFxyXG4gICAgb25ldG91Y2hMb2dpblJlZGlyZWN0VXJsOiAnJyxcclxuICAgIHJlc2V0UGFzc3dvcmRVcmw6ICcnLFxyXG4gICAgdGVtcGxhdGVOYW1lOiAnJyxcclxuICAgIGRlYnVnTW9kZTogZmFsc2UsXHJcbiAgICB0b2tlblR5cGU6ICdscnRva2VuJyxcclxuICAgIGludGVncmF0aW9uTmFtZTogJycsXHJcbiAgICBzbWFydExvZ2luUGluZ0NvdW50OiAxMDAsXHJcbiAgICBzbWFydExvZ2luUGluZ0ludGVydmFsOiA1LFxyXG4gICAgbWFza1NlbnNpdGl2ZUlucHV0OiBmYWxzZSxcclxuICAgIGVuYWJsZUhlYWRlclNvdHQ6IHRydWUsXHJcbiAgICBhY2Nlc3NUb2tlblJlc3BvbnNlOiB0cnVlLFxyXG4gICAgcmJhT25lY2xpY2tFbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIHJiYU9UUFNtc1RlbXBsYXRlOiAnJyxcclxuICAgIHJiYUNpdHlFbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIHJiYUNvdW50cnlFbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIHJiYUJyb3dzZXJFbWFpbFRlbXBsYXRlOiAnJyxcclxuICAgIHJiYUlwRW1haWxUZW1wbGF0ZTogJycsXHJcbiAgICByYmFDaXR5U21zVGVtcGxhdGU6ICcnLFxyXG4gICAgcmJhQ291bnRyeVNtc1RlbXBsYXRlOiAnJyxcclxuICAgIHJiYUJyb3dzZXJTbXNUZW1wbGF0ZTogJycsXHJcbiAgICByYmFJcFNtc1RlbXBsYXRlOiAnJyxcclxuICAgIHNldExSU2Vzc2lvbjogZmFsc2UsXHJcbiAgICBhc2tPcHRpb25hbEZpZWxkc09uUHJvZ3Jlc3NpdmVTdGVwczogdHJ1ZVxyXG4gIH0sXHJcbiAgcmVnZXhFeHByZXNzaW9uOiB7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcclxuICAgIGVtYWlsUmVnZXg6IC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvLFxyXG4gICAgcGhvbmVSZWdleDogL14oXFxcXCspfCg5Wzk3Nl1cXGR8OFs5ODc1MzBdXFxkfDZbOTg3XVxcZHw1WzkwXVxcZHw0MlxcZHwzWzg3NV1cXGR8Mls5ODY1NDMyMV1cXGR8OVs4NTQzMjEwXXw4WzY0MjFdfDZbNjU0MzIxMF18NVs4NzY1NDMyMV18NFs5ODc2NTQzMTBdfDNbOTY0MzIxMF18Mls3MF18N3wxKVxcZHs4LDE0fSQvXHJcbiAgfSxcclxuICBfdXVpZEZvcm1hdDogL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaVxyXG59O1xyXG5cbi8qKlxyXG4qIEBwYXJhbSB7T2JqZWN0fSBtb2R1bGUgbHIgbW9kdWxlIG9iamVjdFxyXG4qIEBwYXJhbSB7T2JqZWN0fSBsck9wdGlvbnMgbHIgY29tbW9uT3B0aW9ucyBvYmplY3RcclxuKiBAZGVzY3JpcHRpb24gU2V0IGdsb2JhbCBMb2dpblJhZGl1c1V0aWxpdHkuXHJcbiogQGNvbnN0cnVjdG9yXHJcbiovXHJcbmZ1bmN0aW9uIExvZ2luUmFkaXVzVXRpbGl0eSAobW9kdWxlLCBvcHRpb25zTGlzdCkge1xyXG4gIC8vIHZhciBtb2R1bGUub3B0aW9ucyA9IG1vZHVsZS5vcHRpb25zID09IHVuZGVmaW5lZCA/IG9wdGlvbnNMaXN0IDogbW9kdWxlLm9wdGlvbnM7XHJcbiAgdmFyIGRlZmF1bHRCdXR0b25zTmFtZSA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYnV0dG9uTmFtZXM7XHJcbiAgdmFyIHV0aWxpdGllcyA9IG5ldyBMUk5hbWVTcGFjZS5VdGlsaXRpZXMoKTtcclxuICB2YXIgdXRpbGl0eU1vZHVsZSA9IHRoaXM7XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xyXG4gICogQGZ1bmN0aW9uIGVsZW1lbnRCeUlkXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkIElkIG9mIGVsZW1lbnRcclxuICAqIEByZXR1cm4ge09iamVjdH0gIGNvbnRlbnQgIERPTSBlbGVtZW50XHJcbiAgKiBAZGVzY3JpcHRpb24gR2V0IGh0bWwgZWxlbWVudCBieSBnaXZlbiBpZFxyXG4gICovXHJcbiAgdXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZCA9IGZ1bmN0aW9uIChpZCwgZGVidWcpIHtcclxuICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgaWYgKGNvbnRlbnQpIHtcclxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoIWRlYnVnKSB7IG1vZHVsZS5sb2coJ1VuYWJsZSB0byBmaW5kIGlkOiAnICsgaWQpOyB9XHJcbiAgICB9XHJcbiAgfTtcclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXHJcbiAgKiBAZnVuY3Rpb24gZ2V0VGhpc09iamVjdE5hbWVcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHJldHVybiB0aGUgbmFtZSBvZiBjdXJyZW50IExSIG9iamVjdCBpbml0aWFsaXplZCB3aXRoIExvZ2luUmFkaXVzIGNvbnN0cnVjdG9yLlxyXG4gICovXHJcbiAgdXRpbGl0eU1vZHVsZS5nZXRUaGlzT2JqZWN0TmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZvciAodmFyIG5hbWUgaW4gbW9kdWxlLmdsb2JhbCkge1xyXG4gICAgICBpZiAobmFtZSAhPT0gJ2ZyYW1lRWxlbWVudCcgJiYgbmFtZSAhPT0gJ3dlYmtpdFN0b3JhZ2VJbmZvJyAmJiBuYW1lICE9PSAnd2Via2l0SW5kZXhlZERCJyAmJiBtb2R1bGUuZ2xvYmFsW25hbWVdID09PSBtb2R1bGUpIHsgcmV0dXJuIG5hbWU7IH1cclxuICAgIH1cclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcclxuICAqIEBmdW5jdGlvbiBzZXJpYWxpemVcclxuICAqIEBwYXJhbSAge09iamVjdH0gZm9ybSAgSFRNTCBmcm9tIGVsZW1lbnRcclxuICAqIEByZXR1cm4ge1N0cmluZ30gIHEgIFVSTCBlbmNvZGVkIHRleHQgc3RyaW5nIGUuZy4gRmlyc3ROYW1lPXRlc3QmTGFzdE5hbWU9dGVzdDFcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIG1ldGhvZCBjcmVhdGVzIGEgVVJMIGVuY29kZWQgdGV4dCBzdHJpbmcgYnkgc2VyaWFsaXppbmcgZm9ybSB2YWx1ZXMuXHJcbiAgKi9cclxuICB1dGlsaXR5TW9kdWxlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uIChmb3JtKSB7XHJcbiAgICBpZiAoIWZvcm0gfHwgZm9ybS5ub2RlTmFtZSAhPT0gJ0ZPUk0nKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBpO1xyXG4gICAgdmFyIGo7XHJcbiAgICB2YXIgcSA9IFtdO1xyXG4gICAgZm9yIChpID0gZm9ybS5lbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGkgPSBpIC0gMSkge1xyXG4gICAgICBpZiAoZm9ybS5lbGVtZW50c1tpXS5uYW1lID09PSAnJyB8fCBmb3JtLmVsZW1lbnRzW2ldLnZhbHVlLnRyaW0oKSA9PT0gJycpIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGZvcm0uZWxlbWVudHNbaV0ubmFtZSA9PT0gJ2VtYWlsaWQnICYmICFtb2R1bGUub3B0aW9ucy51c2VybmFtZUxvZ2luICYmICFtb2R1bGUub3B0aW9ucy5kdXBsaWNhdGVFbWFpbFdpdGhVbmlxdWVVc2VybmFtZSkge1xyXG4gICAgICAgIGZvcm0uZWxlbWVudHNbaV0udmFsdWUgPSBmb3JtLmVsZW1lbnRzW2ldLnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN3aXRjaCAoZm9ybS5lbGVtZW50c1tpXS5ub2RlTmFtZSkge1xyXG4gICAgICAgIGNhc2UgJ0lOUFVUJzpcclxuICAgICAgICAgIHN3aXRjaCAoZm9ybS5lbGVtZW50c1tpXS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgICAgICBjYXNlICdoaWRkZW4nOlxyXG4gICAgICAgICAgICBjYXNlICdidXR0b24nOlxyXG4gICAgICAgICAgICBjYXNlICdyZXNldCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3N1Ym1pdCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcclxuICAgICAgICAgICAgICB2YXIgdmFsID0gZm9ybS5lbGVtZW50c1tpXS5uYW1lO1xyXG4gICAgICAgICAgICAgIGlmICh2YWwgPT09ICdlbWFpbGlkJykge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gJ2VtYWlsJztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKCFmb3JtLmVsZW1lbnRzW2ldLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBxLnB1c2godmFsICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZvcm0uZWxlbWVudHNbaV0udmFsdWUudHJpbSgpKSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwYXNzd29yZCc6XHJcbiAgICAgICAgICAgICAgcS5wdXNoKGZvcm0uZWxlbWVudHNbaV0ubmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChmb3JtLmVsZW1lbnRzW2ldLnZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XHJcblxyXG4gICAgICAgICAgICAgIC8vIGlmIChmb3JtLmVsZW1lbnRzW2ldLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICBxLnB1c2goZm9ybS5lbGVtZW50c1tpXS5uYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZvcm0uZWxlbWVudHNbaV0uY2hlY2tlZCkpO1xyXG4gICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxyXG4gICAgICAgICAgICAgIGlmIChmb3JtLmVsZW1lbnRzW2ldLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHEucHVzaChmb3JtLmVsZW1lbnRzW2ldLm5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZm9ybS5lbGVtZW50c1tpXS52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZmlsZSc6XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIG5vIGRlZmF1bHRcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ1RFWFRBUkVBJzpcclxuICAgICAgICAgIHEucHVzaChmb3JtLmVsZW1lbnRzW2ldLm5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZm9ybS5lbGVtZW50c1tpXS52YWx1ZS50cmltKCkpKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ1NFTEVDVCc6XHJcbiAgICAgICAgICBzd2l0Y2ggKGZvcm0uZWxlbWVudHNbaV0udHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdzZWxlY3Qtb25lJzpcclxuICAgICAgICAgICAgICBxLnB1c2goZm9ybS5lbGVtZW50c1tpXS5uYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZvcm0uZWxlbWVudHNbaV0udmFsdWUudHJpbSgpKSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NlbGVjdC1tdWx0aXBsZSc6XHJcbiAgICAgICAgICAgICAgZm9yIChqID0gZm9ybS5lbGVtZW50c1tpXS5vcHRpb25zLmxlbmd0aCAtIDE7IGogPj0gMDsgaiA9IGogLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5lbGVtZW50c1tpXS5vcHRpb25zW2pdLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIHEucHVzaChmb3JtLmVsZW1lbnRzW2ldLm5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZm9ybS5lbGVtZW50c1tpXS5vcHRpb25zW2pdLnZhbHVlLnRyaW0oKSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gbm8gZGVmYXVsdFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQlVUVE9OJzpcclxuICAgICAgICAgIHN3aXRjaCAoZm9ybS5lbGVtZW50c1tpXS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2V0JzpcclxuICAgICAgICAgICAgY2FzZSAnc3VibWl0JzpcclxuICAgICAgICAgICAgY2FzZSAnYnV0dG9uJzpcclxuICAgICAgICAgICAgICBxLnB1c2goZm9ybS5lbGVtZW50c1tpXS5uYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZvcm0uZWxlbWVudHNbaV0udmFsdWUudHJpbSgpKSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIG5vIGRlZmF1bHRcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vIG5vIGRlZmF1bHRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHEuam9pbignJicpO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xyXG4gICogQGZ1bmN0aW9uIGFkZEpzXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IG1vZHVsZSAgRE9NIGVsZW1lbnRcclxuICAqIEBwYXJhbSAge1N0cmluZ30gdXJsICB1cmwgc3RyaW5nXHJcbiAgKiBAcmV0dXJuIHtPYmplY3R9ICBqcyAganMgc2NyaXB0IGVsZW1lbnRcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIG1ldGhvZCB3aWxsIGNyZWF0ZSBqcyBzY3JpcHQgZWxlbWVudCBhbmQgYXBwZW5kIGludG8gaHRtbCBoZWFkIHNlY3Rpb24uXHJcbiAgKi9cclxuICB1dGlsaXR5TW9kdWxlLmFkZEpzID0gZnVuY3Rpb24gKHVybCwgbW9kdWxlKSB7XHJcbiAgICBtb2R1bGUgPSBtb2R1bGUgfHwgZG9jdW1lbnQ7XHJcbiAgICB2YXIgaGVhZCA9IG1vZHVsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xyXG4gICAgdmFyIGpzID0gbW9kdWxlLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAganMuc3JjID0gdXJsO1xyXG4gICAganMudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xyXG4gICAgaGVhZC5hcHBlbmRDaGlsZChqcyk7XHJcblxyXG4gICAgcmV0dXJuIGpzO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xyXG4gICogQGZ1bmN0aW9uIGhhc2hUbXBsXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9IHN0ciAgYSB0ZW1wbGF0ZSBpZGVudGlmaWVyIG9yIHRoZSB0ZW1wbGF0ZSBpdHNlbGZcclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSAgVGhlIEpTT04gb2JqZWN0IGNvbnRhaW5zIHRoZSB2YXJpYmFsZSBkZWZpbmVkIGluIHRlbXBsYXRlLlxyXG4gICogQHJldHVybiB7bnVsbH1cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGlzIGEgbWljcm8gdGVtcGxhdGluZyBmdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIEhUTUwgY29kZXMgdXNpbmcgdXNlciBkZWZpbmVkIHRlbXBsYXRlcyBjb250YWluaW5nIHZhcmlhYmxlcywgaGVyZSB0aGUgdmFyaWFibGUgYXJlIHN1cnJvdW5kZWQgd2l0aCA8IyAjPiBpbnN0ZWFkIG9mIDwlICU+XHJcbiAgKi9cclxuICB1dGlsaXR5TW9kdWxlLmhhc2hUbXBsID0gZnVuY3Rpb24gaGFzaFRtcGwgKHN0ciwgZGF0YSkge1xyXG4gICAgdmFyIGZuID0gIS9cXFcvLnRlc3Qoc3RyKSA/IGNhY2hlW3N0cl0gPSBjYWNoZVtzdHJdIHx8XHJcbiAgICAgICh1dGlsaXR5TW9kdWxlLmVsZW1lbnRCeUlkKHN0cikgPyBoYXNoVG1wbCh1dGlsaXR5TW9kdWxlLmVsZW1lbnRCeUlkKHN0cikuaW5uZXJIVE1MKSA6ICcnKVxyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcclxuICAgICAgOiBuZXcgRnVuY3Rpb24oJ29iaicsXHJcbiAgICAgICAgJ3ZhciBwPVtdLHByaW50PWZ1bmN0aW9uKCl7cC5wdXNoLmFwcGx5KHAsYXJndW1lbnRzKTt9OycgK1xyXG4gICAgICAgIFwid2l0aChvYmope3AucHVzaCgnXCIgK1xyXG4gICAgICAgIHN0ci5yZXBsYWNlKC9bXFxyXFx0XFxuXS9nLCAnICcpLnNwbGl0KCc8IycpXHJcbiAgICAgICAgICAuam9pbignXFx0JykucmVwbGFjZShcclxuICAgICAgICAgICAgLygoXnwjPilbXlxcdF0qKScvZywgJyQxXFxyJylcclxuICAgICAgICAgIC5yZXBsYWNlKC9cXHQ9KC4qPykjPi9nLCBcIicsJDEsJ1wiKVxyXG4gICAgICAgICAgLnNwbGl0KCdcXHQnKS5qb2luKFwiJyk7XCIpXHJcbiAgICAgICAgICAuc3BsaXQoJyM+Jykuam9pbihcInAucHVzaCgnXCIpXHJcbiAgICAgICAgICAuc3BsaXQoJ1xccicpLmpvaW4oXCJcXFxcJ1wiKSArXHJcbiAgICAgICAgXCInKTt9cmV0dXJuIHAuam9pbignJyk7XCIpO1xyXG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICByZXR1cm4gZGF0YSA/IGZuKGRhdGEpIDogZm47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfTtcclxuICB2YXIgY2FjaGUgPSB7fTtcclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXHJcbiAgKiBAZnVuY3Rpb24gdG1wbFxyXG4gICogQHBhcmFtICB7U3RyaW5nfSBzdHIgIGEgdGVtcGxhdGUgaWRlbnRpZmllciBvciB0aGUgdGVtcGxhdGUgaXRzZWxmXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEgIFRoZSBKU09OIG9iamVjdCBjb250YWlucyB0aGUgdmFyaWJhbGUgZGVmaW5lZCBpbiB0ZW1wbGF0ZS5cclxuICAqIEByZXR1cm4ge251bGx9XHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBpcyBhIG1pY3JvIHRlbXBsYXRpbmcgZnVuY3Rpb24gdXNlZCB0byBnZW5lcmF0ZSBIVE1MIGNvZGVzIHVzaW5nIHM9dXNlciBkZWZpbmVkIHRlbXBsYXRlcyBjb250YWluaW5nIHZhcmlhYmxlc1xyXG4gICovXHJcbiAgdXRpbGl0eU1vZHVsZS50bXBsID0gZnVuY3Rpb24gdG1wbCAoc3RyLCBkYXRhKSB7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcclxuICAgIHZhciBmbiA9ICEvXFxXLy50ZXN0KHN0cikgPyBjYWNoZVtzdHJdID0gY2FjaGVbc3RyXSB8fCAodXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZChzdHIpID8gdG1wbCh1dGlsaXR5TW9kdWxlLmVsZW1lbnRCeUlkKHN0cikuaW5uZXJIVE1MKSA6ICcnKSA6IG5ldyBGdW5jdGlvbignb2JqJywgJ3ZhciBwPVtdLHByaW50PWZ1bmN0aW9uKCl7cC5wdXNoLmFwcGx5KHAsYXJndW1lbnRzKTt9OycgKyBcIndpdGgob2JqKXtwLnB1c2goJ1wiICsgc3RyLnJlcGxhY2UoL1tcXHJcXHRcXG5dL2csICcgJykuc3BsaXQoJzwlJykuam9pbignXFx0JykucmVwbGFjZSgvKChefCU+KVteXFx0XSopJy9nLCAnJDFcXHInKS5yZXBsYWNlKC9cXHQ9KC4qPyklPi9nLCBcIicsJDEsJ1wiKS5zcGxpdCgnXFx0Jykuam9pbihcIicpO1wiKS5zcGxpdCgnJT4nKS5qb2luKFwicC5wdXNoKCdcIikuc3BsaXQoJ1xccicpLmpvaW4oXCJcXFxcJ1wiKSArIFwiJyk7fXJldHVybiBwLmpvaW4oJycpO1wiKTtcclxuICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgcmV0dXJuIGRhdGEgPyBmbihkYXRhKSA6IGZuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICcnO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xyXG4gICogQGZ1bmN0aW9uIGpzb25wQ2FsbFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHVybCB1cmwgc3RyaW5nXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGUgIGFueSB0eXBlXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb24gIGFjdGlvbiB0eXBlXHJcbiAgKiBAZGVzY3JpcHRpb24gQSBtZXRob2QgdG8gbWFrZSBKU09OUCBjYWxsIGFuZCBoYW5kbGluZyBzdWNjZXNzIGFuZCBlcnJvciByZXBvbnNlIGFjY29yZGluZ2x5LiAoSlNPTlAgaXMgYSBtZXRob2QgZm9yIHNlbmRpbmcgSlNPTiBkYXRhIHdpdGhvdXQgd29ycnlpbmcgYWJvdXQgY3Jvc3MtZG9tYWluIGlzc3VlcylcclxuICAqL1xyXG4gIHV0aWxpdHlNb2R1bGUuanNvbnBDYWxsID0gZnVuY3Rpb24gKHVybCwgaGFuZGxlLCBjYWxsYWJjaywgYWN0aW9uKSB7XHJcbiAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3N0YXJ0UHJvY2VzcycsIGFjdGlvbik7XHJcblxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcclxuICAgIHZhciBmdW5jID0gY2FsbGFiY2sgfHwgJ0xvZ2lucmFkaXVzJyArIE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMDAwMDAwMDAwMDAwKSArIDEpO1xyXG4gICAgd2luZG93W2Z1bmNdID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgaGFuZGxlKGRhdGEpO1xyXG4gICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ2VuZFByb2Nlc3MnLCBhY3Rpb24pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZW5kdXJsID0gdXJsLmluZGV4T2YoJz8nKSAhPT0gLTEgPyB1cmwgKyAnJmNhbGxiYWNrPScgKyBmdW5jIDogdXJsICsgJz9jYWxsYmFjaz0nICsgZnVuYztcclxuICAgIHV0aWxpdHlNb2R1bGUuYWRkSnMoZW5kdXJsKTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcclxuICAqIEBmdW5jdGlvbiBnZXRCdXR0b25BdHRyaWJ1dGVcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBidXR0b25JZCBpZCBvZiBidXR0b25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXhOYW1lICBjbGFzcyBwcmVmaXhcclxuICAqIEByZXR1cm4ge09iamVjdH0gQnRuICBCdXR0b24gZWxlbWVudFxyXG4gICogQGRlc2NyaXB0aW9uIENyZWF0ZSBidXR0b24gZWxlbWVudCBhbmQgc2V0IGF0dHJpYnV0ZXMgbGlrZSBidG4gaWQsIGNsYXNzIG5hbWUuXHJcbiAgKi9cclxuICB1dGlsaXR5TW9kdWxlLmdldEJ1dHRvbkF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChidXR0b25JZCwgX2NsYXNzUHJlZml4TmFtZSkge1xyXG4gICAgdmFyIF9pZFByZWZpeCA9IF9jbGFzc1ByZWZpeE5hbWUgfHwgTG9naW5SYWRpdXNEZWZhdWx0cy5pZFByZWZpeDtcclxuICAgIHZhciBCdG47XHJcbiAgICBpZiAobW9kdWxlLmJ1dHRvbkVsZW1lbnRzW2J1dHRvbklkXSkge1xyXG4gICAgICBCdG4gPSBtb2R1bGUuYnV0dG9uRWxlbWVudHNbYnV0dG9uSWRdO1xyXG4gICAgICBCdG4gPSBCdG4uY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgQnRuLnR5cGUgPSAnYnV0dG9uJztcclxuICAgICAgQnRuLnZhbHVlID0gbW9kdWxlLmJ1dHRvbnNOYW1lW2J1dHRvbklkXSB8fCBkZWZhdWx0QnV0dG9uc05hbWVbYnV0dG9uSWRdO1xyXG4gICAgfVxyXG4gICAgQnRuLmlkID0gX2lkUHJlZml4ICsgJ2J1dHRvbi0nICsgYnV0dG9uSWQ7XHJcbiAgICByZXR1cm4gQnRuO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xyXG4gICogQGZ1bmN0aW9uIGFqYXhDYWxsXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIHVybFxyXG4gICogQHBhcmFtIHtPYmplY3Q9fSBkYXRhICBpbnB1dCBwYXlsb2FkIGZvciBwb3N0L3B1dCBjYWxsXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kICBtZXRob2QgdHlwZShHRVQvUE9TVC9QVVQuLilcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb24gIG5hbWUgb2YgdGhlIGFjdGlvbiBiZWluZyBwZXJmb3JtZWQgcmVmZXJlbmNlZCB0byBWMkpTXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWNjZXNzSGFuZGxlciAgY2FsbGJhY2sgZnVuY3Rpb24gb24gc3VjY2Vzc2Z1bCBoYW5kbGluZyBvZiBYSFIgY2FsbFxyXG4gICogQHBhcmFtIHtPYmplY3Q9fSBkc0ZsYWcgIElmIGRhdGEgc291cmNlIGlzIHRoZXJlIHRoZW4gdGhlIGRhdGFzb3VyY2UgaXMgcmV0dXJuZWQgdG8gc3VjY2VzaGFuZGxlciBmdW5jc3Rpb24gYWxvbmcgd2l0aCBYSFIgcmVzdWx0c1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb25zIGhhbmRsZXMgYWxsIHRoZSBYSFIgY2FsbCBzZW50IHRocm91Z2ggdGhlIGNvZGVcclxuICAqL1xyXG4gIHV0aWxpdHlNb2R1bGUuYWpheENhbGwgPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3NIYW5kbGVyLCBhY3Rpb24sIGRzRmxhZykge1xyXG4gICAgdmFyIHV0aWwgPSB0aGlzO1xyXG4gICAgdmFyIG5hbWUgPSBhY3Rpb247XHJcbiAgICBpZiAoYWN0aW9uICYmIGFjdGlvbi5pbmRleE9mKCcjIycpICE9PSAtMSkge1xyXG4gICAgICBuYW1lID0gYWN0aW9uLnNwbGl0KCcjIycpWzFdO1xyXG4gICAgfVxyXG4gICAgaWYgKCFMb2dpblJhZGl1c0RlZmF1bHRzLl91dWlkRm9ybWF0LnRlc3Qob3B0aW9uc0xpc3QuYXBpS2V5KSkge1xyXG4gICAgICBtb2R1bGUubG9nKCdhcGlLZXkgaXMgbm90IGluIHZhbGlkIGd1aWQgZm9ybWF0LicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdzdGFydFByb2Nlc3MnLCBhY3Rpb24sIGRhdGEpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMucHJvamVjdGlvbkZpZWxkcykge1xyXG4gICAgICAgICAgdmFyIHByb2plY3Rpb25GaWVsZHNLZXlzID0gT2JqZWN0LmtleXMobW9kdWxlLm9wdGlvbnMucHJvamVjdGlvbkZpZWxkcyk7XHJcbiAgICAgICAgICB2YXIgbWFwQWN0aW9ucyA9IFsndmVyaWZ5T1RQJywgJ3VwZGF0ZURhdGEnXTtcclxuICAgICAgICAgIHZhciBtYXBBY3Rpb25zRXhpc3QgPSBmYWxzZTtcclxuICAgICAgICAgIHZhciBfYWN0aW9uID0gYWN0aW9uO1xyXG4gICAgICAgICAgaWYgKG1vZHVsZS5MUkNoZWNrUmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIG1hcEFjdGlvbnNFeGlzdCA9IG1hcEFjdGlvbnMuaW5kZXhPZihhY3Rpb24pICE9PSAtMTtcclxuICAgICAgICAgICAgX2FjdGlvbiA9ICdyZWdpc3RyYXRpb24nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChtb2R1bGUuTFJDaGVja0xvZ2luKSB7XHJcbiAgICAgICAgICAgIG1hcEFjdGlvbnNFeGlzdCA9IG1hcEFjdGlvbnMuaW5kZXhPZihhY3Rpb24pICE9PSAtMTtcclxuICAgICAgICAgICAgX2FjdGlvbiA9ICdsb2dpbic7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocHJvamVjdGlvbkZpZWxkc0tleXMuaW5kZXhPZihhY3Rpb24pICE9PSAtMSB8fCBtYXBBY3Rpb25zRXhpc3QpIHtcclxuICAgICAgICAgICAgdmFyIGFjdGlvblByb2plY3Rpb25GaWVsZHMgPSBtb2R1bGUub3B0aW9ucy5wcm9qZWN0aW9uRmllbGRzW19hY3Rpb25dO1xyXG4gICAgICAgICAgICBpZiAoYWN0aW9uUHJvamVjdGlvbkZpZWxkcyAmJiBhY3Rpb25Qcm9qZWN0aW9uRmllbGRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRQcm9qZWN0ZWRGaWVsZCA9IFsnRXJyb3JDb2RlJywgJ1Byb2ZpbGUvVWlkJywgJ1Byb2ZpbGUvSXNEZWxldGVkJywgJ2FjY2Vzc190b2tlbicsICdQcm9maWxlL0VtYWlsVmVyaWZpZWQnLCAnUHJvZmlsZS9QaG9uZUlkVmVyaWZpZWQnLCAnUHJvZmlsZS9QaG9uZUlkJywgJ1Bob25lSWQnLCAnUGhvbmVJZFZlcmlmaWVkJywgJ0VtYWlsVmVyaWZpZWQnLCAnVWlkJywgJ0lzRGVsZXRlZCddO1xyXG4gICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZFByb2plY3RlZEZpZWxkLnB1c2goJ1NlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uL1NlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uVG9rZW4nLCAnU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24vSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQnLCAnU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24vSXNHb29nbGVBdXRoZW50aWNhdG9yVmVyaWZpZWQnLCAnU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24vT1RQUGhvbmVObycsICdTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi9NYW51YWxFbnRyeUNvZGUnKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYWN0aW9uUHJvamVjdGlvbkZpZWxkcyA9IHV0aWxpdGllcy5tZXJnZU9iamVjdHMoYWN0aW9uUHJvamVjdGlvbkZpZWxkcywgcmVxdWlyZWRQcm9qZWN0ZWRGaWVsZCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgIHZhciBmaWVsZHNMaXN0ID0gJyZmaWVsZHM9JztcclxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGlvblByb2plY3Rpb25GaWVsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSBhY3Rpb25Qcm9qZWN0aW9uRmllbGRzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgZmllbGRzTGlzdCA9IGZpZWxkc0xpc3QgKyBhY3Rpb25Qcm9qZWN0aW9uRmllbGRzW2ldO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZmllbGRzTGlzdCA9IGZpZWxkc0xpc3QgKyBhY3Rpb25Qcm9qZWN0aW9uRmllbGRzW2ldICsgJywnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB1cmwgPSB1cmwgKyBmaWVsZHNMaXN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcclxuICAgICAgICBpZiAodXJsLmluZGV4T2YoJ2NkbicpID09PSAtMSAmJiB1cmwuaW5kZXhPZignLmpzb24nKSA9PT0gLTEpIHtcclxuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLnNvdHRjaGVjaykge1xyXG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtTG9naW5SYWRpdXMtU290dCcsIG1vZHVsZS5vcHRpb25zLnNvdHQpO1xyXG4gICAgICAgICAgZGVsZXRlIGRhdGEuc290dGNoZWNrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fCBkYXRhIGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeSh1dGlsaXRpZXMucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgICAgICAgIHhoci5zZW5kKGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7IHhoci5zZW5kKG51bGwpOyB9XHJcblxyXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHhoci5yZXNwb25zZTtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGpzb25SZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgIHZhciByZXNwb25zZUtleXMgPSBPYmplY3Qua2V5cyhqc29uUmVzcG9uc2UpLm1hcChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlS2V5cy5pbmRleE9mKCdlcnJvcmNvZGUnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3hockVuZFdpdGhFcnJvcicsIGFjdGlvbik7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgneGhyRW5kV2l0aFN1Y2Nlc3MnLCBhY3Rpb24pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXHJcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09ICc1MDAnKSB7XHJcbiAgICAgICAgICAgICAgdmFyIF9yZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgIF9yZXNwb25zZS5FcnJvckNvZGUgPSAnNTAwJztcclxuICAgICAgICAgICAgICByZXNwb25zZSA9IEpTT04uc3RyaW5naWZ5KF9yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCd4aHJFbmRXaXRoRXJyb3InLCBhY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHV0aWwuaXNKc29uU3RyaW5nKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc3VjY2Vzc0NhbGxiYWNrJywgbmFtZSwgcmVzdWx0LCBkYXRhKTtcclxuICAgICAgICAgICAgICBpZiAoZHNGbGFnKSB7IHN1Y2Nlc3NIYW5kbGVyKGRzRmxhZywgcmVzdWx0KTsgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NIYW5kbGVyKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnZW5kUHJvY2VzcycsIGFjdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgneGhyRW5kV2l0aEVycm9yJywgYWN0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xyXG4gICogQGZ1bmN0aW9uIG9wZW5XaW5kb3dcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfdXJsIFNwZWNpZmllcyB0aGUgVVJMIG9mIHRoZSBwYWdlIHRvIG9wZW4uIElmIG5vIFVSTCBpcyBzcGVjaWZpZWQsIGEgbmV3IHdpbmRvdy90YWIgd2l0aCBhYm91dDpibGFuayBpcyBvcGVuZWRcclxuICAqIEByZXR1cm4ge0Jvb2xlYW4vU3RyaW5nfSByZXN1bHRzICBzdHJpbmcgb3IgYm9vbGVhbiB2YWx1ZVxyXG4gICogQGRlc2NyaXB0aW9uIE9wZW5zIGEgbmV3IGJyb3dzZXIgd2luZG93LCBvciBhIG5ldyB0YWIsIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuLlxyXG4gICovXHJcbiAgdXRpbGl0eU1vZHVsZS5vcGVuV2luZG93ID0gZnVuY3Rpb24gKF91cmwpIHtcclxuICAgIF91cmwgPSBfdXJsIHx8IHV0aWxpdHlNb2R1bGUuaHJlZjtcclxuXHJcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNNb2JpbGUpIHtcclxuICAgICAgdmFyIGxvYyA9ICdubyc7XHJcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5kZWJ1Z01vZGUpIHtcclxuICAgICAgICBsb2MgPSAneWVzJztcclxuICAgICAgfVxyXG4gICAgICB2YXIgd2luID0gd2luZG93Lm9wZW4oX3VybCwgJ19ibGFuaycsICdsb2NhdGlvbj0nICsgbG9jKTtcclxuICAgICAgd2luLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRzdG9wJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGdldFBhcmFtVmFsdWUgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1tcXFxcPyZdJyArIHBhcmFtICsgJz0oW14mI10qKScpO1xyXG4gICAgICAgICAgdmFyIHJlc3VsdHMgPSByZWdleC5leGVjKGV2ZW50LnVybCk7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdWx0cyA9PT0gbnVsbCA/ICcnIDogZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciB0b2tlbiA9IGdldFBhcmFtVmFsdWUoJ3Rva2VuJyk7XHJcblxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXHJcbiAgICAgICAgaWYgKHRva2VuICE9IG51bGwgJiYgdG9rZW4gIT09ICcnKSB7XHJcbiAgICAgICAgICB3aW4uY2xvc2UoKTtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgaHRtbDVwYXNzVG9rZW4odG9rZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICBwYXJzZXIuaHJlZiA9IF91cmw7XHJcbiAgICAgIHZhciBwcm92aWRlciA9IHV0aWxpdGllcy5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgncHJvdmlkZXInLCBwYXJzZXIuc2VhcmNoKTtcclxuICAgICAgdmFyIGNsaWVudEd1aWQgPSAnJztcclxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbikge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgY2xpZW50R3VpZCA9IG1vZHVsZS51dGlsLnJhbmRvbVN0cmluZygxNik7XHJcbiAgICAgICAgX3VybCArPSAnJm5vY2FsbGJhY2s9dHJ1ZSZjYWxsYmFja2d1aWQ9JyArIGNsaWVudEd1aWQ7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHNvY2lhbFBvcHVwRGF0YSA9IG1vZHVsZS5vcHRpb25zLmN1c3RvbWl6ZVNvY2lhbFBvcHVwIHx8ICdtZW51YmFyPTEscmVzaXphYmxlPTEsd2lkdGg9NDUwLGhlaWdodD00NTAsc2Nyb2xsYmFycz0xJztcclxuICAgICAgd2luZG93Lm9wZW4oX3VybCwgJ2xycG9wdXBjaGlsZHdpbmRvdycsIHNvY2lhbFBvcHVwRGF0YSk7XHJcbiAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc29jaWFsQ2FsbHMnLCBwcm92aWRlciwgY2xpZW50R3VpZCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVXRpbGl0eSNcclxuICAqIEBmdW5jdGlvbiBhZGRIVE1MQ29udGVudFxyXG4gICogQHBhcmFtIHtPYmplY3R9IGNvbnRhaW5lciBodG1sIERPTSBlbGVtZW50XHJcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBodG1sIGVsZW1lbnRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBpbm5lckh0bWwgc3RyaW5nXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBzdHJpbmdcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXhOYW1lIHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIEFkZCBodG1sIGNvbnRlbnRzIGludG8gZ2l2ZW4gaHRtbCBjb250YWluZXIuXHJcbiAgKi9cclxuICB1dGlsaXR5TW9kdWxlLmFkZEhUTUxDb250ZW50ID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgZGF0YSwgaW5uZXJIdG1sLCBuYW1lLCBfY2xhc3NQcmVmaXhOYW1lKSB7XHJcbiAgICBpbm5lckh0bWwgPSBpbm5lckh0bWwgfHwgZmFsc2U7XHJcbiAgICB2YXIgY29udGFpbmVyRWxlbSA9IHV0aWxpdHlNb2R1bGUuZWxlbWVudEJ5SWQoY29udGFpbmVyKTtcclxuICAgIGlmIChjb250YWluZXJFbGVtIHx8IG5hbWUpIHtcclxuICAgICAgaWYgKCFpbm5lckh0bWwpIHtcclxuICAgICAgICBjb250YWluZXJFbGVtLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIGJ1dHRvbk5hbWUgPSBkZWZhdWx0QnV0dG9uc05hbWVbbmFtZS50b0xvd2VyQ2FzZSgpXTtcclxuICAgICAgICB2YXIgX2lkUHJlZml4ID0gX2NsYXNzUHJlZml4TmFtZSB8fCBMb2dpblJhZGl1c0RlZmF1bHRzLmlkUHJlZml4O1xyXG4gICAgICAgIHZhciByZWYgPSB1dGlsaXR5TW9kdWxlLmVsZW1lbnRCeUlkKF9pZFByZWZpeCArICdzdWJtaXQtJyArIGJ1dHRvbk5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICctJykpO1xyXG4gICAgICAgIHV0aWxpdGllcy5pbnNlcnRCZWZvcmUoZGF0YSwgcmVmKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb250YWluZXJFbGVtLmFwcGVuZENoaWxkKGRhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgY29udGFpbmVyRWxlbTEgPSB1dGlsaXRpZXMuZWxlbWVudHNCeUNsYXNzKGNvbnRhaW5lcik7XHJcbiAgICAgIGlmIChjb250YWluZXJFbGVtMSAmJiBjb250YWluZXJFbGVtMS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb250YWluZXJFbGVtMS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgaWYgKCFpbm5lckh0bWwpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyRWxlbTFbal0uaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29udGFpbmVyRWxlbTFbal0uYXBwZW5kQ2hpbGQoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xyXG4gICogQGZ1bmN0aW9uIGFkZFJlY2FwdGNoYUpTXHJcbiAgKiBAcGFyYW0ge0Jvb2xlYW49fSBhZGQgaWYgdHJ1ZSB0aGVuIGl0IHdpbGwgYWRkIFYycmVjYXB0Y2hhIEpTIHRvIHRoZSBhcHBsaWNhdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb25hIGFkZCB0aGUgSlMgcmVxdWlyZWQgdG8gYWRkIGNhcHRjaGEgc2V0dGluZyBmb3IgaW52aXNpYmxlLCBWMnJlY2FwdGNoYSBvciB0ZW5zY2VudCBjYXB0Y2hhLlxyXG4gICovXHJcbiAgdXRpbGl0eU1vZHVsZS5hZGRSZWNhcHRjaGFKUyA9IGZ1bmN0aW9uIChhZGQpIHtcclxuICAgIGlmICghd2luZG93WydncmVjYXB0Y2hhJ10gJiYgKG1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhIHx8IGFkZCkpIHtcclxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhTGFuZ3VhZ2UpIHtcclxuICAgICAgICB1dGlsaXR5TW9kdWxlLmFkZEpzKCdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanM/cmVuZGVyPWV4cGxpY2l0JmhsPScgKyBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYUxhbmd1YWdlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB1dGlsaXR5TW9kdWxlLmFkZEpzKCdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanM/cmVuZGVyPWV4cGxpY2l0Jyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoIXdpbmRvd1snZ3JlY2FwdGNoYSddICYmIG1vZHVsZS5vcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSkge1xyXG4gICAgICB1dGlsaXR5TW9kdWxlLmFkZEpzKCdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMnKTtcclxuICAgIH1cclxuICAgIGlmIChtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYSB8fCBtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYUFzRmFsbGJhY2spIHtcclxuICAgICAgdXRpbGl0eU1vZHVsZS5hZGRKcygnaHR0cHM6Ly9zc2wuY2FwdGNoYS5xcS5jb20vVENhcHRjaGEuanMnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXHJcbiAgKiBAZnVuY3Rpb24gcmVuZGVyVjJSZWNhcHRjaGFcclxuICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkIGlmIHRydWUgdGhlbiBpdCB3aWxsIHJlbmRlciBjYXB0Y2hhIGluIHRoZSBET20gZXZlbiBpZiBhbnkgY3BhdGNoYSBoYXMgYmVlbiBlbmFibGVkIG9yIG5vdCBpbiBkYXNoYm9hcmQgb3IgdXNpbmcgY29tbW9uIG9wdGlvbnMuXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVjYXB0Y2hhaWQgZWxlbWVudCBIVE1MIGlkIHdoZXJlIGNhcHRjaGEgbmVlZGVkIHRvIGJlIHJlbmRlcmVkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbiBhZnRlciBjYXB0Y2hhIGhhcyBiZWVuIHJlbmRlcmVkIHRvIERPTVxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgaXMgdGVoIGZ1bmN0aW9uIHRvIHJlbmRlciBjYXB0Y2hhIGluIERPTVxyXG4gICovXHJcbiAgdXRpbGl0eU1vZHVsZS5yZW5kZXJWMlJlY2FwdGNoYSA9IGZ1bmN0aW9uIChyZWNhcHRjaGFpZCwgYWRkLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGludHZhbDtcclxuICAgIHZhciBkb21SZWNhcHRjaGEgPSB1dGlsaXR5TW9kdWxlLmVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkKTtcclxuICAgIGlmIChtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYSB8fCBhZGQgfHwgbW9kdWxlLm9wdGlvbnMuaW52aXNpYmxlUmVjYXB0Y2hhIHx8IG1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhIHx8IG1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhQXNGYWxsYmFjaykge1xyXG4gICAgICBpZiAod2luZG93LmdyZWNhcHRjaGEgJiYgZG9tUmVjYXB0Y2hhICYmIGRvbVJlY2FwdGNoYS5pbm5lckhUTUwpIHtcclxuICAgICAgICBncmVjYXB0Y2hhLnJlc2V0KHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgbWFpbkludHZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWludHZhbCkge1xyXG4gICAgICAgICAgaW50dmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAod2luZG93LmdyZWNhcHRjaGEpIHtcclxuICAgICAgICAgICAgICBpZiAoZG9tUmVjYXB0Y2hhICYmIGRvbVJlY2FwdGNoYS5pbm5lckhUTUwgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVjYXB0Y2hhT2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAnc2l0ZWtleSc6IG1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhU2l0ZUtleSB8fCAnNkxlQWl3SVRBQUFBQURscWIwNkpJR2VwQnM4WlJvM09aN0MwVzdVMycsXHJcbiAgICAgICAgICAgICAgICAgICd0aGVtZSc6ICdsaWdodCcsXHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXHJcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZ19yZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbVJlY2FwdGNoYS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGdfcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEpIHtcclxuICAgICAgICAgICAgICAgICAgcmVjYXB0Y2hhT2JqWydzaXplJ10gPSAnaW52aXNpYmxlJztcclxuICAgICAgICAgICAgICAgICAgcmVjYXB0Y2hhT2JqWydjYWxsYmFjayddID0gJ29uQ2FwdGNoYVN1Ym1pdCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgd2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10gPSBncmVjYXB0Y2hhLnJlbmRlcihyZWNhcHRjaGFpZCwgcmVjYXB0Y2hhT2JqKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludHZhbCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlY2FwdGNoYWlkID0gcmVjYXB0Y2hhaWQgKyAnX3RlbmNlbnQnO1xyXG4gICAgICAgICAgICAgIC8vIHRlbmNlbnRcclxuXHJcbiAgICAgICAgICAgICAgdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkKTtcclxuICAgICAgICAgICAgICBpZiAoZWxlKSB7XHJcbiAgICAgICAgICAgICAgICBlbGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgVGVuY2VudENhcHRjaGEgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3XHJcbiAgICAgICAgICAgICAgICBuZXcgVGVuY2VudENhcHRjaGEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVjYXB0Y2hhaWQpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnR2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgICB9LCAxMDAwKTtcclxuXHJcbiAgICAgICAgICBjbGVhckludGVydmFsKG1haW5JbnR2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXHJcbiAgKiBAZnVuY3Rpb24gY2FwdGNoYVNjaGVtYVxyXG4gICogQHBhcmFtIHtCb29sZWFufSBhZGQgZmxhZyBmb3IgYWRkIHYyUmVjYXB0Y2hhXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVjYXB0Y2hhaWQgaWQgb2YgdjJSZWNhcHRjaGFcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0FycmF5fSBzY2hlbWEgYXJyYXkgb2YgY2FwdGNoYSBvYmplY3RzXHJcbiAgKiBAZGVzY3JpcHRpb24gVXBkYXRlIGNhcHRjaGEgc2NoZW1hLlxyXG4gICovXHJcbiAgdXRpbGl0eU1vZHVsZS5jYXB0Y2hhU2NoZW1hID0gZnVuY3Rpb24gKHJlY2FwdGNoYWlkLCBzY2hlbWEsIGFkZCwgY2FsbGFiY2spIHtcclxuICAgIGlmICgobW9kdWxlLm9wdGlvbnMudjJSZWNhcHRjaGEgfHwgYWRkKSAmJiAhdXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZChyZWNhcHRjaGFpZCkpIHtcclxuICAgICAgdmFyIGNhcHRjaGFPYmogPSB7XHJcbiAgICAgICAgdHlwZTogJ2NhcHRjaGEnLFxyXG4gICAgICAgIG5hbWU6ICdnLXJlY2FwdGNoYS1yZXNwb25zZScsXHJcbiAgICAgICAgaHRtbDogJzxkaXYgaWQ9XCInICsgcmVjYXB0Y2hhaWQgKyAnXCIgY2xhc3M9XCJyZWNhcHRjaGFfd2lkZ2V0XCI+PC9kaXY+JyxcclxuICAgICAgICBkaXNwbGF5OiAnQ2FwdGNoYScsXHJcbiAgICAgICAgcnVsZXM6ICdyZXF1aXJlZCdcclxuICAgICAgfTtcclxuICAgICAgc2NoZW1hLnB1c2goY2FwdGNoYU9iaik7XHJcbiAgICB9IGVsc2UgaWYgKG1vZHVsZS5vcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSAmJiAhdXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZChyZWNhcHRjaGFpZCkpIHtcclxuICAgICAgdmFyIHNpdGVrZXkgPSBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYVNpdGVLZXkgfHwgJzZMZUFpd0lUQUFBQUFEbHFiMDZKSUdlcEJzOFpSbzNPWjdDMFc3VTMnO1xyXG4gICAgICB2YXIgc3R5bGUgPSAnJztcclxuICAgICAgaWYgKGFkZCA9PT0gJ2hpZGUnKSB7XHJcbiAgICAgICAgc3R5bGUgPSAnZGlzcGxheTpub25lJztcclxuICAgICAgfVxyXG4gICAgICB2YXIgaW52aXNpYmxlQ2FwdGNoYU9iaiA9IHtcclxuICAgICAgICB0eXBlOiAnY2FwdGNoYScsXHJcbiAgICAgICAgbmFtZTogJ2ctcmVjYXB0Y2hhLXJlc3BvbnNlJyxcclxuICAgICAgICBodG1sOiAnPGRpdiBpZD1cIicgKyByZWNhcHRjaGFpZCArICdcIiBzdHlsZT1cIicgKyBzdHlsZSArICdcIiBjbGFzcz1cImctcmVjYXB0Y2hhXCIgZGF0YS1zaXRla2V5PVwiJyArIHNpdGVrZXkgKyAnXCIgZGF0YS1zaXplPVwiaW52aXNpYmxlXCIgZGF0YS1jYWxsYmFjaz1cIm9uQ2FwdGNoYVN1Ym1pdFwiPjwvZGl2PicsXHJcbiAgICAgICAgZGlzcGxheTogJ0NhcHRjaGEnLFxyXG4gICAgICAgIHJ1bGVzOiAnJ1xyXG4gICAgICB9O1xyXG4gICAgICBzY2hlbWEucHVzaChpbnZpc2libGVDYXB0Y2hhT2JqKTtcclxuICAgIH1cclxuICAgIGlmICghdXRpbGl0eU1vZHVsZS5lbGVtZW50QnlJZChyZWNhcHRjaGFpZCkgJiYgKG1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhIHx8IG1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhQXNGYWxsYmFjaykpIHtcclxuICAgICAgd2luZG93Lm9uVGVuY2VudENhcHRjaGFTdWJtaXQgPSBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKHJlcylcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXHJcbiAgICAgICAgaWYgKHJlcy5yZXQgPT0gMCkge1xyXG4gICAgICAgICAgaWYgKGNhbGxhYmNrKSB7XHJcbiAgICAgICAgICAgIGNhbGxhYmNrKHJlcyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3cub25UZW5jZW50Q2FwdGNoYVN1Ym1pdENhbGxiYWNrKHJlcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIHRlbmNlbnRTdHlsZSA9IGFkZCA/ICdzdHlsZT1kaXNwbGF5Om5vbmU7ICcgOiAnJztcclxuICAgICAgdmFyIHRlbmNlbnRDYXB0Y2hhT2JqID0ge1xyXG4gICAgICAgIHR5cGU6ICdjYXB0Y2hhJyxcclxuICAgICAgICBuYW1lOiAnVGVuY2VudENhcHRjaGEnLFxyXG4gICAgICAgIGh0bWw6ICc8ZGl2ICcgKyB0ZW5jZW50U3R5bGUgKyAnIGlkPSBcIicgKyByZWNhcHRjaGFpZCArICdfdGVuY2VudFwiICBjbGFzcz1cIlRlbmNlbnRDYXB0Y2hhXCIgIGRhdGEtYXBwaWQ9XCInICsgbW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGFBcHBpZCArICdcIiBkYXRhLWNiZm49XCJvblRlbmNlbnRDYXB0Y2hhU3VibWl0XCI+PC9kaXY+JyxcclxuICAgICAgICBkaXNwbGF5OiAnQ2FwdGNoYScsXHJcbiAgICAgICAgcnVsZXM6ICcnXHJcbiAgICAgIH07XHJcbiAgICAgIHNjaGVtYS5wdXNoKHRlbmNlbnRDYXB0Y2hhT2JqKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1V0aWxpdHkjXHJcbiAgKiBAZnVuY3Rpb24gY2hlY2tQaG9uZU9yRW1haWxMb2dpblxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgbG9naW4gY3JlZGVudGlhbHMgb2JqZWN0XHJcbiAgKiBAcmV0dXJuIHtPYmplY3R9IGRhdGEgbG9naW4gY3JlZGVudGlhbHMgb2JqZWN0XHJcbiAgKiBAZGVzY3JpcHRpb24gQ2hlY2sgcGhvbmUgb3IgZW1haWwgbG9naW4uXHJcbiAgKi9cclxuICB1dGlsaXR5TW9kdWxlLmNoZWNrUGhvbmVPckVtYWlsTG9naW4gPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgdmFyIGZvcm1EYXRhID0gdXRpbGl0aWVzLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XHJcbiAgICBpZiAoZm9ybURhdGEuZW1haWxpZCB8fCBmb3JtRGF0YS5lbWFpbCkge1xyXG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZHVwbGljYXRlRW1haWxXaXRoVW5pcXVlVXNlcm5hbWUgJiYgIWZvcm1EYXRhLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnZW1haWxpZCcsICd1c2VybmFtZScpLnJlcGxhY2UoJ2VtYWlsJywgJ3VzZXJuYW1lJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIHN0ciA9IGZvcm1EYXRhLmVtYWlsaWQgfHwgZm9ybURhdGEuZW1haWw7XHJcbiAgICAgICAgaWYgKExvZ2luUmFkaXVzRGVmYXVsdHMucmVnZXhFeHByZXNzaW9uLmVtYWlsUmVnZXgudGVzdChzdHIpKSB7XHJcbiAgICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdlbWFpbGlkJywgJ2VtYWlsJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luICYmIExvZ2luUmFkaXVzRGVmYXVsdHMucmVnZXhFeHByZXNzaW9uLnBob25lUmVnZXgudGVzdChzdHIpKSB7XHJcbiAgICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdlbWFpbGlkJywgJ3Bob25lJykucmVwbGFjZSgnZW1haWwnLCAncGhvbmUnKTtcclxuICAgICAgICAgIGRhdGEgKz0gJyZwaG9uZUFwaT0xJztcclxuICAgICAgICB9IGVsc2UgaWYgKG1vZHVsZS5vcHRpb25zLnVzZXJuYW1lTG9naW4pIHtcclxuICAgICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ2VtYWlsaWQnLCAndXNlcm5hbWUnKS5yZXBsYWNlKCdlbWFpbCcsICd1c2VybmFtZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfTtcclxufVxyXG5cbi8qKlxyXG4gKiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayBvZnRlbiB0ZXJtZWQgYXMgSlMgZm9ybSBsaWJyYXJ5LCBpcyBhbiBleHBvc2VkIEFQSSBmcmFtZXdvcmsgdG8gdXNlIGFsbCBBUEkgZm9yIENJQU0gZnVuY3Rpb25hbGl0eSAgd2hpbGUgdXNpbmcgb3duIGZvcm1zL2ludGVyZmFjZXNcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBtb2R1bGUgSW5zdGFuY2Ugb2YgTG9naW5SYWRpdXMgT2JqZWN0IGluc3RhbmlhdGVkIHdpdGggdXNlciBnaXZlbiBjb21tb24gb3B0aW9uc1xyXG4gKiBAcGFyYW0ge29iamVjdH0gY29udHJvbGxlcnMgSW5zdGFuY2Ugb2YgY29udHJvbGxlcnMgY29uc3RydWN0b3IgdG8gdXNlIHRoZSBjb250cm9sbGVyIGZ1bmN0aW9uc1xyXG4gKi9cclxuZnVuY3Rpb24gTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsgKG1vZHVsZSwgY29udHJvbGxlcnMpIHtcclxuICB2YXIgYXBpRnJhbWVXb3JrTW9kdWxlID0gdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gaW5pdFxyXG4gICogQGRlc2NyaXB0aW9uIEludGlhbGl6ZSB0aGUgQVBJIGZyYW1ld29ya1xyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBtb2R1bGUubHJBcGlGcmFtZXdvcmsgPSB0cnVlO1xyXG4gICAgLy8gbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oZnVuY3Rpb24oKXt9KTtcclxuICAgIC8vIG1vZHVsZS5vcHRpb25zID0gbW9kdWxlLnV0aWwubWVyZ2VPcHRpb25zKGxyRGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpIHx8IHt9O1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIGxvZ2luXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEgaW5wdXQgcGF5bG9hZCB0byBsb2dpbiAgKGUuZy4geyBlbWFpbGlkOiBcImV4YW1wbGVAZXhhbXBsZS5jb21cIiwgcGFzc3dvcmQ6IFwiMTIzeHh4Nzg5XCIgfSkgRm9yIG1vcmUgZXhhbXBsZSBbY2xpY2sgaGVyZV17QGxpbmsgaHR0cHM6Ly93d3cubG9naW5yYWRpdXMuY29tL2RvY3MvYXBpL3YyL2N1c3RvbWVyLWlkZW50aXR5LWFwaS9hdXRoZW50aWNhdGlvbi9hdXRoLWxvZ2luLWJ5LWVtYWlsL31cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgIHRoaXMgY2FsbGJhY2sgd2lsbCBjYWxsIHJlc3BvbnNlIHdpbGwgYmUgeyBhY2Nlc3NfdG9rZW4gOlwiPHRva2VuPlwiLCBleHBpcmVzX2luIDpcIjxkYXRlIGFuZCB0aW1lPlwiLCB5b3UgY2FuIHVzZSB0b2tlbiByZXNwb25zZS5hY2Nlc3NfdG9rZW4gYW5kIGdldCB1c2VyIHByb2ZpbGUgdXNpbmcgeW91ciBMb2dpblJhZGl1cyBTREsuXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBvbiBmYWlsdXJlIHRoaXMgZnVuY3Rpb24gd2lsbCBjYWxsIM6Tw4fDv2Vycm9yc86Tw4fDliB3aGljaCBpcyBhbiBhcnJheSBvZiBlcnJvcnMgd2l0aCBtZXNzYWdlLiAgZXZlcnkga2luZCBvZiBlcnJvciB3aWxsIGJlIHJldHVybmVkIGluIHRoaXMgbWV0aG9kLCB5b3UgY2FuIHJ1biBhIGxvb3Agb24gdGhpcyBhcnJheSB0byBpZGVudGlmeSB0aGUgZGVzY3JpcHRpb24gYW5kIG90aGVyIGFzcGVjdCBvZiBlcnJvci5cclxuICAqIEBkZXNjcmlwdGlvbiBMb2dpbiBzZXJ2aWNlIG1vZHVsZVxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmxvZ2luID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb250cm9sbGVycy5sb2dpbkNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG51bGwsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gb3RwTG9naW5cclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWluaW5nIHRoZSBwaG9uZSBudW1iZXIgb2YgY3VzdG9tZXIgeyBwaG9uZTogzpPDh8KjeHh4eHh4eHh4eHh4eHh4XCJ9XHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiB0aGUgT25lIFRpbWUgUGFzc2NvZGUgaXMgc3VjY2Vzc2Z1bGx5IHNlbnRcclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uIGlmIHNlbmRpbmcgdGhlIHBhc3Njb2RlIGZhaWxzLlxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBnZXQgYSBPbmUgVGltZSBQYXNzd29yZCAoT1RQKSwgb24gY3VzdG9tZXIncyBwaG9uZSBudW1iZXIuXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUub3RwTG9naW4gPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmxvZ2luT1RQQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgbnVsbCwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gdHdvRkFMb2dpblxyXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YW5kYXJkIGZpZWxkcyBmb3IgbG9naW4gbGlrZSB1c2VybmFtZSwgcGFzc3dvcmQgb3IgZW1haWwgYW5kIHBhc3N3b3JkLlxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHVwZGF0ZVBob25lTnVtYmVyIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gdmVyaWZ5T1RQIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gcmVzZW5kT1RQIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIGluaXRpYXRlIGEgdHJhZGl0aW9uYWwgbG9naW4gaWYgeW91IGhhdmUgTUZBIChNdWx0aS1GYWN0b3IgQXV0aGVudGljYXRpb24pIGVuYWJsZWQgaW4geW91ciBMb2dpblJhZGl1cyBBZG1pbiBDb25zb2xlLlxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnR3b0ZBTG9naW4gPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCB1cGRhdGVQaG9uZU51bWJlciwgdmVyaWZ5T1RQLCByZXNlbmRPVFAsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKSB7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cclxuICAgIHVwZGF0ZVBob25lTnVtYmVyID0gdXBkYXRlUGhvbmVOdW1iZXIgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgcGFzc3dvcmRFeHBpcnkgPSBwYXNzd29yZEV4cGlyeSB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XHJcbiAgICByZXF1aXJlZEZpZWxkID0gcmVxdWlyZWRGaWVsZCB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XHJcbiAgICB2ZXJpZnlPVFAgPSB2ZXJpZnlPVFAgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgcmVzZW5kT1RQID0gcmVzZW5kT1RQIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcclxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29udHJvbGxlcnMubG9naW4yRkFDb250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBudWxsLCBvblN1Y2Nlc3MsIG9uRXJyb3IsICcnLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCwgdXBkYXRlUGhvbmVOdW1iZXIsIHZlcmlmeU9UUCwgcmVzZW5kT1RQKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gcmVnaXN0cmF0aW9uXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEgRGF0YSBpcyBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSB1c2VyIHByb2ZpbGUgdGhhdCB5b3UgYXJlIGNyZWF0aW5nLlxyXG4gICogQHBhcmFtICB7T2JqZWN0fSByZWdTY2hlbWEgIFRoZSBzY2hlbWEgZm9yIHRoZSBmaWVsZHMgYmVpbmcgcHJvdmlkZWQuXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gdmVyaWZ5T1RQIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gcmVzZW5kT1RQIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gUmVnaXN0cmF0aW9uIHNlcnZpY2UgbW9kdWxlXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUucmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKHJlZ1NjaGVtYSwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCB2ZXJpZnlPVFAsIHJlc2VuZE9UUCkge1xyXG4gICAgdmVyaWZ5T1RQID0gdmVyaWZ5T1RQIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcclxuICAgIHJlc2VuZE9UUCA9IHJlc2VuZE9UUCB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnJlZ2lzdHJhdGlvbkNvbnRyb2xsZXIoZGF0YSwgbnVsbCwgb25TdWNjZXNzLCBvbkVycm9yLCAnJywgcmVnU2NoZW1hLCB2ZXJpZnlPVFAsIHJlc2VuZE9UUCk7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIGZvcmdvdFBhc3N3b3JkXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbmluZyB0aGUgZW1haWwgb2YgdGhlIGN1c3RvbWVyIGUuZy4ge2VtYWlsOiBcInh4eEB4eHguY29tXCJ9XHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gdGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNlbmQgYSBmb3Jnb3QgcGFzc3dvcmQgZW1haWwgdG8gYSBjdXN0b21lciwgdGhlIGVtYWlsIHdpbGwgY29udGFpbiB0aGUgdmVyaWZpY2F0aW9uIHRva2VuIHRvIHRoZW4gYmUgY29uc3VtZWQgdGhlIHJlc2V0UGFzc3dvcmQgZnVuY3Rpb24uXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuZm9yZ290UGFzc3dvcmQgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmZvcmdvdFBhc3N3b3JkQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgJycsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmRcclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWlucyByZXNldHRva2VuLCBwYXNzd29yZCBhbmQgY29uZmlybXBhc3N3b3JkXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byByZXNldCBhIHBhc3N3b3JkXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29udHJvbGxlcnMucmVzZXRQYXNzd29yZENvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIGVtYWlsVmVyaWZpY2F0aW9uXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbmluZyB0aGUgdmVyaWZpY2F0aW9udG9rZW4gYXMgaW5wdXQsIG9wdGlvbmFsbHkgaXQgY2FuIGhhdmUgdXJsIG9yIHdlbGNvbWVlbWFpbHRlbXBsYXRlXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gQW4gYXBpIGV4cG9zZWQgdG8gdmVyaWZ5IHRoZSBlbWFpbFxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmVtYWlsVmVyaWZpY2F0aW9uID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb250cm9sbGVycy5lbWFpbFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIoZGF0YS52dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIHNvY2lhbExvZ2luXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgdGhhdCBjb250YWlucyB0b2tlbiB3aGljaCBoYXMgdGhlIGFjY2Vzc190b2tlbiBmb3IgdGhlIHZhbHVlLnsgdG9rZW46IFwieHh4eHh4eHgteHh4LTQzMzcteHh4eC1kNjI0NzAzZmZlNTVcIiB9XHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBhIHN1Y2Nlc3NmdWwgc29jaWFsIGxvZ2luXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uTWlzc2luZ0ZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIGF1dG9tYXRlZCBwcm9jZXNzIG9mIGdldHRpbmcgdGhlIHNvY2lhbCBwcm9maWxlIGRhdGEgd2FzIG5vdCBhYmxlIHRvIGZpbGwgb3V0IGFsbCBvZiB0aGUgcmVxdWlyZWQgZmllbGRzLlxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHJlZ1NjaGVtYSByZWdpc3RyYXRpb24gc2NoZW1hIG9iamVjdFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgY29udGFpbmVyXHJcbiAgKiBAZGVzY3JpcHRpb24gSW1wbGVtZW50cyBTb2NpYWwgbG9naW4gOlxyXG4gICogVG8gaW1wbGVtZW50IFNvY2lhbCBMb2dpbiwgY2FsbCB0aGUgTFJPYmplY3QuYXBpLnNvY2lhbExvZ2luIGZ1bmN0aW9uIGFsb25nIHdpdGggdGhlIHRva2VuLCBpbiB0aGlzIGNhc2UgdGhlIHRva2VuIGNvbWVzXHJcbiAgKiBmcm9tIHRoZSBjYWxsYmFjayByZXNwb25zZSBhZnRlciB0aGUgc29jaWFsIGxvZ2luIHByb2Nlc3MuIFRoaXMgd2lsbCBhbHNvIHByb21wdCBhICdtaXNzaW5nIHJlcXVpcmVkIGZpZWxkJyBmaWxsaW5nXHJcbiAgKiBpbnRlcmZhY2UgaWYgc29tZSBmaWVsZHMgYXJlIG5vdCBmaWxsZWQgYXV0b21hdGljYWxseSBmcm9tIHRoZSBkYXRhIG9idGFpbmVkIHZpYSB0aGUgc29jaWFsIHByb3ZpZGVyLiBCeSBmaWxsaW5nIGluIHRoZVxyXG4gICogZm9ybSwgdGhlIGN1c3RvbWVyJ3MgYWNjb3VudCB3aWxsIGJlIGdlbmVyYXRlZC5cclxuICAqL1xyXG4gIGFwaUZyYW1lV29ya01vZHVsZS5zb2NpYWxMb2dpbiA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIG9uTWlzc2luZ0ZpZWxkLCByZWdTY2hlbWEsIGNvbnRhaW5lcikge1xyXG4gICAgdmFyIHNvY2lhbExvZ2luQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICghKG1vZHVsZS5Mb2dpblJhZGl1c0hvc3RlZFBhZ2UgJiYgbW9kdWxlLlNTT2luaXRGaXJlZCkpIHtcclxuICAgICAgICBvbk1pc3NpbmdGaWVsZCA9IG9uTWlzc2luZ0ZpZWxkIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcclxuICAgICAgICByZWdTY2hlbWEgPSByZWdTY2hlbWEgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgICAgIGNvbnRyb2xsZXJzLnNvY2lhbExvZ2luUmVjZWl2ZVRva2VuKGRhdGEudG9rZW4sIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBudWxsLCBvbk1pc3NpbmdGaWVsZCwgcmVnU2NoZW1hKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKHNvY2lhbExvZ2luQ2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIHJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgZS5nLiB7ZW1haWw6IFwieHh4QHh4eC5jb21cIn1cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBSZXNlbmQgZW1haWwgdmVyaWZpY2F0aW9uIG9uIGN1c3RvbWVyJ3MgbWFpbCBJRFxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb250cm9sbGVycy5yZXNlbmRFbWFpbFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIHR3b0ZBUmVzZW5kT1RQXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGN1c3RvbWVyJ3MgcGhvbmUgbnVtYmVyIHVuZGVyIHRoZSBwaG9uZU5vMkZBIHBhcmFtZXRlci4gZS5nLiB7IHBob25lTm8yRkE6IFwieHh4eHh4eHh4eFwiIH1cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIEFQSSBpcyB1c2VkIHRvIHJlc2VuZCB0aGUgT25lIFRpbWUgUGFzc2NvZGUgKE9UUCkgYnkgcGhvbmUgaWYgbmVlZGVkIGR1cmluZyBhIE11bHRpLUZhY3RvciBBdXRoZW50aWNhdGlvbiBwcm9jZXNzLlxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnR3b0ZBUmVzZW5kT1RQID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb250cm9sbGVycy5yZXNlbmRPVFAyRkFDb250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiB0d29GQVZlcmlmeU9UUFxyXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IHdoaWNoIGhhdmUgb3RwIHJlY2VpdmVkIG9uIGN1c3RvbWVyIHBob25lIG51bWJlciBlLmcuIHsgb3RwOiBcInh4eHhcIiB9XHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBBUEkgaXMgdXNlZCB0byBsb2dpbiB2aWEgTXVsdGktZmFjdG9yIGF1dGhlbnRpY2F0aW9uIGJ5IHBhc3NpbmcgdGhlIE9uZSBUaW1lIFBhc3N3b3JkIHJlY2VpdmVkIHZpYSBTTVMuXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUudHdvRkFWZXJpZnlPVFAgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeTJGQU9UUENvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIHR3b0ZBVXBkYXRlUGhvbmVcclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHZlcmlmeU9UUCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHJlc2VuZE9UUCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFR3byB3YXkgYXV0aGVudGljYXRpb24gdXBkYXRlIHBob25lIG51bWJlciBzZXJ2aWNlIG1vZHVsZVxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnR3b0ZBVXBkYXRlUGhvbmUgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCwgdmVyaWZ5T1RQLCByZXNlbmRPVFApIHtcclxuICAgIHBhc3N3b3JkRXhwaXJ5ID0gcGFzc3dvcmRFeHBpcnkgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgcmVxdWlyZWRGaWVsZCA9IHJlcXVpcmVkRmllbGQgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgdmVyaWZ5T1RQID0gdmVyaWZ5T1RQIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcclxuICAgIHJlc2VuZE9UUCA9IHJlc2VuZE9UUCB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZTJGQVBob25lTnVtYmVyQ29udHJvbGxlcihkYXRhLCBudWxsLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIG51bGwsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkLCB2ZXJpZnlPVFAsIHJlc2VuZE9UUCk7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIHVwZGF0ZVBob25lXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3RcclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSB2ZXJpZnlPVFAgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZXNlbmRPVFAgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBVcGRhdGUgcGhvbmUgbnVtYmVyIHNlcnZpY2UgbW9kdWxlXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUudXBkYXRlUGhvbmUgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCB2ZXJpZnlPVFAsIHJlc2VuZE9UUCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcclxuICAgIHBhc3N3b3JkRXhwaXJ5ID0gcGFzc3dvcmRFeHBpcnkgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgcmVxdWlyZWRGaWVsZCA9IHJlcXVpcmVkRmllbGQgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgdmVyaWZ5T1RQID0gdmVyaWZ5T1RQIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcclxuICAgIHJlc2VuZE9UUCA9IHJlc2VuZE9UUCB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZVBob25lTnVtYmVyQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgbnVsbCwgb25TdWNjZXNzLCBvbkVycm9yLCBudWxsLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCwgdmVyaWZ5T1RQLCByZXNlbmRPVFApO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiB2ZXJpZnlPVFBcclxuICAqIEBwYXJhbSAge1N0cmluZ30gb3RwIG90cCBudW1iZXJcclxuICAqIEBwYXJhbSAge1N0cmluZ30gcGhvbmVUb1ZlcmlmeSBzdHJpbmcgdmFsdWVcclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBWZXJpZnkgT1RQIHNlcnZpY2UgbW9kdWxlXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUudmVyaWZ5T1RQID0gZnVuY3Rpb24gKG90cCwgcGhvbmVUb1ZlcmlmeSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeU9UUENvbnRyb2xsZXIob3RwLCBwaG9uZVRvVmVyaWZ5LCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiByZXNlbmRPVFBcclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFJlc2VuZCBPVFAgc2VydmljZSBtb2R1bGVcclxuICAqL1xyXG4gIGFwaUZyYW1lV29ya01vZHVsZS5yZXNlbmRPVFAgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnJlc2VuZE9UUENvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIGFkZEVtYWlsXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3RcclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBBZGQgbmV3IGVtYWlsIHNlcnZpY2UgbW9kdWxlXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuYWRkRW1haWwgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmFkZEVtYWlsQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gcmVtb3ZlRW1haWxcclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFJlbW92ZSBhY2NvdW50IGVtYWlsIHNlcnZpY2UgbW9kdWxlXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUucmVtb3ZlRW1haWwgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnJlbW92ZUVtYWlsQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gY2hhbmdlVXNlcm5hbWVcclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIENoYW5nZSBhY2NvdW50IHVzZXJOYW1lIHNlcnZpY2UgbW9kdWxlXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuY2hhbmdlVXNlcm5hbWUgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmNoYW5nZVVzZXJuYW1lQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmRcclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIENoYW5nZSBhY2NvdW50IHBhc3N3b3JkXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuY2hhbmdlUGFzc3dvcmQgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmNoYW5nZVBhc3N3b3JkQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gY2hlY2tQaG9uZU51bWJlckF2YWlsYWJpbGl0eVxyXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0XHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gQ2hlY2sgcGhvbmUgbnVtYmVyIGF2YWlsYWJpbGl0eVxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmNoZWNrUGhvbmVOdW1iZXJBdmFpbGFiaWxpdHkgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmNoZWNrUGhvbmVOdW1iZXJBdmFpbGFiaWxpdHlDb250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiByZXNldFBhc3N3b3JkQnlQaG9uZVxyXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0XHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gUmVzZXQgYWNjb3VudCBwYXNzd29yZGIgYnkgcGhvbmVcclxuICAqL1xyXG4gIGFwaUZyYW1lV29ya01vZHVsZS5yZXNldFBhc3N3b3JkQnlQaG9uZSA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29udHJvbGxlcnMucmVzZXRQYXNzd29yZEJ5UGhvbmVDb250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZGJ5UGhvbmVcclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIEZvcmdvdCBhY2NvdW50IHBhc3N3b3JkYiBieSBwaG9uZVxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmZvcmdvdFBhc3N3b3JkYnlQaG9uZSA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29udHJvbGxlcnMuZm9yZ290UGFzc3dvcmRieVBob25lQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgbnVsbCwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gdXBkYXRlRGF0YVxyXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0XHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IHNjaGVtYSBvYmplY3RcclxuICAqIEBwYXJhbSAge1N0cmluZ30gdG9rZW4gYXBpdG9rZW4gaWRcclxuICAqIEBwYXJhbSAge0Jvb2xlYW59IGZsYWcgdHJ1ZS9mYWxzZSB2YWx1ZVxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFVwYWR0ZSB1c2VyIGRhdGFcclxuICAqL1xyXG4gIGFwaUZyYW1lV29ya01vZHVsZS51cGRhdGVEYXRhID0gZnVuY3Rpb24gKHNjaGVtYSwgZGF0YSwgdG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgZmxhZykge1xyXG4gICAgdmFyIG9uVXBkYXRlU3VjY2VzcyA9IG9uU3VjY2VzcztcclxuICAgIHZhciBvblVwZGF0ZUVycm9yID0gb25FcnJvcjtcclxuICAgIHZhciB1c2VyUHJvZmlsZSA9IHt9O1xyXG4gICAgaWYgKHR5cGVvZiBvblN1Y2Nlc3MgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIHVzZXJQcm9maWxlID0gb25TdWNjZXNzO1xyXG4gICAgICBvblVwZGF0ZVN1Y2Nlc3MgPSBvbkVycm9yO1xyXG4gICAgICBvblVwZGF0ZUVycm9yID0gZmxhZztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcmVzcG9uc2VPYmplY3QgPSB7fTtcclxuICAgIHJlc3BvbnNlT2JqZWN0LlByb2ZpbGUgPSB1c2VyUHJvZmlsZTtcclxuICAgIHJlc3BvbnNlT2JqZWN0LmFjY2Vzc190b2tlbiA9IHRva2VuO1xyXG5cclxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29udHJvbGxlcnMudXBkYXRlRGF0YShyZXNwb25zZU9iamVjdCwgbnVsbCwgZGF0YSwgb25VcGRhdGVTdWNjZXNzLCBvblVwZGF0ZUVycm9yLCAnJywgc2NoZW1hKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gY2hlY2tFbWFpbEF2YWlsYWJpbGl0eVxyXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0XHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gQ2hlY2sgZW1haWwgYXZhaWxhYmlsaXR5XHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuY2hlY2tFbWFpbEF2YWlsYWJpbGl0eSA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29udHJvbGxlcnMuY2hlY2tFbWFpbEF2YWlsYWJpbGl0eUNvbnRyb2xsZXIobW9kdWxlLnV0aWwuanNvblRvUXVlcnlTdHJpbmcoZGF0YSksIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIGNoZWNrVXNlck5hbWVBdmFpbGFiaWxpdHlcclxuICAqIEBwYXJhbSAge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIENoZWNrIHVzZXIgbmFtZSBhdmFpbGFiaWxpdHlcclxuICAqL1xyXG4gIGFwaUZyYW1lV29ya01vZHVsZS5jaGVja1VzZXJOYW1lQXZhaWxhYmlsaXR5ID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb250cm9sbGVycy5jaGVja1VzZXJOYW1lQXZhaWxhYmlsaXR5Q29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZEJ5U2VjdXJpdHlRdWVzdGlvblxyXG4gICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHZhbHVlIG9mIGVpdGhlciBlbWFpbC91c2VybmFtZS9waG9uZSBmb3IgdGhlIGFjY291bnQsIGFsb25nIHdpdGggdGhlIGRlc2lyZWQgcGFzc3N3b3JkIGFuZCB0aGUgcXVlc3Rpb24gYW5kIGFuc3dlci5cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBSZXNldCBwYXNzd29yZCBieSBzZWN1cml0eSBxdWVzdGlvblxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLnJlc2V0UGFzc3dvcmRCeVNlY3VyaXR5UXVlc3Rpb24gPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnJlc2V0UGFzc3dvcmRCeVNlY3VyaXR5UXVlc3Rpb25Db250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiB1cGRhdGVTZWN1cml0eVF1ZXN0aW9uXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbmluZyB0aGUgcXVlc3Rpb25zIGFzIGtleSBhbmQgdGhlIGNvcnJlY3QgYW5zd2VyIGFzIHZhbHVlLiBlLmcuIHtcclxuICAgIFwiPCVxdWVzdGlvbmlkJT5cIjogXCI8JWFuc3dlciU+XCIsXHJcbiAgICBcIjwlcXVlc3Rpb25pZCU+XCI6IFwiPCVhbnN3ZXIlPlwifSxcclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gdXBkYXRlIHRoZSBBbnN3ZXIocykgdG8gdGhlIFNlY3VyaXR5IFF1ZXN0aW9uKHMpIG9uIGEgZ2l2ZW4gYWNjb3VudC5cclxuICAqL1xyXG4gIGFwaUZyYW1lV29ya01vZHVsZS51cGRhdGVTZWN1cml0eVF1ZXN0aW9uID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb250cm9sbGVycy51cGRhdGVTZWN1cml0eVF1ZXN0aW9uQ29udHJvbGxlcihtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gcmVzZXRUd29GYWN0b3JcclxuICAqIEBwYXJhbSAge1N0cmluZ30gZGF0YSBhdXRoZW50aWNhdG9yVHlwZSBlLmcuIFwib3RwYXV0aGVudGljYXRvclwiIG9yIFwiZ29vZ2xlYXV0aGVudGljYXRvclwiXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlc2V0IHRoZSBNRkEgY29uZmlndXJhdGlvbnMgb24gdGhlIGFjY291bnQuXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUucmVzZXRUd29GYWN0b3IgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnJlc2V0VHdvRmFjdG9yQXV0aGVudGljYXRpb25Db250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIGludmFsaWRhdGVUb2tlblxyXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhY2Nlc3NfdG9rZW5cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBJbnZhbGlkYXRlIHRva2Vuc1xyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmludmFsaWRhdGVUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmludmFsaWRhdGVUb2tlbih0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gdmFsaWRhdGVUb2tlblxyXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhY2Nlc3NfdG9rZW5cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHZhbGlkYXRlcyBhbiBhY2Nlc3NfdG9rZW4uXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUudmFsaWRhdGVUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnZhbGlkYXRlVG9rZW4odG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIGdldFNvY2lhbERhdGFcclxuICAqIEBwYXJhbSAge1N0cmluZ30gdG9rZW4gYXBpdG9rZW4gaWRcclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge1N0cmluZ30gZW5kcG9pbnQgZW5kcG9pbnQgb2YgcmVxdWVzdCB1cmxcclxuICAqIEBwYXJhbSAge1N0cmluZ30gcGFyYW1RdWVyeVN0cmluZyBwYXJhbSBvZiByZXF1ZXN0IHVybCBxdWVyeVxyXG4gICogQGRlc2NyaXB0aW9uIEdldCBzb2NpYWwgZGF0YSBzZXJ2aWNlIG1vZHVsZVxyXG4gICovXHJcbiAgYXBpRnJhbWVXb3JrTW9kdWxlLmdldFNvY2lhbERhdGEgPSBmdW5jdGlvbiAodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgZW5kcG9pbnQsIHBhcmFtUXVlcnlTdHJpbmcpIHtcclxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29udHJvbGxlcnMuZ2V0U29jaWFsRGF0YUNvbnRyb2xsZXIodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgZW5kcG9pbnQsIHBhcmFtUXVlcnlTdHJpbmcpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiBwb3N0U29jaWFsRGF0YVxyXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhcGl0b2tlbiBpZFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7U3RyaW5nfSBlbmRwb2ludCBlbmRwb2ludCBvZiByZXF1ZXN0IHVybFxyXG4gICogQHBhcmFtICB7U3RyaW5nfSBwYXJhbVF1ZXJ5U3RyaW5nIHBhcmFtIG9mIHJlcXVlc3QgdXJsIHF1ZXJ5XHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IHBvc3RCb2R5SnNvbiByZXF1ZXN0IGJvZHkganNvblxyXG4gICogQGRlc2NyaXB0aW9uIFBvc3Qgc29jaWFsIGRhdGEgc2VydmljZSBtb2R1bGVcclxuICAqL1xyXG4gIGFwaUZyYW1lV29ya01vZHVsZS5wb3N0U29jaWFsRGF0YSA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBlbmRwb2ludCwgcGFyYW1RdWVyeVN0cmluZywgcG9zdEJvZHlKc29uKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnBvc3RTb2NpYWxEYXRhQ29udHJvbGxlcih0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBlbmRwb2ludCwgcGFyYW1RdWVyeVN0cmluZywgcG9zdEJvZHlKc29uKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gZ2V0Q3VzdG9tT2JqZWN0c1xyXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhY2Nlc3NfdG9rZW4gb2YgY3VzdG9tZXJcclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZ2V0IGFsbCBvZiB0aGUgY3VzdG9tIG9iamVjdHMgYXNzb2NpYXRlZCB0byBhIGN1c3RvbWVyIGJ5IHVzaW5nIHRoZSBhY2Nlc3NfdG9rZW4uXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuZ2V0Q3VzdG9tT2JqZWN0cyA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmdldEN1c3RvbU9iamVjdHNDb250cm9sbGVyKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiBjcmVhdGVDdXN0b21PYmplY3RcclxuICAqIEBwYXJhbSAge1N0cmluZ30gdG9rZW4gYWNjZXNzX3Rva2VuXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGN1c3RvbU9iamVjdEpTT04gT2JqZWN0IGRhdGEgaW4gSlNPTiBmb3JtYXQgd2hpY2ggd2UgbGlrZSB0byBzdG9yZVxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIENyZWF0ZSBjdXN0b20gb2JqZWN0XHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuY3JlYXRlQ3VzdG9tT2JqZWN0ID0gZnVuY3Rpb24gKHRva2VuLCBjdXN0b21PYmplY3RKU09OLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29udHJvbGxlcnMuY3JlYXRlQ3VzdG9tT2JqZWN0Q29udHJvbGxlcih0b2tlbiwgY3VzdG9tT2JqZWN0SlNPTiwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gZ2V0Q3VzdG9tT2JqZWN0QnlJZFxyXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhY2Nlc3NfdG9rZW5cclxuICAqIEBwYXJhbSAge1N0cmluZ30gb2JqZWN0cmVjb3JkaWQgb2JqZWN0IHJlY29yZCBpZFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIEdldCBjdXN0b20gb2JqZWN0IGJ5IElEXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuZ2V0Q3VzdG9tT2JqZWN0QnlJZCA9IGZ1bmN0aW9uICh0b2tlbiwgb2JqZWN0cmVjb3JkaWQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb250cm9sbGVycy5nZXRDdXN0b21PYmplY3RCeUlkQ29udHJvbGxlcih0b2tlbiwgb2JqZWN0cmVjb3JkaWQsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9O1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrI1xyXG4gICogQGZ1bmN0aW9uIGRlbGV0ZUN1c3RvbU9iamVjdEJ5SWRcclxuICAqIEBwYXJhbSAge1N0cmluZ30gdG9rZW4gYWNjZXNzX3Rva2VuIG9mIHVzZXJcclxuICAqIEBwYXJhbSAge1N0cmluZ30gb2JqZWN0cmVjb3JkaWQgb2JqZWN0IHJlY29yZCBpZFxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIERlbGV0ZSBjdXN0b20gb2JqZWN0IGJ5ICBPYmplY3QgUmVjb3JkIElEXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuZGVsZXRlQ3VzdG9tT2JqZWN0QnlJZCA9IGZ1bmN0aW9uICh0b2tlbiwgb2JqZWN0cmVjb3JkaWQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb250cm9sbGVycy5kZWxldGVDdXN0b21PYmplY3RDb250cm9sbGVyKHRva2VuLCBvYmplY3RyZWNvcmRpZCwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gdXBkYXRlQ3VzdG9tT2JqZWN0QnlJZFxyXG4gICogQHBhcmFtICB7U3RyaW5nfSB0b2tlbiBhY2Nlc3NfdG9rZW4gb2YgdXNlclxyXG4gICogQHBhcmFtICB7U3RyaW5nfSBvYmplY3RyZWNvcmRpZCBvYmplY3QgcmVjb3JkIGlkXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGN1c3RvbU9iamVjdEpTT04gY3VzdG9tIGpzb24gZGF0YSwgc2hpY2ggeW91IHdhbnQgdG8gdXBkYXRlXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9IHVwZGF0ZVR5cGUgKCdyZXBsYWNlJyB8ICAncGFydGlhbHJlcGxhY2UnKSBjYW4gcGFzcyBlaXRoZXIgJ3JlcGxhY2UnIChpdCB3aWxsIGZ1bGx5IHJlcGxhY2UgdGhlIGN1c3RvbSBvYmplY3Qgd2l0aCBuZXcgcHJvdmlkZWQganNvbikgb3IgJ3BhcnRpYWxyZXBsYWNlJyAoaXQgd2lsbCBwZXJmb3JtIGFuIHVwc2VydCB0eXBlIG9wZXJhdGlvbikuXHJcbiAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byB1cGRhdGUgdGhlIGN1c3RvbSBvYmplY3RzIG9mIHVzZXIgYnkgcHJvdmlkaW5nIHRoZSBhY2Nlc3NfdG9rZW5cclxuICAqL1xyXG4gIGFwaUZyYW1lV29ya01vZHVsZS51cGRhdGVDdXN0b21PYmplY3RCeUlkID0gZnVuY3Rpb24gKHRva2VuLCBvYmplY3RyZWNvcmRpZCwgY3VzdG9tT2JqZWN0SlNPTiwgb25TdWNjZXNzLCBvbkVycm9yLCB1cGRhdGVUeXBlKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZUN1c3RvbU9iamVjdENvbnRyb2xsZXIodG9rZW4sIG9iamVjdHJlY29yZGlkLCBjdXN0b21PYmplY3RKU09OLCB1cGRhdGVUeXBlLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiBnZXRCYWNrdXBDb2RlXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gR2V0IGJhY2t1cCBjb2RlIHNlcnZpY2UgbW9kdWxlXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuZ2V0QmFja3VwQ29kZSA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmdldEJhY2t1cENvZGVDb250cm9sbGVyKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0FwaUZyYW1ld29yayNcclxuICAqIEBmdW5jdGlvbiByZXNldEJhY2t1cENvZGVcclxuICAqIEBwYXJhbSAge1N0cmluZ30gdG9rZW4gPGFjY2Vzc190b2tlbj5cclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIEFQSSBjYW4gYmUgc3VlZCB0byBpbXBsbWVudCB0aGUgcmVzZXQgYmFjayB1cCBjb2RlIGZ1bmN0aW9uYWxpdHkuXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUucmVzZXRCYWNrdXBDb2RlID0gZnVuY3Rpb24gKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29udHJvbGxlcnMucmVzZXRCYWNrdXBDb2RlQ29udHJvbGxlcih0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNBcGlGcmFtZXdvcmsjXHJcbiAgKiBAZnVuY3Rpb24gYXV0b0xvZ2luXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3RcclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBBdXRvIGxvZ2luIHNlcnZpY2UgbW9kdWxlXHJcbiAgKi9cclxuICBhcGlGcmFtZVdvcmtNb2R1bGUuYXV0b0xvZ2luID0gYXBpRnJhbWVXb3JrTW9kdWxlLnNtYXJ0TG9naW4gPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnNtYXJ0TG9naW5Db250cm9sbGVyKG1vZHVsZS51dGlsLmpzb25Ub1F1ZXJ5U3RyaW5nKGRhdGEpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGNhbGxiYWNrKTtcclxuICB9O1xyXG59XHJcblxuLyoqXHJcbiogQGZ1bmN0aW9uIHNldExvZ2luUmFkaXVzRGVmYXVsdFNjaGVtYVxyXG4qIEBwYXJhbSB7T2JqZWN0fSBtb2R1bGUgbHIgbW9kdWxlIG9iamVjdFxyXG4qIEBkZXNjcmlwdGlvbiBTZXQgZGVmYXVsdCBhbmQgY29uc3RhbnQgdmFsdWVzIG9mIExvZ2luUmFkaXVzIGpzIGZvcm0gU2NoZW1hIGZpZWxkcyBwcm9wZXJ0aWVzLlxyXG4qL1xyXG5mdW5jdGlvbiBzZXRMb2dpblJhZGl1c0RlZmF1bHRTY2hlbWEgKG1vZHVsZSkge1xyXG4gIG1vZHVsZS5sb2dpbkZvcm1TY2hlbWEgPSBbe1xyXG4gICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICBuYW1lOiAnZW1haWxpZCcsXHJcbiAgICBkaXNwbGF5OiAnRW1haWwgSWQnLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZHx2YWxpZF9lbWFpbCcsXHJcbiAgICBwZXJtaXNzaW9uOiAncidcclxuICB9LCB7XHJcbiAgICB0eXBlOiAncGFzc3dvcmQnLFxyXG4gICAgbmFtZTogJ3Bhc3N3b3JkJyxcclxuICAgIGRpc3BsYXk6ICdQYXNzd29yZCcsXHJcbiAgICBydWxlczogJ3JlcXVpcmVkfG1pbl9sZW5ndGhbNl18bWF4X2xlbmd0aFszMl0nLFxyXG4gICAgcGVybWlzc2lvbjogJ3cnXHJcbiAgfV07XHJcbiAgbW9kdWxlLmJhY2t1cENvZGVGb3JtU2NoZW1hID0gW3tcclxuICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgbmFtZTogJ2JhY2t1cGNvZGUnLFxyXG4gICAgZGlzcGxheTogJ0JhY2t1cCBDb2RlJyxcclxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxyXG4gICAgcGVybWlzc2lvbjogJ3InXHJcbiAgfV07XHJcbiAgbW9kdWxlLnJlc2V0UGFzc3dvcmRCeVBob25lU2NoZW1hID0gW3tcclxuICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgbmFtZTogJ290cCcsXHJcbiAgICBkaXNwbGF5OiAnT1RQJyxcclxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxyXG4gICAgcGVybWlzc2lvbjogJ3InXHJcbiAgfSwge1xyXG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcclxuICAgIG5hbWU6ICdwYXNzd29yZCcsXHJcbiAgICBkaXNwbGF5OiAnUGFzc3dvcmQnLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZHxtaW5fbGVuZ3RoWzZdfG1heF9sZW5ndGhbMzJdJyxcclxuICAgIHBlcm1pc3Npb246ICd3J1xyXG4gIH1dO1xyXG4gIG1vZHVsZS5jaGVja1Bob25lTnVtYmVyU2NoZW1hID0gW3tcclxuICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgbmFtZTogJ3Bob25lJyxcclxuICAgIGRpc3BsYXk6ICdQaG9uZSBOdW1iZXInLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZHx2YWxpZF9waG9uZW5vJyxcclxuICAgIHBlcm1pc3Npb246ICdyJ1xyXG4gIH1dO1xyXG4gIG1vZHVsZS5RUkNvZGVTY2hlbWEgPSBbe1xyXG4gICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICBuYW1lOiAnZ29vZ2xlQXV0aGVudGljYXRvckNvZGUnLFxyXG4gICAgZGlzcGxheTogJ0dvb2dsZSBBdXRoZW50aWNhdG9yIENvZGUnLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXHJcbiAgICBwZXJtaXNzaW9uOiAncidcclxuICB9XTtcclxuXHJcbiAgbW9kdWxlLmdldFNlY1FTY2hlbWEgPSBbe1xyXG4gICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICBuYW1lOiAnZW1haWxpZCcsXHJcbiAgICBkaXNwbGF5OiAnRW1haWwgSWQnLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZHx2YWxpZF9lbWFpbCcsXHJcbiAgICBwZXJtaXNzaW9uOiAncidcclxuICB9XTtcclxuXHJcbiAgbW9kdWxlLm90cFNjaGVtYSA9IFt7XHJcbiAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgIG5hbWU6ICdvdHAnLFxyXG4gICAgZGlzcGxheTogJ09UUCcsXHJcbiAgICBydWxlczogJ3JlcXVpcmVkJyxcclxuICAgIHBlcm1pc3Npb246ICdyJ1xyXG4gIH1dO1xyXG5cclxuICBtb2R1bGUuZm9yZ290UGFzc3dvcmRGb3JtU2NoZW1hID0gW3tcclxuICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgbmFtZTogJ2VtYWlsaWQnLFxyXG4gICAgZGlzcGxheTogJ0VtYWlsJyxcclxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxyXG4gICAgcGVybWlzc2lvbjogJ3InXHJcbiAgfV07XHJcbiAgbW9kdWxlLnNtYXJ0TG9naW5TY2hlbWEgPSBbe1xyXG4gICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICBuYW1lOiAnZW1haWxpZCcsXHJcbiAgICBkaXNwbGF5OiAnRW1haWwgSWQnLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXHJcbiAgICBwZXJtaXNzaW9uOiAncidcclxuICB9XTtcclxuICBtb2R1bGUucGFzc3dvcmRMZXNzTG9naW5TY2hlbWEgPSBbe1xyXG4gICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICBuYW1lOiAnZW1haWxpZCcsXHJcbiAgICBkaXNwbGF5OiAnRW1haWwnLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXHJcbiAgICBwZXJtaXNzaW9uOiAncidcclxuICB9LCB7XHJcbiAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgIG5hbWU6ICduYW1lJyxcclxuICAgIGRpc3BsYXk6ICdOYW1lJyxcclxuICAgIHJ1bGVzOiAnJyxcclxuICAgIHBlcm1pc3Npb246ICdyJ1xyXG4gIH1dO1xyXG4gIG1vZHVsZS5jaGFuZ2VQYXNzd29yZEZvcm1TY2hlbWEgPSBbe1xyXG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcclxuICAgIG5hbWU6ICdvbGRwYXNzd29yZCcsXHJcbiAgICBkaXNwbGF5OiAnT2xkIFBhc3N3b3JkJyxcclxuICAgIHJ1bGVzOiAncmVxdWlyZWQnLFxyXG4gICAgcGVybWlzc2lvbjogJ3cnXHJcbiAgfSwge1xyXG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcclxuICAgIG5hbWU6ICduZXdwYXNzd29yZCcsXHJcbiAgICBkaXNwbGF5OiAnUGFzc3dvcmQnLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZHxtaW5fbGVuZ3RoWzZdfG1heF9sZW5ndGhbMzJdJyxcclxuICAgIHBlcm1pc3Npb246ICd3J1xyXG4gIH0sIHtcclxuICAgIHR5cGU6ICdwYXNzd29yZCcsXHJcbiAgICBuYW1lOiAnY29uZmlybW5ld3Bhc3N3b3JkJyxcclxuICAgIGRpc3BsYXk6ICdDb25maXJtIFBhc3N3b3JkJyxcclxuICAgIHJ1bGVzOiAncmVxdWlyZWR8bWluX2xlbmd0aFs2XXxtYXhfbGVuZ3RoWzMyXXxtYXRjaGVzW25ld3Bhc3N3b3JkXScsXHJcbiAgICBwZXJtaXNzaW9uOiAndydcclxuICB9XTtcclxuICBtb2R1bGUuZW1haWxTY2hlbWEgPSBtb2R1bGUuZm9yZ290UGFzc3dvcmRGb3JtU2NoZW1hO1xyXG4gIG1vZHVsZS5hZGRFbWFpbFNjaGVtYSA9IFt7XHJcbiAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgIG5hbWU6ICdlbWFpbGlkJyxcclxuICAgIGRpc3BsYXk6ICdFbWFpbCcsXHJcbiAgICBydWxlczogJ3JlcXVpcmVkfHZhbGlkX2VtYWlsJyxcclxuICAgIHBlcm1pc3Npb246ICdyJ1xyXG4gIH0sIHtcclxuICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgbmFtZTogJ3R5cGUnLFxyXG4gICAgZGlzcGxheTogJ1R5cGUnLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZCcsXHJcbiAgICBwZXJtaXNzaW9uOiAncidcclxuICB9XTtcclxuICBtb2R1bGUuY2hhbmdlVXNlcm5hbWVGb3JtU2NoZW1hID0gW3tcclxuICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgbmFtZTogJ3VzZXJuYW1lJyxcclxuICAgIGRpc3BsYXk6ICdVc2VybmFtZScsXHJcbiAgICBydWxlczogJ3JlcXVpcmVkJyxcclxuICAgIHBlcm1pc3Npb246ICdyJ1xyXG4gIH1dO1xyXG4gIG1vZHVsZS5yZXNldFBhc3N3b3JkRm9ybVNjaGVtYSA9IFt7XHJcbiAgICB0eXBlOiAncGFzc3dvcmQnLFxyXG4gICAgbmFtZTogJ3Bhc3N3b3JkJyxcclxuICAgIGRpc3BsYXk6ICdQYXNzd29yZCcsXHJcbiAgICBydWxlczogJ3JlcXVpcmVkfG1pbl9sZW5ndGhbNl18bWF4X2xlbmd0aFszMl0nLFxyXG4gICAgcGVybWlzc2lvbjogJ3cnXHJcbiAgfSwge1xyXG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcclxuICAgIG5hbWU6ICdjb25maXJtcGFzc3dvcmQnLFxyXG4gICAgZGlzcGxheTogJ0NvbmZpcm0gUGFzc3dvcmQnLFxyXG4gICAgcnVsZXM6ICdyZXF1aXJlZHxtYXRjaGVzW3Bhc3N3b3JkXXxtaW5fbGVuZ3RoWzZdfG1heF9sZW5ndGhbMzJdJyxcclxuICAgIHBlcm1pc3Npb246ICd3J1xyXG4gIH0sIHtcclxuICAgIHR5cGU6ICdoaWRkZW4nLFxyXG4gICAgbmFtZTogJ3Jlc2V0dG9rZW4nLFxyXG4gICAgZGlzcGxheTogJycsXHJcbiAgICBydWxlczogJ3JlcXVpcmVkJyxcclxuICAgIHBlcm1pc3Npb246ICd3JyxcclxuICAgIHZhbHVlOiAnJ1xyXG4gIH1dO1xyXG4gIG1vZHVsZS5wcml2YWN5UG9saWN5U2NoZW1hID0gW3tcclxuICAgIHR5cGU6ICdtdWx0aScsXHJcbiAgICBuYW1lOiAnYWNjZXB0cHJpdmFjeXBvbGljeScsXHJcbiAgICBkaXNwbGF5OiAnSSBhZ3JlZSB0byB0aGUgdGVybXMgb2Ygc2VydmljZScsXHJcbiAgICBydWxlczogJycsXHJcbiAgICBwZXJtaXNzaW9uOiAncidcclxuICB9XTtcclxuICBtb2R1bGUuYnRuT1RQU2NoZW1hID0ge1xyXG4gICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICBuYW1lOiAnY2xpY2snLFxyXG4gICAgZGlzcGxheTogJ2NsaWNrJyxcclxuICAgIHJ1bGVzOiAnJyxcclxuICAgIHBlcm1pc3Npb246ICdyJyxcclxuICAgIGV2ZW50OiAnY2xpY2snLFxyXG4gICAgZXZlbnRDYWxsYmFjazogZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9XHJcbiAgfTtcclxufVxyXG5cbi8qKlxyXG4qIEBwYXJhbSB7T2JqZWN0fSBtb2R1bGUgbHIgbW9kdWxlIG9iamVjdFxyXG4qIEBwYXJhbSB7T2JqZWN0fSBsck9wdGlvbnMgbHIgY29tbW9uT3B0aW9ucyBvYmplY3RcclxuKiBAZGVzY3JpcHRpb24gU2V0IGdsb2JhbCBMb2dpblJhZGl1c0RlZmF1bHRzIGFuZCBmdW5jdGlvbnMuXHJcbiogQGNvbnN0cnVjdG9yXHJcbiovXHJcbmZ1bmN0aW9uIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zIChtb2R1bGUsIGxyT3B0aW9ucykge1xyXG4gIHZhciBsckRlZmF1bHRPcHRpb25zID0gTG9naW5SYWRpdXNEZWZhdWx0cy5vcHRpb25zO1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gIHZhciBjb21tb25GbnMgPSBuZXcgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMobW9kdWxlKTtcclxuICB2YXIgY29udHJvbGxlcnMgPSBuZXcgTG9naW5SYWRpdXNDb250cm9sbGVycyhtb2R1bGUsIGNvbW1vbkZucyk7XHJcbiAgdmFyIHV0aWwgPSBtb2R1bGUudXRpbDtcclxuICBtb2R1bGUudmVyc2lvbiA9ICczLjguMSc7XHJcbiAgbW9kdWxlLkxSQ2hlY2tSZWdpc3RyYXRpb24gPSBmYWxzZTtcclxuICBtb2R1bGUucGFzc3dvcmRsZXNzTG9naW5GbGFnID0gZmFsc2U7XHJcbiAgbW9kdWxlLnNvY2lhbExvZ2luRmxhZyA9IGZhbHNlO1xyXG4gIG1vZHVsZS5MUkNoZWNrTG9naW4gPSBmYWxzZTtcclxuICBtb2R1bGUuTFJDaGVjazJGQSA9IGZhbHNlO1xyXG4gIG1vZHVsZS5sb2dpbkFjdGlvbiA9IGZhbHNlO1xyXG4gIG1vZHVsZS5vcHRpb25zID0gJyc7XHJcbiAgbW9kdWxlLnNlc3Npb25EYXRhID0ge1xyXG4gICAgZ2V0VWlkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFVpZE5hbWUpO1xyXG4gICAgfSxcclxuICAgIGdldFRva2VuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBtb2R1bGUuZXJyb3JNZXNzYWdlcyA9IFtdO1xyXG4gIG1vZHVsZS52YWxpZGF0aW9uTWVzc2FnZXMgPSBbXTtcclxuICBtb2R1bGUuZm9ybUN1c3RvbUxhYmVsID0ge307XHJcbiAgbW9kdWxlLmZvcm1FbGVtZW50c1RpdGxlID0ge307XHJcbiAgbW9kdWxlLmRlZmF1bHRPcHRpb25GaWVsZCA9IHt9O1xyXG4gIG1vZHVsZS5mb3JtVmFsaWRhdGlvbnMgPSB7fTtcclxuICBtb2R1bGUuZm9ybVBsYWNlaG9sZGVyID0ge307XHJcbiAgbW9kdWxlLmZvcm1FbGVtZW50QXR0cmlidXRlcyA9IHt9O1xyXG4gIG1vZHVsZS5idXR0b25FbGVtZW50cyA9IHt9O1xyXG4gIG1vZHVsZS5wYXNzd29yZE1ldGVyQ29uZmlndXJhdGlvbiA9IFtdO1xyXG4gIG1vZHVsZS5idXR0b25zTmFtZSA9IHt9O1xyXG4gIG1vZHVsZS5ldmVudHNOYW1lID0ge307XHJcblxyXG4gIC8qKlxyXG4gICogQGZ1bmN0aW9uIGxvZ1xyXG4gICogQG1lbWJlcm9mIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zI1xyXG4gICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgbWVzc2FnZSB0byBiZSBsb2dnZWRcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bnRpb24gaXMgdXNlZCB0byBsb2cgZXJyb3Ivd2FybmluZyBtZXNzYWdlIGluIGJyb3dzZXIgaWYgZGVidWcgbW9kZSBoYXMgYmVlbiBtYWRlIHRydWUuXHJcbiAgKi9cclxuXHJcbiAgbW9kdWxlLmxvZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGVidWdNb2RlKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBzZXRMb2dpblJhZGl1c01vZHVsZUZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBjdXN0b21JbnRlcmZhY2VcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciBjbGFzcyBuYW1lXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBsciBvcHRpb25zIG9iamVjdFxyXG4gICogQGRlc2NyaXB0aW9uIFJlbmRlciBjdXN0b20gaW50ZXJmYWNlXHJcbiAgKi9cclxuICBtb2R1bGUuY3VzdG9tSW50ZXJmYWNlID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBvcHRpb25zKSB7XHJcbiAgICAvLyBtb2R1bGUub3B0aW9ucyA9IHV0aWwubWVyZ2VPcHRpb25zKGxyRGVmYXVsdE9wdGlvbnMsIGxyT3B0aW9ucykgfHwge307XHJcbiAgICB2YXIgdGVtcGxhdGVOYW1lID0gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgfHwgJyc7XHJcbiAgICB2YXIgY2FsbGJhY2tBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbW1vbkZucy5yZW5kZXJDdXN0b21JbnRlcmZhY2Uoc2VsZWN0b3IsICcnLCB0ZW1wbGF0ZU5hbWUpO1xyXG4gICAgfTtcclxuICAgIGdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2tBY3Rpb24pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIGNsZWFyU2Vzc2lvblxyXG4gICogQGRlc2NyaXB0aW9uIENsZWFyIGJyb3dzZXIgc2Vzc2lvbiBzdG9yYWdlXHJcbiAgKi9cclxuICBtb2R1bGUuY2xlYXJTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbW9kdWxlLnN0b3JhZ2UucmVtb3ZlQnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xyXG4gICAgbW9kdWxlLnN0b3JhZ2UucmVtb3ZlQnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRVaWROYW1lKTtcclxuICAgIG1vZHVsZS5zdG9yYWdlLnJlbW92ZUJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVHdvRkFUb2tlbik7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBJbml0aWFsaXplIGRvY3VtZW50IGNvb2tpZXMgZ2V0dGVyL3NldHRlci9yZW1vdmUgbWV0aG9kc1xyXG4gICogTm90IHVzZWQgaW4gY29kZSBidXQgYWRkZWQgZm9yIGN1c3RvbWVyIHVzZWNhc2UgZmFsbGJhY2suXHJcbiAgKiBAbW9kdWxlIGRvY3VtZW50Q29va2llc1xyXG4gICogQG1lbWJlcm9mIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zI1xyXG4gICovXHJcbiAgbW9kdWxlLmRvY3VtZW50Q29va2llcyA9IE9iamVjdC5hc3NpZ24oe30sIExSTmFtZVNwYWNlLmNvb2tpZXMpO1xyXG5cclxuICAvKipcclxuICAqIEBmdW5jdGlvbiBtYXBPcHRpb25zXHJcbiAgKiBAbWVtYmVyb2Ygc2V0TG9naW5SYWRpdXNNb2R1bGVGdW5jdGlvbnMjXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gYXBwQ29uZmlnIGxyIGFwcCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICogQGRlc2NyaXB0aW9uIFNldCBtYXBwaW5nIG9mIHRoZSBsciBhcHAgY29uZmlndXJhdGlvbiBvYmplY3QgcHJvcGVydGllc1xyXG4gICovXHJcbiAgZnVuY3Rpb24gbWFwT3B0aW9ucyAoYXBwQ29uZmlnKSB7XHJcbiAgICB2YXIgYXBwRGF0YSA9IHt9O1xyXG4gICAgbHJPcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25FbmFibGVkID0gYXBwQ29uZmlnLklzU2VjdXJpdHlRdWVzdGlvbjtcclxuICAgIGxyT3B0aW9ucy5hcHBOYW1lID0gbHJPcHRpb25zLmFwcE5hbWUgfHwgYXBwQ29uZmlnLkFwcE5hbWU7XHJcbiAgICBsck9wdGlvbnMuUmVnaXN0cmF0aW9uRm9ybVNjaGVtYSA9IGFwcENvbmZpZy5SZWdpc3RyYXRpb25Gb3JtU2NoZW1hO1xyXG4gICAgbHJPcHRpb25zLmxvZ2luTG9ja2VkVHlwZSA9IGFwcENvbmZpZy5Mb2dpbkxvY2tlZENvbmZpZ3VyYXRpb24gJiYgYXBwQ29uZmlnLkxvZ2luTG9ja2VkQ29uZmlndXJhdGlvbi5Mb2dpbkxvY2tlZFR5cGU7XHJcbiAgICBpZiAobHJPcHRpb25zLmFub255bW91c0xvZ2luKSB7XHJcbiAgICAgIHZhciBvcHRpb25zID0geyBhcHBOYW1lOiBsck9wdGlvbnMuYXBwTmFtZSB9O1xyXG4gICAgICBtb2R1bGUuYW5vbnltb3VzID0gbmV3IExSTmFtZVNwYWNlLkxSQW5vbnltb3VzKCk7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICBtb2R1bGUuYW5vbnltb3VzLmluaXQob3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGxyT3B0aW9ucy5zZWN1cml0eVF1ZXN0aW9uRW5hYmxlZCkge1xyXG4gICAgICBsck9wdGlvbnMuU2VjdXJpdHlRdWVzdGlvbnMgPSBhcHBDb25maWcuU2VjdXJpdHlRdWVzdGlvbnMuUXVlc3Rpb25zO1xyXG4gICAgICBsck9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbnNDb3VudCA9IGxyT3B0aW9ucy5zZWN1cml0eVF1ZXN0aW9uc0NvdW50ID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuU2VjdXJpdHlRdWVzdGlvbnMuU2VjdXJpdHlRdWVzdGlvbkNvdW50IDogbHJPcHRpb25zLnNlY3VyaXR5UXVlc3Rpb25zQ291bnQ7XHJcbiAgICB9XHJcbiAgICBpZiAobHJPcHRpb25zLnBhc3N3b3JkTGVuZ3RoID09PSB1bmRlZmluZWQgJiYgbHJPcHRpb25zLmRpc3BsYXlQYXNzd29yZFN0cmVuZ3RoICYmIGxyT3B0aW9ucy5SZWdpc3RyYXRpb25Gb3JtU2NoZW1hKSB7XHJcbiAgICAgIHZhciBmaWVsZCA9IHV0aWwuZmluZEluU2NoZW1hKGxyT3B0aW9ucy5SZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnbmFtZScsICdwYXNzd29yZCcpO1xyXG4gICAgICB2YXIgc3RyID0gZmllbGQucnVsZXM7XHJcbiAgICAgIHZhciByID0gc3RyLnNwbGl0KCd8Jyk7XHJcbiAgICAgIHZhciBtaW5TdHIgPSB1dGlsLmlzU3Vic3RyaW5nKCdtaW5fbGVuZ3RoWycsIE9iamVjdC5rZXlzKHIpLm1hcChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHJldHVybiByW2VdO1xyXG4gICAgICB9KSk7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgIHZhciBtaW4gPSByW21pblN0cl0uc3Vic3RyaW5nKHJbbWluU3RyXS5sYXN0SW5kZXhPZignbWluX2xlbmd0aFsnKSArIDExLCByW21pblN0cl0ubGFzdEluZGV4T2YoJ10nKSk7XHJcbiAgICAgIHZhciBtYXhTdHIgPSB1dGlsLmlzU3Vic3RyaW5nKCdtYXhfbGVuZ3RoWycsIE9iamVjdC5rZXlzKHIpLm1hcChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHJldHVybiByW2VdO1xyXG4gICAgICB9KSk7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgIHZhciBtYXggPSByW21heFN0cl0uc3Vic3RyaW5nKHJbbWF4U3RyXS5sYXN0SW5kZXhPZignbWF4X2xlbmd0aFsnKSArIDExLCByW21heFN0cl0ubGFzdEluZGV4T2YoJ10nKSk7XHJcbiAgICAgIHZhciBwYXNzd29yZGxlbmd0aCA9IHtcclxuICAgICAgICBtaW46IHBhcnNlSW50KG1pbiksXHJcbiAgICAgICAgbWF4OiBwYXJzZUludChtYXgpXHJcbiAgICAgIH07XHJcbiAgICAgIGxyT3B0aW9ucy5wYXNzd29yZExlbmd0aCA9IHBhc3N3b3JkbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGxyT3B0aW9ucy5Tb2NpYWxTY2hlbWEgPSBhcHBDb25maWcuU29jaWFsU2NoZW1hO1xyXG4gICAgbHJPcHRpb25zLm1hc2tTZW5zaXRpdmVJbnB1dCA9IGxyT3B0aW9ucy5lbmNyeXB0ZWRBbnN3ZXIgfHwgbHJPcHRpb25zLm1hc2tTZW5zaXRpdmVJbnB1dDtcclxuICAgIGxyT3B0aW9ucy5ub0NhbGxiYWNrRm9yU29jaWFsTG9naW4gPSBsck9wdGlvbnMubm9DYWxsYmFjayAhPT0gdW5kZWZpbmVkID8gbHJPcHRpb25zLm5vQ2FsbGJhY2sgOiBsck9wdGlvbnMubm9DYWxsYmFja0ZvclNvY2lhbExvZ2luO1xyXG4gICAgbHJPcHRpb25zLnYyUmVjYXB0Y2hhU2l0ZUtleSA9IGxyT3B0aW9ucy52MlJlY2FwdGNoYVNpdGVLZXkgfHwgYXBwQ29uZmlnLlYyUmVjYXB0Y2hhU2l0ZUtleTtcclxuICAgIGlmIChhcHBDb25maWcuVHdvRmFjdG9yQXV0aGVudGljYXRpb24uSXNFbmFibGVkKSB7XHJcbiAgICAgIGFwcERhdGEub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiA9IHRydWU7XHJcbiAgICAgIGFwcERhdGEudHdvRmFjdG9yQXV0aGVudGljYXRpb24gPSBmYWxzZTtcclxuICAgICAgYXBwRGF0YS5nb29nbGVBdXRoZW50aWNhdGlvbiA9IGFwcENvbmZpZy5Ud29GYWN0b3JBdXRoZW50aWNhdGlvbi5Jc0dvb2dsZUF1dGhlbnRpY2F0b3I7XHJcbiAgICAgIGlmIChhcHBDb25maWcuVHdvRmFjdG9yQXV0aGVudGljYXRpb24uSXNSZXF1aXJlZCkge1xyXG4gICAgICAgIGFwcERhdGEub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIGFwcERhdGEudHdvRmFjdG9yQXV0aGVudGljYXRpb24gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBsck9wdGlvbnMub3RwRW1haWxWZXJpZmljYXRpb24gPSBsck9wdGlvbnMub3RwRW1haWxWZXJpZmljYXRpb24gPT09IHVuZGVmaW5lZCA/IGFwcENvbmZpZy5PVFBFbWFpbFZlcmlmaWNhdGlvbiA6IGxyT3B0aW9ucy5vdHBFbWFpbFZlcmlmaWNhdGlvbjtcclxuICAgIGxyT3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID0gbHJPcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24gPT09IHVuZGVmaW5lZCA/IGFwcERhdGEub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiA6IGxyT3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uO1xyXG4gICAgbHJPcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID0gbHJPcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID09PSB1bmRlZmluZWQgPyBhcHBEYXRhLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIDogbHJPcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uO1xyXG4gICAgbHJPcHRpb25zLmdvb2dsZUF1dGhlbnRpY2F0aW9uID0gbHJPcHRpb25zLmdvb2dsZUF1dGhlbnRpY2F0aW9uID09PSB1bmRlZmluZWQgPyBhcHBEYXRhLmdvb2dsZUF1dGhlbnRpY2F0aW9uIDogbHJPcHRpb25zLmdvb2dsZUF1dGhlbnRpY2F0aW9uO1xyXG4gICAgbHJPcHRpb25zLnBob25lTG9naW4gPSBsck9wdGlvbnMucGhvbmVMb2dpbiA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzUGhvbmVMb2dpbiA6IGxyT3B0aW9ucy5waG9uZUxvZ2luO1xyXG4gICAgbHJPcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luT1RQID0gbHJPcHRpb25zLmluc3RhbnRPVFBMb2dpbiA9PT0gdW5kZWZpbmVkICYmIGxyT3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbk9UUCA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzSW5zdGFudFNpZ25pbi5TbXNPdHAgOiBsck9wdGlvbnMuaW5zdGFudE9UUExvZ2luIHx8IGxyT3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbk9UUDtcclxuICAgIGlmIChhcHBDb25maWcuRW1haWxWZXJpZmljYXRpb25GbG93ID09PSAnb3B0aW9uYWwnKSB7XHJcbiAgICAgIGFwcERhdGEub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbiA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKGFwcENvbmZpZy5FbWFpbFZlcmlmaWNhdGlvbkZsb3cgPT09ICdkaXNhYmxlZCcpIHtcclxuICAgICAgYXBwRGF0YS5kaXNhYmxlZEVtYWlsVmVyaWZpY2F0aW9uID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGxyT3B0aW9ucy5vcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uID0gbHJPcHRpb25zLm9wdGlvbmFsRW1haWxWZXJpZmljYXRpb24gPT09IHVuZGVmaW5lZCA/IGFwcERhdGEub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbiA6IGxyT3B0aW9ucy5vcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uO1xyXG4gICAgbHJPcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gPSBsck9wdGlvbnMuZGlzYWJsZWRFbWFpbFZlcmlmaWNhdGlvbiA9PT0gdW5kZWZpbmVkID8gYXBwRGF0YS5kaXNhYmxlZEVtYWlsVmVyaWZpY2F0aW9uIDogbHJPcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb247XHJcbiAgICBsck9wdGlvbnMubG9naW5PbkVtYWlsVmVyaWZpY2F0aW9uID0gbHJPcHRpb25zLmxvZ2luT25FbWFpbFZlcmlmaWNhdGlvbiA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzTG9naW5PbkVtYWlsVmVyaWZpY2F0aW9uIDogbHJPcHRpb25zLmxvZ2luT25FbWFpbFZlcmlmaWNhdGlvbjtcclxuICAgIGxyT3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbiA9IGxyT3B0aW9ucy5pbnN0YW50TGlua0xvZ2luID09PSB1bmRlZmluZWQgJiYgbHJPcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuSXNJbnN0YW50U2lnbmluLkVtYWlsTGluayA6IGxyT3B0aW9ucy5pbnN0YW50TGlua0xvZ2luIHx8IGxyT3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbjtcclxuICAgIGxyT3B0aW9ucy5hc2tSZXF1aXJlZEZpZWxkRm9yVHJhZGl0aW9uYWxMb2dpbiA9IGxyT3B0aW9ucy5hc2tSZXF1aXJlZEZpZWxkRm9yVHJhZGl0aW9uYWxMb2dpbiA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLkFza1JlcXVpcmVkRmllbGRzT25UcmFkaXRpb25hbExvZ2luIDogbHJPcHRpb25zLmFza1JlcXVpcmVkRmllbGRGb3JUcmFkaXRpb25hbExvZ2luO1xyXG4gICAgbHJPcHRpb25zLnN0YXlMb2dpbiA9IGxyT3B0aW9ucy5zdGF5TG9naW4gPT09IHVuZGVmaW5lZCA/IGFwcENvbmZpZy5Jc1JlbWVtYmVyTWUgOiBsck9wdGlvbnMuc3RheUxvZ2luO1xyXG4gICAgbHJPcHRpb25zLmRpc2FibGVTaWdudXAgPSBsck9wdGlvbnMuZGlzYWJsZVNpZ251cCA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzRGlzYWJsZWRSZWdpc3RyYXRpb24gOiBsck9wdGlvbnMuZGlzYWJsZVNpZ251cDtcclxuICAgIGxyT3B0aW9ucy5yaXNrQmFzZWRBdXRoZW50aWNhdGlvbiA9IGxyT3B0aW9ucy5yaXNrQmFzZWRBdXRoZW50aWNhdGlvbiA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzUmlza0Jhc2VkQXV0aGVudGljYXRpb24gOiBsck9wdGlvbnMucmlza0Jhc2VkQXV0aGVudGljYXRpb247XHJcbiAgICBsck9wdGlvbnMubm9DYWxsYmFja0ZvclNvY2lhbExvZ2luID0gbHJPcHRpb25zLm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbiA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzTm9DYWxsYmFja0ZvclNvY2lhbExvZ2luIDogbHJPcHRpb25zLm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbjtcclxuICAgIGxyT3B0aW9ucy51c2VybmFtZUxvZ2luID0gbHJPcHRpb25zLnVzZXJuYW1lTG9naW4gPT09IHVuZGVmaW5lZCA/IGFwcENvbmZpZy5Jc1VzZXJOYW1lTG9naW4gOiBsck9wdGlvbnMudXNlcm5hbWVMb2dpbjtcclxuICAgIGxyT3B0aW9ucy5wcm9tcHRQYXNzd29yZE9uU29jaWFsTG9naW4gPSBsck9wdGlvbnMucHJvbXB0UGFzc3dvcmRPblNvY2lhbExvZ2luID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuQXNrUGFzc3dvcmRPblNvY2lhbExvZ2luIDogbHJPcHRpb25zLnByb21wdFBhc3N3b3JkT25Tb2NpYWxMb2dpbjtcclxuICAgIGxyT3B0aW9ucy52MlJlY2FwdGNoYSA9IGxyT3B0aW9ucy52MlJlY2FwdGNoYSA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzVjJSZWNhcHRjaGEgOiBsck9wdGlvbnMudjJSZWNhcHRjaGE7XHJcbiAgICBsck9wdGlvbnMuaW52aXNpYmxlUmVjYXB0Y2hhID0gbHJPcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLklzSW52aXNpYmxlUmVjYXB0Y2hhIDogbHJPcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYTtcclxuICAgIGxyT3B0aW9ucy5hc2tPcHRpb25hbEZpZWxkc09uUmVnaXN0cmF0aW9uID0gbHJPcHRpb25zLmFza09wdGlvbmFsRmllbGRzT25SZWdpc3RyYXRpb24gPT09IHVuZGVmaW5lZCA/IGFwcENvbmZpZy5Bc2tPcHRpb25hbEZpZWxkc09uU29jaWFsU2lnbnVwIDogbHJPcHRpb25zLmFza09wdGlvbmFsRmllbGRzT25SZWdpc3RyYXRpb247XHJcbiAgICBsck9wdGlvbnMuYXNrRW1haWxGb3JVbnZlcmlmaWVkUHJvZmlsZUFsd2F5cyA9IGxyT3B0aW9ucy5hc2tFbWFpbEZvclVudmVyaWZpZWRQcm9maWxlQWx3YXlzID09PSB1bmRlZmluZWQgPyBhcHBDb25maWcuQXNrRW1haWxJZEZvclVudmVyaWZpZWRVc2VyTG9naW4gOiBsck9wdGlvbnMuYXNrRW1haWxGb3JVbnZlcmlmaWVkUHJvZmlsZUFsd2F5cztcclxuICAgIGxyT3B0aW9ucy5sb2dvdXRPblZlcmlmeUVtYWlsID0gbHJPcHRpb25zLmxvZ291dE9uVmVyaWZ5RW1haWwgPT09IHVuZGVmaW5lZCA/IGFwcENvbmZpZy5Jc0xvZ291dE9uRW1haWxWZXJpZmljYXRpb24gOiBsck9wdGlvbnMubG9nb3V0T25WZXJpZnlFbWFpbDtcclxuICAgIGxyT3B0aW9ucy5kaXNhYmxlQWNjb3VudExpbmtpbmcgPSBhcHBDb25maWcuSXNEaXNhYmxlZEFjY291bnRMaW5raW5nO1xyXG4gICAgbHJPcHRpb25zLmR1cGxpY2F0ZUVtYWlsV2l0aFVuaXF1ZVVzZXJuYW1lID0gYXBwQ29uZmlnLkR1cGxpY2F0ZUVtYWlsV2l0aFVuaXF1ZVVzZXJuYW1lO1xyXG4gICAgbHJPcHRpb25zLmN1c3RvbURvbWFpbiA9IGxyT3B0aW9ucy5jdXN0b21Eb21haW4gfHwgYXBwQ29uZmlnLkN1c3RvbURvbWFpbjtcclxuICAgIGxyT3B0aW9ucy5vcHRpb25hbFJlY2FwdGNoYUNvbmZpZ3VyYXRpb24gPSBhcHBDb25maWcuT3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uO1xyXG4gICAgbHJPcHRpb25zLnRlbmNlbnRDYXB0Y2hhQXBwaWQgPSBsck9wdGlvbnMudGVuY2VudENhcHRjaGFBcHBpZCA9PT0gdW5kZWZpbmVkID8gYXBwQ29uZmlnLlFRVGVuY2VudENhcHRjaGFLZXkgOiBsck9wdGlvbnMudGVuY2VudENhcHRjaGFBcHBpZDtcclxuICAgIGxyT3B0aW9ucy5wcml2YWN5UG9saWN5Q29uZmlndXJhdGlvbiA9IGFwcENvbmZpZy5Qcml2YWN5UG9saWN5Q29uZmlndXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHZhciBjYWxsYmFja3MgPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAZnVuY3Rpb24gZ2V0QXBwQ29uZmlndXJhdGlvblxyXG4gICogQG1lbWJlcm9mIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zI1xyXG4gICogQHBhcmFtIHtBcnJheX0gYXBwY2FsbGJhY2tDb25maWcgbG9jYWwgYXJyYXkgdmFyaWFibGVcclxuICAqIEBkZXNjcmlwdGlvbiBHZXQgbHIgYXBwIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHByb3BlcnRpZXNcclxuICAqL1xyXG4gIGZ1bmN0aW9uIGdldEFwcENvbmZpZ3VyYXRpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAvLyAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKXt9O1xyXG4gICAgaWYgKCFtb2R1bGUuaXNBcGlDYWxsaW5nU3RhcnRlZCAmJiBtb2R1bGUub3B0aW9ucyA9PT0gJycpIHtcclxuICAgICAgbW9kdWxlLmlzQXBpQ2FsbGluZ1N0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgICAgIHV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuY29uZmlnQXBpRG9tYWluICsgJ2FwcEluZm8/YXBpa2V5PScgKyBsck9wdGlvbnMuYXBpS2V5LCAnJywgZnVuY3Rpb24gKGFwcENvbmZpZykge1xyXG4gICAgICAgIG1hcE9wdGlvbnMoYXBwQ29uZmlnKTtcclxuICAgICAgICBsck9wdGlvbnMgPSB1dGlsLm1lcmdlT3B0aW9ucyhsckRlZmF1bHRPcHRpb25zLCBsck9wdGlvbnMpO1xyXG4gICAgICAgIG1vZHVsZS5vcHRpb25zID0gbHJPcHRpb25zO1xyXG4gICAgICAgIC8vIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNhbGxiYWNrc1tpXSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgJ3JlZ2lzdHJhdGlvblNjaGVtYScpO1xyXG4gICAgfSBlbHNlIGlmIChtb2R1bGUuaXNBcGlDYWxsaW5nU3RhcnRlZCkge1xyXG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMgIT09ICcnKSB7XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobW9kdWxlLnVzZXJhY3Rpb24gPT09ICdsb2dvdXQnKSB7XHJcbiAgICAgICAgICBtb2R1bGUuaXNBcGlDYWxsaW5nU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIHNldExvZ2luUmFkaXVzTW9kdWxlRnVuY3Rpb25zI1xyXG4gICogQGRlc2NyaXB0aW9uIFNldCBsciBhcHAgY29uZmlndXJhdGlvbiBvbiBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbiBvYmplY3RcclxuICAqL1xyXG4gIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uID0gZ2V0QXBwQ29uZmlndXJhdGlvbjtcclxuXHJcbiAgLyoqXHJcbiAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZyBvYmplY3RcclxuICAqL1xyXG4gIG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZyA9IG5ldyBMUk5hbWVTcGFjZS5Qcm9ncmVzc2l2ZVByb2ZpbGluZyhtb2R1bGUsIGNvbW1vbkZucywgY29udHJvbGxlcnMsIExvZ2luUmFkaXVzRGVmYXVsdHMpO1xyXG5cclxuICAvKipcclxuICAqIEBmdW5jdGlvbiBwcm9ncmVzc2l2ZVByb2ZpbGluZy5pbml0XHJcbiAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbGl6ZSBwcm9ncmVzc2l2ZVByb2ZpbGluZ1xyXG4gICovXHJcbiAgbW9kdWxlLnByb2dyZXNzaXZlUHJvZmlsaW5nLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZy5mZXRjaFNjaGVtYShmdW5jdGlvbiAocHNjaGVtYSkge1xyXG4gICAgICAgIG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZ1NjaGVtYSA9IHBzY2hlbWE7XHJcbiAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcigncmVnaXN0cmF0aW9uU2NoZW1hRmlsdGVyJywgZnVuY3Rpb24gKHJlZ1NjaGVtYSwgdXNlclByb2ZpbGUpIHtcclxuICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5wcm9ncmVzc2l2ZVByb2ZpbGluZ1RyYWRpdGlvbmFsKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS5Mb2dnZWRpblNvY2lhbFByb3ZkZXJQcm9maWxlID0gdXNlclByb2ZpbGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sICdwcm9ncmVzc2l2ZVByb2ZpbGluZ1NjaGVtYScpO1xyXG4gICAgfTtcclxuICAgIGdldEFwcENvbmZpZ3VyYXRpb24oY2FsbGJhY2spO1xyXG4gIH07XHJcbn1cclxuXG4vKipcclxuKiBAZnVuY3Rpb24gTG9naW5SYWRpdXNIb29rc01vZGVsXHJcbiogQHBhcmFtIHtPYmplY3R9IG1vZHVsZSBsciBtb2R1bGUgb2JqZWN0XHJcbiogQGRlc2NyaXB0aW9uIEluaXRpYWxpemF0aW9uIG9mIExvZ2luUmFkaXVzIEhvb2tzXHJcbiovXHJcbmZ1bmN0aW9uIExvZ2luUmFkaXVzSG9va3NNb2RlbCAobW9kdWxlKSB7XHJcbiAgLy8gc3RhcnQgaG9vayBtb2RlbFxyXG4gIHZhciB1dGlsID0gbW9kdWxlLnV0aWw7XHJcblxyXG4gIC8qKlxyXG4gICogSW5pdGlhbGl6ZSBsciBob29rcyBvYmplY3QgbW9kdWxlLlxyXG4gICogSG9va3MgcHJvdmlkZWluZyBjdXN0b21pemF0aW9ucyBvbiBMb2dpblJhZGl1cyBVc2VyIFJlZ2lzdHJhdGlvbiBJbnRlcmZhY2UgY29uZmlndXJlZCBvbiB5b3VyIHBhZ2VcclxuICAqIEBtb2R1bGUgJGhvb2tzXHJcbiAgKi9cclxuICBtb2R1bGUuJGhvb2tzID0ge1xyXG4gICAgaG9va3M6IFtdLFxyXG4gICAgLyoqXHJcbiAgICAqIEBtZXRob2QgcmVnaXN0ZXJcclxuICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgaG9va3MgYWN0aW9uXHJcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcmlvcml0eSBwcmlvcml0eSBvZiBjYWxsaW5nIGhvb2tzXHJcbiAgICAqIEBkZXNjcmlwdGlvbiBJbml0aWFsaXplIGxyIGhvb2tzIHJlZ2lzdGVyIGZ1bmN0aW9uXHJcbiAgICAqL1xyXG4gICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgcHJpb3JpdHkpIHtcclxuICAgICAgaWYgKHR5cGVvZiBtb2R1bGUuJGhvb2tzLmhvb2tzW25hbWVdID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIG1vZHVsZS4kaG9va3MuaG9va3NbbmFtZV0gPSBbXTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocGFyc2VJbnQocHJpb3JpdHksIDEwKSA9PT0gcHJpb3JpdHkpIHsgLy8gc2hvdWxkIGJlIGEgdmFsaWQgaW50ZWdlclxyXG4gICAgICAgIGlmIChtb2R1bGUuJGhvb2tzLmhvb2tzW25hbWVdLmxlbmd0aCA+IHByaW9yaXR5ICsgMSkge1xyXG4gICAgICAgICAgbW9kdWxlLiRob29rcy5ob29rc1tuYW1lXS5zcGxpY2UocHJpb3JpdHksIDAsIGNhbGxiYWNrKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbW9kdWxlLiRob29rcy5ob29rc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbW9kdWxlLiRob29rcy5ob29rc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBAbWV0aG9kIGNhbGxcclxuICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgaG9va3MgYWN0aW9uXHJcbiAgICAqIEBkZXNjcmlwdGlvbiBJbml0aWFsaXplIGxyIGhvb2tzIGNhbGwgZnVuY3Rpb25cclxuICAgICovXHJcbiAgICBjYWxsOiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG4gICAgICBpZiAodHlwZW9mIG1vZHVsZS4kaG9va3MuaG9va3NbbmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1vZHVsZS4kaG9va3MuaG9va3NbbmFtZV0ubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICAgIGlmIChtb2R1bGUuJGhvb2tzLmhvb2tzW25hbWVdICYmIG1vZHVsZS4kaG9va3MuaG9va3NbbmFtZV1baV0pIHtcclxuICAgICAgICAgICAgbW9kdWxlLiRob29rcy5ob29rc1tuYW1lXVtpXS5hcHBseShudWxsLCBhcmdzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVyIHRoZSAnYWRkRXZlbnRPbkVsZW1lbnQnIGhvb2suXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoaXMgaG9vayBhbGxvd3MgeW91IHRvIHNwZWNpZnkgYW55IG9mIHRoZSBmb3JtIGVsZW1lbnRzIGdlbmVyYXRlZCBieSBMb2dpblJhZGl1c1YyLmpzIGFuZCBhdHRhY2ggdGhlbSB0byBhbiBldmVudCBzbyB0aGF0IHlvdSBjYW4gaGFuZGxlIHRoZW0gZnVydGhlci5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdhZGRFdmVudE9uRWxlbWVudCcsIGZ1bmN0aW9uIChldmVudHNPYmopIHtcclxuICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5ldmVudHNOYW1lLCBldmVudHNPYmopO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0aGUgJ21hcEVycm9yTWVzc2FnZXMnIGhvb2suXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoaXMgaG9vayBhbGxvd3MgeW91IHRvIHdyaXRlIGN1c3RvbSBlcnJvciBtZXNzYWdlcyBhbmQgZGVzY3JpcHRpb25zIGJhc2VkIG9uIHRoZSBlcnJvciBjb2RlIGdlbmVyYXRlZCBieSBMb2dpblJhZGl1cy5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ21hcEVycm9yTWVzc2FnZXMnLFxyXG4gICAgZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICBpZiAobXNnLmNvZGUgJiYgbXNnLm1lc3NhZ2UpIHtcclxuICAgICAgICBtb2R1bGUuZXJyb3JNZXNzYWdlcy5wdXNoKG1zZyk7XHJcbiAgICAgIH0gZWxzZSBpZiAodXRpbC5pc0FycmF5KG1zZykpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKG1zZ1tpXS5jb2RlICYmIG1zZ1tpXS5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS5lcnJvck1lc3NhZ2VzLnB1c2gobXNnW2ldKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihub3RWYWxpZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICAgICAgbW9kdWxlLmxvZyhub3RWYWxpZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3Iobm90VmFsaWRNZXNzYWdlKTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICBtb2R1bGUubG9nKG5vdFZhbGlkTWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0aGUgJ3Bhc3N3b3JkTWV0ZXJDb25maWd1cmF0aW9uJyBob29rLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgd2lsbCBDb25maWd1cmUgdGhlIFBhc3N3b3JkIHN0cmVuZ3RoIHBhcmFtZXRlciB0byBVc2VyIFJlZ2lzdHJhdGlvbiBKUy5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ3Bhc3N3b3JkTWV0ZXJDb25maWd1cmF0aW9uJyxcclxuICAgIGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgaWYgKHV0aWwuaXNBcnJheShjb25maWcpKSB7XHJcbiAgICAgICAgdXRpbC5leHRlbmQobW9kdWxlLnBhc3N3b3JkTWV0ZXJDb25maWd1cmF0aW9uLCBjb25maWcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihwYXNzd29yZFN0cmVuZ3RoTWVzc2FnZSk7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgbW9kdWxlLmxvZyhwYXNzd29yZFN0cmVuZ3RoTWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0aGUgJ3NldEJ1dHRvbnNOYW1lJyBob29rLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgcHJvdmlkZXMgeW91IHdpdGggcXVpY2sgYW5kIGVhc3kgd2F5IHRvIGN1c3RvbWl6ZSB0aGUgYnV0dG9uIG5hbWUgb2YgeW91ciBmb3JtLlxyXG4gICAqL1xyXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoXHJcbiAgICAnc2V0QnV0dG9uc05hbWUnLFxyXG4gICAgZnVuY3Rpb24gKGJ1dHRvbnMpIHtcclxuICAgICAgdmFyIGtleTsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhidXR0b25zKTtcclxuICAgICAgdmFyIG4gPSBrZXlzLmxlbmd0aDtcclxuICAgICAgdmFyIGJ1dHRvbnNPYmogPSB7fTtcclxuICAgICAgd2hpbGUgKG4tLSkge1xyXG4gICAgICAgIGtleSA9IGtleXNbbl07XHJcbiAgICAgICAgYnV0dG9uc09ialtrZXkudG9Mb3dlckNhc2UoKV0gPSBidXR0b25zW2tleV07XHJcbiAgICAgIH1cclxuICAgICAgdXRpbC5leHRlbmQobW9kdWxlLmJ1dHRvbnNOYW1lLCBidXR0b25zT2JqKTtcclxuICAgIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0aGUgJ21hcFZhbGlkYXRpb25NZXNzYWdlcycgaG9vay5cclxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIGFsbG93cyB3cml0aW5nIGN1c3RvbSB2YWxpZGF0aW9uIG1lc3NhZ2UgYnkgcnVsZXMgZ2VuZXJhdGVkIGZyb20gTG9naW5SYWRpdXMuICVzIHdpbGwgYmUgcmVwbGFjZWQgYnkgZmllbGQgbmFtZS5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ21hcFZhbGlkYXRpb25NZXNzYWdlcycsXHJcbiAgICBmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgIGlmIChtc2cucnVsZSAmJiBtc2cubWVzc2FnZSkge1xyXG4gICAgICAgIG1vZHVsZS52YWxpZGF0aW9uTWVzc2FnZXMucHVzaChtc2cpO1xyXG4gICAgICB9IGVsc2UgaWYgKHV0aWwuaXNBcnJheShtc2cpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChtc2dbaV0ucnVsZSAmJiBtc2dbaV0ubWVzc2FnZSkge1xyXG4gICAgICAgICAgICBtb2R1bGUudmFsaWRhdGlvbk1lc3NhZ2VzLnB1c2gobXNnW2ldKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihub3RWYWxpZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICAgICAgbW9kdWxlLmxvZyhub3RWYWxpZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3Iobm90VmFsaWRNZXNzYWdlKTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICBtb2R1bGUubG9nKG5vdFZhbGlkTWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0aGUgJ2N1c3RvbWl6ZUZvcm1MYWJlbCcgaG9vay5cclxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIHByb3ZpZGVzIHlvdSB3aXRoIHF1aWNrIGFuZCBlYXN5IHdheSB0byBhY2Nlc3MgYW5kIGN1c3RvbWlzZSB0aGUgbGFiZWwgZm9yIHlvdXIgdXNlciByZWdpc3RyYXRpb24gZm9ybS5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ2N1c3RvbWl6ZUZvcm1MYWJlbCcsXHJcbiAgICBmdW5jdGlvbiAobGFiZWxzKSB7XHJcbiAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5mb3JtQ3VzdG9tTGFiZWwsIGxhYmVscyk7XHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgdGhlICdjdXN0b21pemVFbGVtZW50VGl0bGUnIGhvb2suXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoaXMgaG9vayBwcm92aWRlcyB5b3UgdG8gY3VzdG9taXplIGVsZW1lbnQgdGl0bGUuXHJcbiAgICovXHJcbiAgbW9kdWxlLiRob29rcy5yZWdpc3RlcihcclxuICAgICdjdXN0b21pemVFbGVtZW50VGl0bGUnLFxyXG4gICAgZnVuY3Rpb24gKHRpdGxlcykge1xyXG4gICAgICB1dGlsLmV4dGVuZChtb2R1bGUuZm9ybUVsZW1lbnRzVGl0bGUsIHRpdGxlcyk7XHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgdGhlICdkZWZhdWx0Q2hvaWNlT3B0aW9uJyBob29rLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgaGVscHMgeW91IHRvIHNldCB0aGUgZGVmYXVsdCB2YWx1ZSBpbiBkcm9wIGRvd24gZmllbGRzIGZvciByZWdpc3RyYXRpb24gc2VydmljZS5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ2RlZmF1bHRDaG9pY2VPcHRpb24nLFxyXG4gICAgZnVuY3Rpb24gKGZpZWxkcykge1xyXG4gICAgICB1dGlsLmV4dGVuZChtb2R1bGUuZGVmYXVsdE9wdGlvbkZpZWxkLCBmaWVsZHMpO1xyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVyIHRoZSAnY3VzdG9taXplRm9ybVBsYWNlaG9sZGVyJyBob29rLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgaGVscHMgeW91IHNldCB1cCBjdXN0b21pemVkIHBsYWNlaG9sZGVycyBmb3IgZm9ybSBlbGVtZW50cy5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ2N1c3RvbWl6ZUZvcm1QbGFjZWhvbGRlcicsXHJcbiAgICBmdW5jdGlvbiAocGxhY2Vob2xkZXJzKSB7XHJcbiAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5mb3JtUGxhY2Vob2xkZXIsIHBsYWNlaG9sZGVycyk7XHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgdGhlICdmb3JtVmFsaWRhdGlvblJ1bGVzJyBob29rLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgYWxsb3dzIHlvdSB0byBhZGQgdmFsaWRhdGlvbnMgdG8geW91ciBmb3JtIGZpZWxkcy5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ2Zvcm1WYWxpZGF0aW9uUnVsZXMnLFxyXG4gICAgZnVuY3Rpb24gKHZhbGlkYXRpb25zKSB7XHJcbiAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5mb3JtVmFsaWRhdGlvbnMsIHZhbGlkYXRpb25zKTtcclxuICAgIH1cclxuICApO1xyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0aGUgJ2Zvcm1BdHRyaWJ1dGVzJyBob29rLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2sgYWxsb3dzIHRvIGFwcGVuZCBjdXN0b20gYXR0cmlidXRlcyB0byBMb2dpblJhZGl1cyBmb3JtIGZpZWxkcywgdGhlc2UgYXR0cmlidXRlcyBhcmUgSFRNTCBhdHRyaWJ1dGUgdGhhdCBtb2RpZmllcyBhbiBIVE1MIGVsZW1lbnQgdHlwZS5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ2Zvcm1BdHRyaWJ1dGVzJyxcclxuICAgIGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XHJcbiAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5mb3JtRWxlbWVudEF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMpO1xyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVyIHRoZSAnYnV0dG9uQXR0cmlidXRlcycgaG9vay5cclxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIGFsbG93cyB5b3UgdG8gYWRkIHZhbGlkYXRpb25zIHRvIHlvdXIgYnV0dG9uIGZpZWxkcy5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ2J1dHRvbkF0dHJpYnV0ZXMnLFxyXG4gICAgZnVuY3Rpb24gKGJ1dHRvbnMpIHtcclxuICAgICAgdXRpbC5leHRlbmQobW9kdWxlLmJ1dHRvbkVsZW1lbnRzLCBidXR0b25zKTtcclxuICAgIH1cclxuICApO1xyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0aGUgJ2FkZEZvcm1DYXB0Y2hhJyBob29rLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGhvb2tzIHdpbGwgaW5zZXJ0IHlvdXIgY2FwdGNoYSBpbiBhIHNwZWNpZmljIGRpdiBhbmQgcGFzcyBpdCBhIGNhbGwgYmFjayBmdW5jdGlvbi5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKFxyXG4gICAgJ2FkZEZvcm1DYXB0Y2hhJyxcclxuICAgIGZ1bmN0aW9uIChjb250YWluZXIsIGNhbGxhYmNrLCB0eXBlKSB7XHJcbiAgICAgIG1vZHVsZS5nZXRBcHBDb25maWd1cmF0aW9uKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgbW9kdWxlLm9wdGlvbnNbdHlwZV0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVjYXB0Y2hhaWQgPSBjb250YWluZXIgKyAncmVjYXB0Y2hhX3dpZGdldCc7XHJcbiAgICAgICAgLy8gdmFyIGRvbVJlY2FwdGNoYSA9IHV0aWwuZWxlbWVudEJ5SWQocmVjYXB0Y2hhaWQsIHRydWUpO1xyXG4gICAgICAgIHV0aWwuYWRkUmVjYXB0Y2hhSlMoKTtcclxuICAgICAgICB2YXIgc2NoZW1hID0gW107XHJcbiAgICAgICAgdXRpbC5jYXB0Y2hhU2NoZW1hKHJlY2FwdGNoYWlkLCBzY2hlbWEsIGZhbHNlLCBjYWxsYWJjayk7XHJcbiAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnbmFtZScsIHNjaGVtYVswXS5uYW1lKTtcclxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuaW52aXNpYmxlUmVjYXB0Y2hhKSB7XHJcbiAgICAgICAgICB2YXIgbmFtZSA9IGNhbGxhYmNrLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcclxuICAgICAgICAgIHZhciByZWcgPSAvZnVuY3Rpb24gKFteXFwoXSopLztcclxuICAgICAgICAgIG5hbWUgPSByZWcuZXhlYyhuYW1lKVsxXTtcclxuICAgICAgICAgIHNjaGVtYVswXS5odG1sID0gc2NoZW1hWzBdLmh0bWwucmVwbGFjZSgnb25DYXB0Y2hhU3VibWl0JywgbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW0uaW5uZXJIVE1MID0gc2NoZW1hWzBdLmh0bWw7XHJcbiAgICAgICAgdXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGVsZW0sIHRydWUpO1xyXG4gICAgICAgIHV0aWwucmVuZGVyVjJSZWNhcHRjaGEocmVjYXB0Y2hhaWQsIGZhbHNlLCBjYWxsYWJjayk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVyIHRoZSAnYWRkRm9ybUNhcHRjaGFFeGVjdXRlJyBob29rLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBXaGVuIHVzaW5nIEdvb2dsZSdzIEludmlzaWJsZSByZUNBUFRDSEEgb3IgVGVuY2VudCBDYXB0Y2hhIHlvdSBhbHNvIGhhdmUgdG8gZXhjdXRlIHRoZSBjYXB0Y2hhIHRoZW4gdGhpcyBjYW4gYmUgYWNoaWV2ZWQgd2l0aCB0aGUgdGhpcyBob29rLlxyXG4gICAqL1xyXG4gIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoXHJcbiAgICAnYWRkRm9ybUNhcHRjaGFFeGVjdXRlJyxcclxuICAgIGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgdmFyIHJlY2FwdGNoYWlkID0gY29udGFpbmVyICsgJ3JlY2FwdGNoYV93aWRnZXQnO1xyXG4gICAgICB2YXIgdGVuY2VudENhcHRjaGFJZCA9IHV0aWwuZWxlbWVudEJ5SWQocmVjYXB0Y2hhaWQgKyAnX3RlbmNlbnQnKTtcclxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSkge1xyXG4gICAgICAgIHZhciBtYWluSW50dmFsbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICh0eXBlb2YgZ3JlY2FwdGNoYSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBncmVjYXB0Y2hhLmV4ZWN1dGUod2luZG93W3JlY2FwdGNoYWlkXSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgLy8gcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobWFpbkludHZhbGwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGVuY2VudENhcHRjaGFJZCAmJiB0ZW5jZW50Q2FwdGNoYUlkLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJyAmJiAobW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGEgfHwgKG1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhQXNGYWxsYmFjayAmJiAhd2luZG93LmdyZWNhcHRjaGEpKSkge1xyXG4gICAgICAgIHRlbmNlbnRDYXB0Y2hhSWQuY2xpY2soKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZVNlY3VyaXR5UXVlc3Rpb25Mb2Nrb3V0IChkYXRhLCBuYW1lKSB7XHJcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbkVuYWJsZWQpIHtcclxuICAgICAgdmFyIHNlY3FkYXRhID0gdXRpbC5qc29uVG9RdWVyeVN0cmluZyhKU09OLnBhcnNlKGRhdGEpKTtcclxuICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fCBkYXRhIGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcbiAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBjb250cm9sbGVycyA9IG5ldyBMb2dpblJhZGl1c0NvbnRyb2xsZXJzKG1vZHVsZSk7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmdldFNlY3VyaXR5UXVlc3Rpb25zQ29udHJvbGxlcihzZWNxZGF0YSwgZnVuY3Rpb24gKF9zc2NoZW1hKSB7XHJcbiAgICAgICAgaWYgKF9zc2NoZW1hLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3NzY2hlbWEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHNlY3FkYXRhLmluZGV4T2YoX3NzY2hlbWFbaV0ubmFtZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgX3NzY2hlbWEuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChfc3NjaGVtYS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICB2YXIgdmFsaWRhdGVTY2hlbWEgPSBbXTtcclxuICAgICAgICAgIHZhciBwcmVmaXggPSBtb2R1bGUuTFJQcmVmaXguc3BsaXQoJyMjJyk7XHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICAgIHZhciBjb21tb25GbnMgPSBuZXcgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMobW9kdWxlKTtcclxuICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtRmllbGRzKF9zc2NoZW1hLCBkaXYsIG5hbWUsIHZhbGlkYXRlU2NoZW1hLCBwcmVmaXhbMF0sIHByZWZpeFsxXSk7XHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3XHJcbiAgICAgICAgICBuZXcgRm9ybVZhbGlkYXRvcihwcmVmaXhbMV0gKyBuYW1lLCB2YWxpZGF0ZVNjaGVtYSwgZnVuY3Rpb24gKF9lcnJvcnMpIHtcclxuICAgICAgICAgICAgbW9kdWxlLm1lcmdlRm9ybUVycm9ycyA9IHt9O1xyXG4gICAgICAgICAgICBtb2R1bGUubWVyZ2VGb3JtRXJyb3JzID0gX2Vycm9ycztcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3Rlcignc3RhcnRQcm9jZXNzJywgZnVuY3Rpb24gKGFjdGlvbiwgZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgc2VjQW5zID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX3NzY2hlbWEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhW19zc2NoZW1hW2pdLm5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICBzZWNBbnNbX3NzY2hlbWFbal0ubmFtZV0gPSBkYXRhW19zc2NoZW1hW2pdLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGRhdGFbX3NzY2hlbWFbal0ubmFtZV07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRhdGEuc2VjdXJpdHlhbnN3ZXIgPSBzZWNBbnM7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KCcnLCBkaXYsIHRydWUsIG5hbWUsIHByZWZpeFswXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUNhcHRjaGFFcnJvclJlc3BvbnNlIChyZWNhcHRjaGFpZCkge1xyXG4gICAgdmFyIGRvbVJlY2FwdGNoYSA9IG1vZHVsZS51dGlsLmVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkLCB0cnVlKTtcclxuICAgIGlmIChkb21SZWNhcHRjaGEpIHtcclxuICAgICAgZG9tUmVjYXB0Y2hhLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfVxyXG4gICAgaWYgKHdpbmRvdy5ncmVjYXB0Y2hhICYmIGRvbVJlY2FwdGNoYSAmJiBkb21SZWNhcHRjaGEuaW5uZXJIVE1MICE9PSAnJykge1xyXG4gICAgICBncmVjYXB0Y2hhLnJlc2V0KHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIG1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhID0gdHJ1ZTtcclxuICAgICAgbW9kdWxlLnV0aWwucmVuZGVyVjJSZWNhcHRjaGEocmVjYXB0Y2hhaWQsIGZhbHNlKTtcclxuICAgIH1cclxuICB9XHJcbiAgbW9kdWxlLiRob29rcy5yZWdpc3Rlcignc3VjY2Vzc0NhbGxiYWNrJywgZnVuY3Rpb24gKGFjdGlvbiwgcmVzdWx0LCBkYXRhKSB7XHJcbiAgICB2YXIgbmFtZSA9ICcnO1xyXG4gICAgbW9kdWxlLiRob29rcy5yZWdpc3Rlcignc2V0Q3VycmVudEFjdGlvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoJ0xSU2V0U2FmYXJpVG9rZW4nLCBhY3Rpb24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGFjdGlvbikge1xyXG4gICAgICBuYW1lID0gYWN0aW9uLnRvTG93ZXJDYXNlKCkgPT09ICd2ZXJpZnlvdHAnID8gJ290cCcgOiBhY3Rpb24udG9Mb3dlckNhc2UoKTtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcclxuICAgIGlmIChyZXN1bHQuRXJyb3JDb2RlID09ICcxMTMyJykge1xyXG4gICAgICBpZiAoIW1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhICYmICFtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEgJiYgIW1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhICYmICFtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYUFzRmFsbGJhY2spIHtcclxuICAgICAgICBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG5hbWUgPT09ICd2ZXJpZnllbWFpbCcpIHtcclxuICAgICAgICB1dGlsLmVsZW1lbnRCeUlkKCdsb2dpbnJhZGl1cy1zdWJtaXQtdmVyaWZ5Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHJlY2FwdGNoYWlkID0gbW9kdWxlLkxSUHJlZml4LnJlcGxhY2UoJyMjJywgJycpICsgJ3JlY2FwdGNoYV93aWRnZXRfJyArIG5hbWU7XHJcbiAgICAgIGhhbmRsZUNhcHRjaGFFcnJvclJlc3BvbnNlKHJlY2FwdGNoYWlkKTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcclxuICAgIH0gZWxzZSBpZiAocmVzdWx0LkVycm9yQ29kZSA9PSAnMTE0OCcgfHwgcmVzdWx0LkVycm9yQ29kZSA9PSAnMTE2NScpIHtcclxuICAgICAgaGFuZGxlU2VjdXJpdHlRdWVzdGlvbkxvY2tvdXQoZGF0YSwgbmFtZSk7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXHJcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5FcnJvckNvZGUgPT0gJzExOTQnKSB7XHJcbiAgICAgIGhhbmRsZVByaXZhY3lQb2xpY3lBY2NlcHQocmVzdWx0LCBhY3Rpb24pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVQcml2YWN5UG9saWN5QWNjZXB0IChyZXN1bHQsIGFjdGlvbikge1xyXG4gICAgdmFyIGFjY2Vzc1Rva2VuID0gJyc7XHJcbiAgICB2YXIgcHJpdmFjeVNjaGVtYSA9IG1vZHVsZS5wcml2YWN5UG9saWN5U2NoZW1hLnNsaWNlKCk7XHJcbiAgICBwcml2YWN5U2NoZW1hWzBdLnJ1bGVzID0gbW9kdWxlLm9wdGlvbnMucHJpdmFjeVBvbGljeUNvbmZpZ3VyYXRpb24uTW9kZSA9PT0gJ1N0cmljdCcgPyAncmVxdWlyZWQnIDogJyc7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgIHZhciBjb21tb25GbnMgPSBuZXcgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMobW9kdWxlKTtcclxuICAgIHZhciBjb250cm9sbGVycyA9IG5ldyBMb2dpblJhZGl1c0NvbnRyb2xsZXJzKG1vZHVsZSwgY29tbW9uRm5zKTtcclxuICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnZ2V0Q3VycmVudEFjdGlvbk9wdGlvbnMnLCBhY3Rpb24pO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXHJcbiAgICB2YXIgb25TdWNjZXNzID0gbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zLm9uU3VjY2VzcyB8fCBmdW5jdGlvbiAoKSB7fTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eS1mdW5jdGlvblxyXG4gICAgdmFyIG9uRXJyb3IgPSBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnMub25FcnJvciB8fCBmdW5jdGlvbiAoKSB7fTtcclxuICAgIHZhciBfY2xhc3NQcmVmaXggPSBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnMuY2xhc3NQcmVmaXggfHwgJyc7XHJcbiAgICBpZiAoYWN0aW9uID09PSAnc29jaWFsTG9naW4nKSB7XHJcbiAgICAgIGFjY2Vzc1Rva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xyXG4gICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3NvY2lhbExvZ2luRm9ybVJlbmRlcicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWNjZXNzVG9rZW4gPSByZXN1bHQuRGF0YS5hY2Nlc3NfdG9rZW47XHJcbiAgICB9XHJcbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShwcml2YWN5U2NoZW1hLCAncHJpdmFjeVBvbGljeVVwZGF0ZScsIG1vZHVsZS5jdXJyZW50TFJDb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZVByaXZhY3lQb2xpY3koYWNjZXNzVG9rZW4sIHJlc3VsdCwgb25TdWNjZXNzLCBvbkVycm9yLCBudWxsLCBtb2R1bGUuY3VycmVudExSQ29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xyXG4gICAgICBvbkVycm9yKGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGVycm9ycykpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwb3B1bGF0ZVNwbGl0VmFsaWRhdGUgKG5hbWUsIHNjaGVtYSwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoc2NoZW1hW2ldLkRhdGFTb3VyY2UpIHtcclxuICAgICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcmVnaXN0cmF0aW9uZGF0YS8nICsgc2NoZW1hW2ldLkRhdGFTb3VyY2UgKyAnP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5LCAnJywgZnVuY3Rpb24gKGRhdGFzb3VyY2UsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJlc3BvbnNlLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCByZXNwb25zZVtqXS5JZCk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyZXNwb25zZVtqXS5LZXkpKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX2NsYXNzUHJlZml4ICsgbmFtZSArICctJyArIGRhdGFzb3VyY2UubmFtZSkuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAncmVnaXN0cmF0aW9uJywgc2NoZW1hW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcG9wdWxhdGVDdXN0b21SZWdpc3RyYXRpb25EYXRhIChjb250YWluZXIsIHRyZWUsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdmFyIHJlc3BBcnJheSA9IFtdO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICB2YXIgY29tbW9uRm5zID0gbmV3IFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zKG1vZHVsZSk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCF0cmVlW2ldLlBhcmVudERhdGFTb3VyY2UpIHtcclxuICAgICAgICB1dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9yZWdpc3RyYXRpb25kYXRhLycgKyB0cmVlW2ldLkRhdGFTb3VyY2UgKyAnP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5LCAnJywgZnVuY3Rpb24gKGRhdGFzb3VyY2UsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICByZXNwQXJyYXlbZGF0YXNvdXJjZS5EYXRhU291cmNlXSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgaWYgKHJlc3BBcnJheVtkYXRhc291cmNlLkRhdGFTb3VyY2VdKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVzcEFycmF5W2RhdGFzb3VyY2UuRGF0YVNvdXJjZV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCByZXNwQXJyYXlbZGF0YXNvdXJjZS5EYXRhU291cmNlXVtqXS5JZCk7XHJcbiAgICAgICAgICAgICAgb3B0aW9uLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJlc3BBcnJheVtkYXRhc291cmNlLkRhdGFTb3VyY2VdW2pdLktleSkpO1xyXG4gICAgICAgICAgICAgIHZhciBkYXRTb3VyY2VDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfY2xhc3NQcmVmaXggKyAncmVnaXN0cmF0aW9uLScgKyBkYXRhc291cmNlLm5hbWUpO1xyXG4gICAgICAgICAgICAgIGlmIChkYXRTb3VyY2VDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIGRhdFNvdXJjZUNvbnRhaW5lci5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGRhdGFzb3VyY2UgJiYgZGF0YXNvdXJjZS5jaGlsZHJlbiAmJiBkYXRhc291cmNlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBkYXRhc291cmNlLmNoaWxkcmVuLmxlbmd0aDsgaysrKSB7IGNvbW1vbkZucy5hZGRDaGFuZ2VFdmVudEhhbmRsZXIoY29udGFpbmVyLCBkYXRhc291cmNlLCBkYXRhc291cmNlLmNoaWxkcmVuW2tdLCBfY2xhc3NQcmVmaXgpOyB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgJ3JlZ2lzdHJhdGlvbicsIHRyZWVbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0aGUgJ2FmdGVyRm9ybVJlbmRlcicgaG9vay5cclxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIGlzIHVzZWQgdG8gcGVyZm9ybSBhbiBhY3Rpb24gQWZ0ZXIgYW55IGZvcm0gcmVuZGVycywgZXhhbXBsZSBsb2dpbiwgcmVnaXN0cmF0aW9uIGV0Yy5cclxuICAgKi9cclxuICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdhZnRlckZvcm1SZW5kZXInLCBmdW5jdGlvbiAobmFtZSwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgsIG9iaikge1xyXG4gICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5vcHRpb25zLlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWE7XHJcbiAgICB2YXIgdHJlZSA9IFtdO1xyXG4gICAgaWYgKG5hbWUgPT09ICdyZWdpc3RyYXRpb24nKSB7XHJcbiAgICAgIHZhciBtYXBwZWRBcnIgPSB7fTtcclxuICAgICAgdmFyIG1hcHBlZEVsZW07XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHNjaGVtYVtpXSAmJiBzY2hlbWFbaV0uRGF0YVNvdXJjZSAmJiBzY2hlbWFbaV0uRGF0YVNvdXJjZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgbWFwcGVkQXJyW3NjaGVtYVtpXS5EYXRhU291cmNlXSA9IHNjaGVtYVtpXTtcclxuICAgICAgICAgIG1hcHBlZEFycltzY2hlbWFbaV0uRGF0YVNvdXJjZV1bJ2NoaWxkcmVuJ10gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZm9yICh2YXIgRGF0YVNvdXJjZSBpbiBtYXBwZWRBcnIpIHtcclxuICAgICAgICBpZiAobWFwcGVkQXJyLmhhc093blByb3BlcnR5KERhdGFTb3VyY2UpKSB7XHJcbiAgICAgICAgICBtYXBwZWRFbGVtID0gbWFwcGVkQXJyW0RhdGFTb3VyY2VdO1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcclxuICAgICAgICAgIGlmIChtYXBwZWRFbGVtLlBhcmVudERhdGFTb3VyY2UgJiYgbWFwcGVkRWxlbS5QYXJlbnREYXRhU291cmNlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbWFwcGVkQXJyW21hcHBlZEVsZW1bJ1BhcmVudERhdGFTb3VyY2UnXV1bJ2NoaWxkcmVuJ10ucHVzaChtYXBwZWRFbGVtKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyZWUucHVzaChtYXBwZWRFbGVtKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRyZWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHBvcHVsYXRlQ3VzdG9tUmVnaXN0cmF0aW9uRGF0YShjb250YWluZXIsIHRyZWUsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChuYW1lID09PSAndmFsaWRhdGVjb2RlJykge1xyXG4gICAgICBwb3B1bGF0ZVNwbGl0VmFsaWRhdGUobmFtZSwgc2NoZW1hLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0aGUgJ3NldExvY2FsZUJhc2VkSW5mbycgaG9vay5cclxuICAgKiBAZGVzY3JpcHRpb24gVGhpcyBob29rIHByb3ZpZGVzIHlvdSBhIHdheSB0byBkaXNwbGF5IHRoZSBsYWJlbHMsIHBsYWNlaG9sZGVycywgdmFsaWRhdGlvbiBtZXNzYWdlcyBhbmQgZXJyb3IgbWVzc2FnZXMgZm9yIGZvcm1zIGluIHlvdXIgbG9jYWwgbGFuZ3VhZ2UuXHJcbiAgICovXHJcbiAgbW9kdWxlLiRob29rcy5yZWdpc3RlcihcclxuICAgICdzZXRMb2NhbGVCYXNlZEluZm8nLFxyXG4gICAgZnVuY3Rpb24gKGxvY2FsZUluZm8pIHtcclxuICAgICAgZm9yICh2YXIga2V5IGluIGxvY2FsZUluZm8pIHtcclxuICAgICAgICBpZiAobG9jYWxlSW5mby5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICBjYXNlICdsYWJlbHMnOlxyXG4gICAgICAgICAgICAgIHV0aWwuZXh0ZW5kKG1vZHVsZS5mb3JtQ3VzdG9tTGFiZWwsIGxvY2FsZUluZm9ba2V5XSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYWNlaG9sZGVycyc6XHJcbiAgICAgICAgICAgICAgdXRpbC5leHRlbmQobW9kdWxlLmZvcm1QbGFjZWhvbGRlciwgbG9jYWxlSW5mb1trZXldKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndmFsaWRhdGlvbk1lc3NhZ2VzJzpcclxuICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ21hcFZhbGlkYXRpb25NZXNzYWdlcycsIChsb2NhbGVJbmZvW2tleV0pKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZXJyb3JNZXNzYWdlcyc6XHJcbiAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdtYXBFcnJvck1lc3NhZ2VzJywgKGxvY2FsZUluZm9ba2V5XSkpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwYXNzd29yZE1ldGVyQ29uZmlndXJhdGlvbic6XHJcbiAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdwYXNzd29yZE1ldGVyQ29uZmlndXJhdGlvbicsIChsb2NhbGVJbmZvW2tleV0pKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYnV0dG9uc05hbWUnOlxyXG4gICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnc2V0QnV0dG9uc05hbWUnLCAobG9jYWxlSW5mb1trZXldKSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgKTtcclxuICAvLyBlbmQgaG9vayBtb2RlbFxyXG59XHJcblxuLyoqXHJcbiogQHBhcmFtIHtPYmplY3R9IG1vZHVsZSBsciBtb2R1bGUgb2JqZWN0XHJcbiogQGRlc2NyaXB0aW9uIFNldCBnbG9iYWwgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMuXHJcbiogQGNvbnN0cnVjdG9yXHJcbiovXHJcbmZ1bmN0aW9uIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zIChtb2R1bGUpIHtcclxuICB2YXIgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZSA9IHRoaXM7XHJcbiAgdmFyIGRlZmF1bHRNZXNzYWdlcyA9IExvZ2luUmFkaXVzRGVmYXVsdHMubWVzc2FnZXM7XHJcbiAgdmFyIGRlZmF1bHRCdXR0b25zTmFtZSA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYnV0dG9uTmFtZXM7XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBmaWx0ZXJQcm92aWRlcnNCYXNlZE9uQ291bnRyeVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvdW50cnlOYW1lIGNvdW50cnkgTmFtZVxyXG4gICogQHBhcmFtIHtBcnJheX0gcHJvdkxpc3QgbGlzdCBvZiBzY29pYWwgcHJvdmlkZXJzXHJcbiAgKiBAcmV0dXJuIHtBcnJheX0gcHJvdkxpc3QgYXZhaWxhYmxlIHNjb2lhbCBwcm92aWRlcnMgbGlzdFxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYXZhaWxhYmxlIHNvY2lhbCBwcm92aWRlcnMgbGlzdCBiYXNlZCB1cG9uIGNvdW50cnkgTmFtZS5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIGZpbHRlclByb3ZpZGVyc0Jhc2VkT25Db3VudHJ5IChjb3VudHJ5TmFtZSwgcHJvdkxpc3QpIHtcclxuICAgIHZhciBjb3VudHJ5UHJvdmlkZXJzID0gW3tcclxuICAgICAgJ05hbWUnOiAnRmFjZWJvb2snLFxyXG4gICAgICAnY291bnRyeSc6ICdnbG9iYWwnLFxyXG4gICAgICAnZXhjZXB0JzogJ2NoaW5hJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgJ05hbWUnOiAnR29vZ2xlJyxcclxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcclxuICAgICAgJ2V4Y2VwdCc6ICdjaGluYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ1lhaG9vJyxcclxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcclxuICAgICAgJ2V4Y2VwdCc6ICdjaGluYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ0xpdmUnLFxyXG4gICAgICAnY291bnRyeSc6ICdnbG9iYWwnLFxyXG4gICAgICAnZXhjZXB0JzogJ2NoaW5hJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgJ05hbWUnOiAnVHdpdHRlcicsXHJcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCcsXHJcbiAgICAgICdleGNlcHQnOiAnY2hpbmEnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAnTmFtZSc6ICdMaW5rZWRpbicsXHJcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCcsXHJcbiAgICAgICdleGNlcHQnOiAnY2hpbmEnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAnTmFtZSc6ICdNeXNwYWNlJyxcclxuICAgICAgJ2NvdW50cnknOiAnVVMnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAnTmFtZSc6ICdGb3Vyc3F1YXJlJyxcclxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcclxuICAgICAgJ2V4Y2VwdCc6ICdjaGluYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ1Zrb250YWt0ZScsXHJcbiAgICAgICdjb3VudHJ5JzogJ1J1c3NpYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ1JlbnJlbicsXHJcbiAgICAgICdjb3VudHJ5JzogJ0NoaW5hJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgJ05hbWUnOiAnUVEnLFxyXG4gICAgICAnY291bnRyeSc6ICdDaGluYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ0thaXhpbicsXHJcbiAgICAgICdjb3VudHJ5JzogJ0NoaW5hJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgJ05hbWUnOiAnR2l0aHViJyxcclxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcclxuICAgICAgJ2V4Y2VwdCc6ICdjaGluYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ01haWxydScsXHJcbiAgICAgICdjb3VudHJ5JzogJ1J1c3NpYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ0FtYXpvbicsXHJcbiAgICAgICdjb3VudHJ5JzogJ1VTJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgJ05hbWUnOiAnUGF5cGFsJyxcclxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgJ05hbWUnOiAnU2FsZXNmb3JjZScsXHJcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ09ETk9LTEFTU05JS0knLFxyXG4gICAgICAnY291bnRyeSc6ICdSdXNzaWEnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAnTmFtZSc6ICdXT1JEUFJFU1MnLFxyXG4gICAgICAnY291bnRyeSc6ICdnbG9iYWwnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAnTmFtZSc6ICdHT09HTEVQTFVTJyxcclxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJyxcclxuICAgICAgJ2V4Y2VwdCc6ICdjaGluYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ0Rpc3F1cycsXHJcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCcsXHJcbiAgICAgICdleGNlcHQnOiAnY2hpbmEnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAnTmFtZSc6ICdJTlNUQUdSQU0nLFxyXG4gICAgICAnY291bnRyeSc6ICdnbG9iYWwnLFxyXG4gICAgICAnZXhjZXB0JzogJ2NoaW5hJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgJ05hbWUnOiAnU0lOQVdFSUJPJyxcclxuICAgICAgJ2NvdW50cnknOiAnQ2hpbmEnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAnTmFtZSc6ICdYSU5HJyxcclxuICAgICAgJ2NvdW50cnknOiAnR2VybWFueSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdOYW1lJzogJ1BJTlRFUkVTVCcsXHJcbiAgICAgICdjb3VudHJ5JzogJ2dsb2JhbCcsXHJcbiAgICAgICdleGNlcHQnOiAnY2hpbmEnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAnTmFtZSc6ICdMSU5FJyxcclxuICAgICAgJ2NvdW50cnknOiAnZ2xvYmFsJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgJ05hbWUnOiAnQU9MJyxcclxuICAgICAgJ2NvdW50cnknOiAnVVMnXHJcbiAgICB9XHJcbiAgICBdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnRyeVByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHByb3ZMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKHByb3ZMaXN0W2pdICYmIChwcm92TGlzdFtqXS5OYW1lLnRvTG93ZXJDYXNlKCkgPT09IGNvdW50cnlQcm92aWRlcnNbaV0uTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgaWYgKChjb3VudHJ5UHJvdmlkZXJzW2ldLmNvdW50cnkudG9Mb3dlckNhc2UoKSA9PT0gY291bnRyeU5hbWUudG9Mb3dlckNhc2UoKSkgfHwgKGNvdW50cnlQcm92aWRlcnNbaV0uY291bnRyeS50b0xvd2VyQ2FzZSgpID09PSAnZ2xvYmFsJyAmJiAhY291bnRyeVByb3ZpZGVyc1tpXS5leGNlcHQpIHx8IChjb3VudHJ5UHJvdmlkZXJzW2ldLmV4Y2VwdCAmJiBjb3VudHJ5UHJvdmlkZXJzW2ldLmV4Y2VwdC50b0xvd2VyQ2FzZSgpICE9PSBjb3VudHJ5TmFtZS50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHByb3ZMaXN0LnNwbGljZShqLCAxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwcm92TGlzdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIHJlbmRlckN1c3RvbUludGVyZmFjZVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIGh0bWwgZWxlbWVudCBzZWxlY3RvciBuYW1lXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gbGlua2VkUHJvdmlkZXIgYWNjb3VudCBsaW5rZWQgc29jaWFsIHByb3ZpZGVyIG9iamVjdFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRlbXBsYXRlTmFtZSB0ZW1wbGF0ZSBuYW1lXHJcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzYXBwZW5kIGZsYWdcclxuICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWNMaW5raW5nIGZsYWcgb2YgYWNjb3VudCBsaW5rXHJcbiAgKiBAcGFyYW0ge0FycmF5fSBwcm92aWRlcnNTY2hlbWEgYXJyYXkgb2YgcHJvdmlkZXJzU2NoZW1hXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHJlbmRlciBwcm92aWRlciBjdXN0b20gaW50ZXJmYWNlIGFjY29yZGluZyB0byBDb3VudHJ5LlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5yZW5kZXJDdXN0b21JbnRlcmZhY2UgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGxpbmtlZFByb3ZpZGVyLCB0ZW1wbGF0ZU5hbWUsIGlzYXBwZW5kLCBhY0xpbmtpbmcsIHByb3ZpZGVyc1NjaGVtYSkge1xyXG4gICAgbW9kdWxlLm9wdGlvbnMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcclxuICAgIHZhciByZW5kZXJlZEh0bWwgPSBbXTtcclxuICAgIHZhciBPbkxvYWRlZEN1c3RvbUludGVyRmFjZSA9XHJcbiAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIExSUHJvdmlkZXJzTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnByb3ZpZGVyQ291bnRyeSAmJiAhbW9kdWxlLm9wdGlvbnMucHJvdmlkZXJzTGlzdCkge1xyXG4gICAgICAgICAgTFJQcm92aWRlcnNMaXN0ID0gZmlsdGVyUHJvdmlkZXJzQmFzZWRPbkNvdW50cnkobW9kdWxlLm9wdGlvbnMucHJvdmlkZXJDb3VudHJ5LCBMUlByb3ZpZGVyc0xpc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3NvY2lhbEludGVyZmFjZVByb3ZpZGVycycsIExSUHJvdmlkZXJzTGlzdCk7XHJcbiAgICAgICAgdmFyIHByb3ZpZGVyc1RvU2hvdztcclxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMucHJvdmlkZXJzTGlzdCkge1xyXG4gICAgICAgICAgcHJvdmlkZXJzVG9TaG93ID0gbW9kdWxlLm9wdGlvbnMucHJvdmlkZXJzTGlzdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlQ29tcGlsZXIgPSBtb2R1bGUub3B0aW9ucy5oYXNoVGVtcGxhdGUgPyBtb2R1bGUudXRpbC5oYXNoVG1wbCA6IG1vZHVsZS51dGlsLnRtcGw7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlcyA9IHRlbXBsYXRlTmFtZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgIHZhciBzY29wZSA9IG1vZHVsZS51dGlsLmdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lKCdzY29wZScpO1xyXG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zY29wZSA9PT0gJycgJiYgc2NvcGUpIHtcclxuICAgICAgICAgIG1vZHVsZS5vcHRpb25zLnNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBxdWVyeSA9ICcmY2FsbGJhY2s9JyArIG1vZHVsZS5vcHRpb25zLmNhbGxiYWNrVXJsICsgJyZzYW1lX3dpbmRvdz0nICsgbW9kdWxlLm9wdGlvbnMuY2FsbGJhY2tJbnNpZGVTYW1lV2luZG93ICsgJyZpc19hY2Nlc3NfdG9rZW49JyArIG1vZHVsZS5vcHRpb25zLmFjY2Vzc1Rva2VuUmVzcG9uc2UgKyAnJmNhbGxiYWNrdHlwZT0nICsgbW9kdWxlLm9wdGlvbnMuY2FsbGJhY2tUeXBlICsgJyZkaXNhYmxlc2lnbnVwPScgKyBtb2R1bGUub3B0aW9ucy5kaXNhYmxlU2lnbnVwO1xyXG4gICAgICAgIGlmIChxdWVyeS5pbmRleE9mKCdzY29wZScpID09PSAtMSkge1xyXG4gICAgICAgICAgcXVlcnkgKz0gJyZzY29wZT0nICsgbW9kdWxlLm9wdGlvbnMuc2NvcGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5pc01vYmlsZSkge1xyXG4gICAgICAgICAgcXVlcnkgKz0gJyZpc21vYmlsZT10cnVlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFjTGlua2luZykge1xyXG4gICAgICAgICAgcXVlcnkgKz0gJyZhY19saW5raW5nPXRydWUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuaXNDdXN0b21TY29wZSkge1xyXG4gICAgICAgICAgcXVlcnkgKz0gJyZpc19jdXN0b21fc2NvcGU9dHJ1ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvYmplY3ROYW1lID0gbW9kdWxlLnV0aWwuZ2V0VGhpc09iamVjdE5hbWUoKTtcclxuICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHRlbXBsYXRlcy5sZW5ndGg7IGwrKykge1xyXG4gICAgICAgICAgdmFyIHRlbXBsYXRlSUREYXRhID0gbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQodGVtcGxhdGVzW2xdKTtcclxuICAgICAgICAgIGlmICh0ZW1wbGF0ZUlERGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEYXRhID0gdGVtcGxhdGVJRERhdGEuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICBpZiAodGVtcGxhdGVEYXRhLmluZGV4T2YoJ2FjX2xpbmtpbmcnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnJlcGxhY2UoJyZhY19saW5raW5nPXRydWUnLCAnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgcHJvdmlkZXJzID0gW107XHJcbiAgICAgICAgICByZW5kZXJlZEh0bWxbbF0gPSAnJztcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTFJQcm92aWRlcnNMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIExSUHJvdmlkZXJzTGlzdFtpXS5PYmplY3ROYW1lID0gb2JqZWN0TmFtZTtcclxuICAgICAgICAgICAgaWYgKExSUHJvdmlkZXJzTGlzdFtpXS5FbmRwb2ludC5pbmRleE9mKCdjYWxsYmFjaz0nKSA9PT0gLTEpIHsgTFJQcm92aWRlcnNMaXN0W2ldLkVuZHBvaW50ICs9IHF1ZXJ5OyB9XHJcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHt9O1xyXG4gICAgICAgICAgICBwcm92aWRlci5pc2xpbmtlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwcm92aWRlci5wcm92aWRlcklkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAobGlua2VkUHJvdmlkZXIgJiYgbGlua2VkUHJvdmlkZXJbTFJQcm92aWRlcnNMaXN0W2ldLk5hbWUudG9Mb3dlckNhc2UoKV0pIHtcclxuICAgICAgICAgICAgICBwcm92aWRlci5pc2xpbmtlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgcHJvdmlkZXIucHJvdmlkZXJJZCA9IGxpbmtlZFByb3ZpZGVyW0xSUHJvdmlkZXJzTGlzdFtpXS5OYW1lLnRvTG93ZXJDYXNlKCldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBMUlByb3ZpZGVyc0xpc3RbaV0uaXNMaW5rZWQgPSBwcm92aWRlci5pc2xpbmtlZDtcclxuICAgICAgICAgICAgTFJQcm92aWRlcnNMaXN0W2ldLnByb3ZpZGVySWQgPSBwcm92aWRlci5wcm92aWRlcklkO1xyXG4gICAgICAgICAgICB2YXIgdW5saW5rQ2FsbGJhY2sgPSBtb2R1bGUub3B0aW9ucy51bkxpbmtBY2NvdW50Q2FsbGJhY2tVcmwgfHwgd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICAgICAgICAgIHVubGlua0NhbGxiYWNrICs9ICh1bmxpbmtDYWxsYmFjay5pbmRleE9mKCc/JykgPT09IC0xKSA/ICc/JyA6ICcmJztcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gTFJQcm92aWRlcnNMaXN0W2ldO1xyXG4gICAgICAgICAgICBwcm92aWRlcnMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdmFyIHRlbXAgPSBbXTtcclxuXHJcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHByb3ZpZGVycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAocHJvdmlkZXJzW2pdLmlzTGlua2VkKSB7XHJcbiAgICAgICAgICAgICAgdGVtcC5wdXNoKHByb3ZpZGVyc1tqXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0ZW1wLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBwcm92aWRlcnMubGVuZ3RoOyBzKyspIHtcclxuICAgICAgICAgICAgICBpZiAoIXByb3ZpZGVyc1tzXS5pc0xpbmtlZCkge1xyXG4gICAgICAgICAgICAgICAgdGVtcC5wdXNoKHByb3ZpZGVyc1tzXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3ZpZGVycyA9IHRlbXA7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBwcm92aWRlcnMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlc1tsXSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICBpZiAocHJvdmlkZXJzVG9TaG93ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm92aWRlcnNUb1Nob3cuaW5kZXhPZihwcm92aWRlcnNbbV0uTmFtZSkgIT09IC0xIHx8IHByb3ZpZGVyc1RvU2hvdy5pbmRleE9mKHByb3ZpZGVyc1ttXS5OYW1lLnRvTG93ZXJDYXNlKCkpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICByZW5kZXJlZEh0bWxbbF0gKz0gdGVtcGxhdGVDb21waWxlcih0ZW1wbGF0ZXNbbF0sIHByb3ZpZGVyc1ttXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVkSHRtbFtsXSArPSB0ZW1wbGF0ZUNvbXBpbGVyKHRlbXBsYXRlc1tsXSwgcHJvdmlkZXJzW21dKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlbGVjdG9yc0FycmF5ID0gbW9kdWxlLm9wdGlvbnMuc2VsZWN0b3Iuc3BsaXQoJywnKTtcclxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHNlbGVjdG9yc0FycmF5Lmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBzZWxlY3RvcnNBcnJheVtrXTtcclxuICAgICAgICAgIGlmIChzZWxlY3Rvci5pbmRleE9mKCcuJykgPT09IDApIHtcclxuICAgICAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICAgICAgICB2YXIgZWxlbXMgPSBtb2R1bGUudXRpbC5lbGVtZW50c0J5Q2xhc3Moc2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbXMgJiYgZWxlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIHcgPSAwOyB3IDwgZWxlbXMubGVuZ3RoOyB3KyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc2FwcGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICBlbGVtc1t3XS5pbm5lckhUTUwgKz0gcmVuZGVyZWRIdG1sW2tdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZWxlbXNbd10uaW5uZXJIVE1MID0gcmVuZGVyZWRIdG1sW2tdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RvciAhPT0gJycpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW0gPSBtb2R1bGUudXRpbC5lbGVtZW50QnlJZChzZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIGlmIChlbGVtKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGlzYXBwZW5kKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmlubmVySFRNTCArPSByZW5kZXJlZEh0bWxba107XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gcmVuZGVyZWRIdG1sW2tdO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIGlmIChwcm92aWRlcnNTY2hlbWEpIHsgT25Mb2FkZWRDdXN0b21JbnRlckZhY2UocHJvdmlkZXJzU2NoZW1hKTsgfSBlbHNlIGlmIChtb2R1bGUub3B0aW9ucy5Tb2NpYWxTY2hlbWEgIT09IHVuZGVmaW5lZCkgeyBPbkxvYWRlZEN1c3RvbUludGVyRmFjZShtb2R1bGUub3B0aW9ucy5Tb2NpYWxTY2hlbWEuUHJvdmlkZXJzKTsgfVxyXG4gICAgLy8gbW9kdWxlLnV0aWwuanNvbnBDYWxsKGFwcEpzb25VcmwgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyBcIi5qc29uXCIsLCBcImxvZ2luUmFkaXVzQXBwSnNvbkxvYWRlZFwiLCdjdXN0b21JbnRlcmZhY2UnKTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIG1hcFJlZ2lzdHJhdGlvblNjaGVtYVxyXG4gICogQHBhcmFtIHtBcnJheX0gc2NoZW1hIHJlZ2lzdHJhdGlvbiBTY2hlbWFcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gc3RyaW5nXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gdXNlclByb2ZpbGUgdXNlciBwcm9maWxlIG9iamVjdFxyXG4gICogQHJldHVybiB7T2JqZWN0fSBvYmpEYXRhIGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIG1hcCB0aGUgcmVnaXN0cmF0aW9uIFNjaGVtYSBmaWVsZHMgb2JqZWN0cyB3aXRoIHNvbWUgZGVmYXVsdCB2YWx1ZXMuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLm1hcFJlZ2lzdHJhdGlvblNjaGVtYSA9IGZ1bmN0aW9uIChzY2hlbWEsIGRhdGEsIHVzZXJQcm9maWxlKSB7XHJcbiAgICB2YXIgb2JqRGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XHJcbiAgICB2YXIgY3VzdG9tRmllbGRzT2JqID0ge307XHJcbiAgICB2YXIgZW1haWxPYmogPSB7fTtcclxuICAgIHZhciBjb3VudHJ5T2JqID0ge307XHJcbiAgICB2YXIgZW1haWxBcnJheSA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGkgaW4gb2JqRGF0YSkge1xyXG4gICAgICBpZiAoaS5pbmRleE9mKCdjZl8nKSAhPT0gLTEpIHtcclxuICAgICAgICB2YXIgbmV3S2V5ID0gaS5yZXBsYWNlKCdjZl8nLCAnJyk7XHJcbiAgICAgICAgY3VzdG9tRmllbGRzT2JqW25ld0tleV0gPSBvYmpEYXRhW2ldO1xyXG4gICAgICAgIGRlbGV0ZSBvYmpEYXRhW2ldO1xyXG4gICAgICB9IGVsc2UgaWYgKGkgPT09ICdlbWFpbHN1YnNjcmlwdGlvbicpIHtcclxuICAgICAgICBvYmpEYXRhWydJc0VtYWlsU3Vic2NyaWJlZCddID0gISEob2JqRGF0YVtpXSA9PT0gJ29uJyB8fCBvYmpEYXRhW2ldID09PSAndHJ1ZScpO1xyXG4gICAgICAgIGRlbGV0ZSBvYmpEYXRhW2ldO1xyXG4gICAgICB9IGVsc2UgaWYgKGkgPT09ICdlbWFpbGlkJyB8fCBpID09PSAnZW1haWwnKSB7XHJcbiAgICAgICAgZW1haWxPYmoudmFsdWUgPSBvYmpEYXRhW2ldO1xyXG4gICAgICAgIGVtYWlsT2JqLnR5cGUgPSAnUHJpbWFyeSc7XHJcbiAgICAgIH0gZWxzZSBpZiAoaSAhPT0gJ1NlY3VyaXR5UXVlc3Rpb25BbnN3ZXInICYmIGkuaW5kZXhPZignc2VjdXJpdHlRdWVzdGlvbicpICE9PSAtMSkge1xyXG4gICAgICAgIHZhciBzZWNRQU9iamVjdCA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9kdWxlLm9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbnNDb3VudDsgaisrKSB7XHJcbiAgICAgICAgICBpZiAob2JqRGF0YVsnc2VjdXJpdHlBbnN3ZXInICsgal0gJiYgb2JqRGF0YVsnc2VjdXJpdHlRdWVzdGlvbicgKyBqXSkge1xyXG4gICAgICAgICAgICBzZWNRQU9iamVjdFtvYmpEYXRhWydzZWN1cml0eVF1ZXN0aW9uJyArIGpdXSA9IG9iakRhdGFbJ3NlY3VyaXR5QW5zd2VyJyArIGpdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGVsZXRlIG9iakRhdGFbJ3NlY3VyaXR5UXVlc3Rpb24nICsgal07XHJcbiAgICAgICAgICBkZWxldGUgb2JqRGF0YVsnc2VjdXJpdHlBbnN3ZXInICsgal07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhzZWNRQU9iamVjdCkubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICBvYmpEYXRhWydTZWN1cml0eVF1ZXN0aW9uQW5zd2VyJ10gPSBzZWNRQU9iamVjdDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoaSA9PT0gJ2NvdW50cnknKSB7XHJcbiAgICAgICAgaWYgKG9iakRhdGFbaV0uaW5kZXhPZignfCcpICE9PSAtMSkge1xyXG4gICAgICAgICAgY291bnRyeU9iaiA9IHtcclxuICAgICAgICAgICAgJ2NvZGUnOiBvYmpEYXRhW2ldLnNwbGl0KCd8JylbMF0sXHJcbiAgICAgICAgICAgICduYW1lJzogb2JqRGF0YVtpXS5zcGxpdCgnfCcpWzFdXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb3VudHJ5T2JqID0ge1xyXG4gICAgICAgICAgICAnY29kZSc6ICcnLFxyXG4gICAgICAgICAgICAnbmFtZSc6IG9iakRhdGFbaV1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBmaWVsZE5hbWUgPSBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsIGkpO1xyXG4gICAgICAgIGlmIChmaWVsZE5hbWUgJiYgZmllbGROYW1lLlBhcmVudCkge1xyXG4gICAgICAgICAgdmFyIG0gPSBpLmluZGV4T2YoJ18nKSAhPT0gLTEgPyBpLnNwbGl0KCdfJylbMV0gOiBpO1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiBvYmpEYXRhW2ZpZWxkTmFtZS5QYXJlbnRdID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBvYmpEYXRhW2ZpZWxkTmFtZS5QYXJlbnRdID0gW107XHJcbiAgICAgICAgICAgIHZhciBvYmplY3RfID0ge307XHJcblxyXG4gICAgICAgICAgICBvYmplY3RfW21dID0gb2JqRGF0YVtpXTtcclxuICAgICAgICAgICAgaWYgKGZpZWxkTmFtZS5QYXJlbnQgPT09ICdBZGRyZXNzZXMnKSB7XHJcbiAgICAgICAgICAgICAgb2JqZWN0X1sndHlwZSddID0gJ3BlcnNvbmFsJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChmaWVsZE5hbWUuUGFyZW50ID09PSAnUGhvbmVOdW1iZXJzJyAmJiAhb2JqZWN0X1sncGhvbmV0eXBlJ10pIHtcclxuICAgICAgICAgICAgICBvYmplY3RfWydwaG9uZXR5cGUnXSA9ICdkZWZhdWx0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvYmpEYXRhW2ZpZWxkTmFtZS5QYXJlbnRdLnB1c2gob2JqZWN0Xyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmllbGROYW1lLlBhcmVudCA9PT0gJ0FkZHJlc3NlcycgJiYgIW9iakRhdGFbZmllbGROYW1lLlBhcmVudF1bMF1bJ3R5cGUnXSkge1xyXG4gICAgICAgICAgICAgIG9iakRhdGFbZmllbGROYW1lLlBhcmVudF1bMF1bJ3R5cGUnXSA9ICdwZXJzb25hbCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9iakRhdGFbZmllbGROYW1lLlBhcmVudF1bMF1bbV0gPSBvYmpEYXRhW2ldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGVsZXRlIG9iakRhdGFbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKE9iamVjdC5rZXlzKGN1c3RvbUZpZWxkc09iaikubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIG9iakRhdGFbJ0N1c3RvbUZpZWxkcyddID0gY3VzdG9tRmllbGRzT2JqO1xyXG4gICAgfVxyXG4gICAgaWYgKE9iamVjdC5rZXlzKGVtYWlsT2JqKS5sZW5ndGggIT09IDApIHtcclxuICAgICAgZW1haWxBcnJheS5wdXNoKGVtYWlsT2JqKTtcclxuICAgICAgb2JqRGF0YVsnZW1haWwnXSA9IGVtYWlsQXJyYXk7XHJcbiAgICB9XHJcbiAgICBpZiAoT2JqZWN0LmtleXMoY291bnRyeU9iaikubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIG9iakRhdGFbJ2NvdW50cnknXSA9IGNvdW50cnlPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9iakRhdGE7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAcHJpdmF0ZVxyXG4gICogQGZ1bmN0aW9uIGdldFBhc3N3b3JkTWV0ZXJDb25maWd1cmF0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gbWluIG1pbiB2bGF1ZVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IG1heCBtYXggdmFsdWVcclxuICAqIEByZXR1cm4ge0FycmF5fSBhcnJheSBvZiBtZXRlciBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBnZXQgcGFzc3dvcmQgc3RyZW5ndGggc3RhdHVzIG1ldGVyIGNvbmZpZ3VyYXRpb24uXHJcbiAgKi9cclxuICBmdW5jdGlvbiBnZXRQYXNzd29yZE1ldGVyQ29uZmlndXJhdGlvbiAobWluLCBtYXgpIHtcclxuICAgIHZhciBkZWZhdWx0Q2FzZSA9IHtcclxuICAgICAgMDogJ3dvcnN0JyxcclxuICAgICAgMTogJ2JhZCcsXHJcbiAgICAgIDI6ICd3ZWFrJyxcclxuICAgICAgMzogJ2dvb2QnLFxyXG4gICAgICA0OiAnc3Ryb25nJyxcclxuICAgICAgNTogJ3NlY3VyZSdcclxuICAgIH07XHJcbiAgICB2YXIgZGVmYXVsdENvbG9yID0ge1xyXG4gICAgICAwOiAnI2RkNTE0YycsXHJcbiAgICAgIDE6ICdvcmFuZ2UnLFxyXG4gICAgICAyOiAneWVsbG93JyxcclxuICAgICAgMzogJyM1ZWI5NWUnLFxyXG4gICAgICA0OiAnYmx1ZScsXHJcbiAgICAgIDU6ICd2aW9sZXQnXHJcbiAgICB9O1xyXG4gICAgdmFyIGRlZmF1bHRNZXNzYWdlID0ge1xyXG4gICAgICAwOiAnV29yc3QnLFxyXG4gICAgICAxOiAnQmFkJyxcclxuICAgICAgMjogJ1dlYWsnLFxyXG4gICAgICAzOiAnR29vZCcsXHJcbiAgICAgIDQ6ICdTdHJvbmcnLFxyXG4gICAgICA1OiAnU2VjdXJlJ1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb25maWcgKCkge1xyXG4gICAgICB2YXIgdGVtcCA9IFtdO1xyXG4gICAgICB2YXIgaW5wdXQgPSBtb2R1bGUucGFzc3dvcmRNZXRlckNvbmZpZ3VyYXRpb247XHJcbiAgICAgIGZvciAodmFyIGogaW4gZGVmYXVsdENhc2UpIHtcclxuICAgICAgICBpZiAoaW5wdXRbal0gJiYgaW5wdXRbal0uY2FzZSkge1xyXG4gICAgICAgICAgaWYgKGlucHV0W2pdLmNhc2UudG9Mb3dlckNhc2UoKSA9PT0gZGVmYXVsdENhc2Vbal0pIHtcclxuICAgICAgICAgICAgdGVtcC5wdXNoKHtcclxuICAgICAgICAgICAgICBjb2xvcjogaW5wdXRbal0uY29sb3IgPyBpbnB1dFtqXS5jb2xvciA6IGRlZmF1bHRDb2xvcltqXSxcclxuICAgICAgICAgICAgICBNZXNzYWdlOiBpbnB1dFtqXS5tZXNzYWdlID8gaW5wdXRbal0ubWVzc2FnZSA6IGRlZmF1bHRNZXNzYWdlW2pdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0ZW1wLnB1c2goe1xyXG4gICAgICAgICAgICBjb2xvcjogZGVmYXVsdENvbG9yW2pdLFxyXG4gICAgICAgICAgICBNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZVtqXVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbmZpZygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAcHJpdmF0ZVxyXG4gICogQGZ1bmN0aW9uIGlzQ3VzdG9tVmFsaWRhdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkVmFsdWUgdmFpZGF0aW9uIGZpZWxkIG5hbWVcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJtVmFsdWUgY3VzdG9tIHZhbGlkYXRpb24gcmVnZXggZXhwLlxyXG4gICogQHJldHVybiB7Qm9vbGVhbn0gZmxhZyBnaXZlbiBmaWVsZFZhbHVlIGlzIGF2YWlsYWJsZSBpbiByZWdleCBleHBcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdmFsaWRhdGUgY3VzdG9tIHZhbGlkYXRpb24gcmVnZXggZXhwLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gaXNDdXN0b21WYWxpZGF0aW9uIChmaWVsZFZhbHVlLCBwYXJtVmFsdWUpIHtcclxuICAgIHBhcm1WYWx1ZSA9IHBhcm1WYWx1ZS5zcGxpdCgnIyMjJylbMF07XHJcbiAgICBwYXJtVmFsdWUgPSBwYXJtVmFsdWUuc3BsaXQoJ29yJykuam9pbignfCcpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXJtVmFsdWUsICdnJyk7XHJcbiAgICAgIGlmICghcmVnZXgudGVzdChmaWVsZFZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgbW9kdWxlLmxvZygnSW52YWxpZCBjdXN0b20gdmFsaWRhdGlvbiByZWdleCBleHByZXNzaW9uJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBpc1ZhbGlkRGF0ZVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGVTdHJpbmcgZGF0ZVxyXG4gICogQHJldHVybiB7Qm9vbGVhbn0gZmxhZyBnaXZlbiBkYXRlIGlzIHZhbGlkXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHZhbGlkYXRlIGdpdmVuIGRhdGUuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSAoZGF0ZVN0cmluZykge1xyXG4gICAgdmFyIHBhcnRzID0gZGF0ZVN0cmluZy5zcGxpdCgnLycpO1xyXG4gICAgaWYgKGRhdGVTdHJpbmcuaW5kZXhPZignLScpICE9PSAtMSkge1xyXG4gICAgICBwYXJ0cyA9IGRhdGVTdHJpbmcuc3BsaXQoJy0nKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGF5ID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTtcclxuICAgIHZhciBtb250aCA9IHBhcnNlSW50KHBhcnRzWzBdLCAxMCk7XHJcbiAgICB2YXIgeWVhciA9IHBhcnNlSW50KHBhcnRzWzJdLCAxMCk7XHJcblxyXG4gICAgLy8gQ2hlY2sgdGhlIHJhbmdlcyBvZiBtb250aCBhbmQgeWVhclxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcclxuICAgIGlmICh5ZWFyIDwgMTAwMCB8fCB5ZWFyID4gMzAwMCB8fCBtb250aCA9PT0gMCB8fCBtb250aCA+IDEyKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICB2YXIgbW9udGhMZW5ndGggPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XHJcblxyXG4gICAgLy8gQWRqdXN0IGZvciBsZWFwIHllYXJzXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgaWYgKHllYXIgJSA0MDAgPT09IDAgfHwgKHllYXIgJSAxMDAgIT09IDAgJiYgeWVhciAlIDQgPT09IDApKSB7IG1vbnRoTGVuZ3RoWzFdID0gMjk7IH1cclxuXHJcbiAgICAvLyBDaGVjayB0aGUgcmFuZ2Ugb2YgdGhlIGRheVxyXG4gICAgcmV0dXJuIGRheSA+IDAgJiYgZGF5IDw9IG1vbnRoTGVuZ3RoW21vbnRoIC0gMV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gaGFuZGxlRm9ybVJlc3BvbnNlXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gZm9ybSBodG1sIGRvbVxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVjYXB0Y2hhaWQgaWRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWVcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIGZvcm0gcmVzcG9uc2UgYWZ0ZXIgdmFsaWRhdGlvbi5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIGhhbmRsZUZvcm1SZXNwb25zZSAoZm9ybSwgb25TdWNjZXNzLCByZWNhcHRjaGFpZCwgbmFtZSkge1xyXG4gICAgdmFyIHRlbmNlbnRDYXB0Y2hhSWQgPSBtb2R1bGUudXRpbC5lbGVtZW50QnlJZChyZWNhcHRjaGFpZCArICdfdGVuY2VudCcpO1xyXG4gICAgdmFyIGRvbVJlY2FwdGNoYSA9IG1vZHVsZS51dGlsLmVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkKTtcclxuICAgIGlmICh3aW5kb3cuZ3JlY2FwdGNoYSAmJiBtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEgJiYgZG9tUmVjYXB0Y2hhICYmIGRvbVJlY2FwdGNoYS5pbm5lckhUTUwgIT09ICcnICYmIGRvbVJlY2FwdGNoYS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIHtcclxuICAgICAgZ3JlY2FwdGNoYS5leGVjdXRlKHdpbmRvd1tyZWNhcHRjaGFpZCArICdscl9yZWNhcHRjaGFfd2lkZ2V0c19pZHByZWZpeCddKTtcclxuICAgIH0gZWxzZSBpZiAodGVuY2VudENhcHRjaGFJZCAmJiB0ZW5jZW50Q2FwdGNoYUlkLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJyAmJiAobW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGEgfHwgKG1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhQXNGYWxsYmFjayAmJiAhd2luZG93LmdyZWNhcHRjaGEpKSkge1xyXG4gICAgICB3aW5kb3cub25UZW5jZW50Q2FwdGNoYVN1Ym1pdENhbGxiYWNrID0gZnVuY3Rpb24gKGNhcHRjaGFSZXNwb25zZSkge1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhjYXB0Y2hhUmVzcG9uc2UpO1xyXG4gICAgICAgIHZhciBzZXJpYWxpemVkRm9ybSA9IG1vZHVsZS51dGlsLnNlcmlhbGl6ZShmb3JtKTtcclxuICAgICAgICBzZXJpYWxpemVkRm9ybSArPSAnJnFxX2NhcHRjaGFfdGlja2V0PScgKyBjYXB0Y2hhUmVzcG9uc2UudGlja2V0O1xyXG4gICAgICAgIHNlcmlhbGl6ZWRGb3JtICs9ICcmcXFfY2FwdGNoYV9yYW5kc3RyPScgKyBjYXB0Y2hhUmVzcG9uc2UucmFuZHN0cjtcclxuICAgICAgICBvblN1Y2Nlc3Moc2VyaWFsaXplZEZvcm0pO1xyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25TdWNjZXNzKG1vZHVsZS51dGlsLnNlcmlhbGl6ZShmb3JtKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gY3JlYXRlT25lQ2xpY2tCdXR0b25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBmbGFnIG5hbWUgb2YgdGhlIGxhYmVsXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gZm9ybSBodG1sIGRvbVxyXG4gICogQHBhcmFtIHtPYmplY3R9IGJ0bkxvZ2luU3VibWl0IGJ1dHRvbiBkb20gZWxlbWVudFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9pZFByZWZpeCBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggaHRtbCBlbGVtZW50IGNsYXNzXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBPbmUgQ2xpY2sgQnV0dG9uLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gY3JlYXRlT25lQ2xpY2tCdXR0b24gKGZsYWcsIGZvcm0sIGJ0bkxvZ2luU3VibWl0LCBfaWRQcmVmaXgsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdmFyIElEbGFiZWwgPSAnbGlua3NpZ25pbic7XHJcbiAgICBpZiAoZmxhZyA9PT0gJ3Bhc3N3b3JkbGVzc0xvZ2luT1RQQnV0dG9uTGFiZWwnKSB7XHJcbiAgICAgIElEbGFiZWwgPSAnb3Rwc2lnbmluJztcclxuICAgIH1cclxuICAgIHZhciBzdWJtaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgc3VibWl0LnR5cGUgPSAnc3VibWl0JztcclxuICAgIHZhciBidXR0b25OYW1lID0gbW9kdWxlLmJ1dHRvbnNOYW1lW2ZsYWcudG9Mb3dlckNhc2UoKV0gfHwgZGVmYXVsdEJ1dHRvbnNOYW1lW2ZsYWcudG9Mb3dlckNhc2UoKV07XHJcbiAgICB2YXIgYnV0dG9uS2V5TmFtZSA9IGRlZmF1bHRCdXR0b25zTmFtZVtmbGFnLnRvTG93ZXJDYXNlKCldO1xyXG4gICAgc3VibWl0LnZhbHVlID0gYnV0dG9uTmFtZTtcclxuICAgIHN1Ym1pdC5pZCA9IF9pZFByZWZpeCArIElEbGFiZWwgKyAnLScgKyBidXR0b25LZXlOYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnLScpO1xyXG4gICAgc3VibWl0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBfY2xhc3NQcmVmaXggKyBJRGxhYmVsICsgJyAnICsgSURsYWJlbCArICctJyArIF9pZFByZWZpeCArIGJ1dHRvbktleU5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICctJykpO1xyXG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVCdXR0b25PbnN1Ym1pdCkge1xyXG4gICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdzdGFydFByb2Nlc3MnLCBmdW5jdGlvbiAoYWN0aW9uKSB7XHJcbiAgICAgICAgaWYgKChJRGxhYmVsID09PSAnb3Rwc2lnbmluJyAmJiB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW5vdHAnXSkgfHwgKElEbGFiZWwgPT09ICdsaW5rc2lnbmluJyAmJiB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW4nXSkpIHtcclxuICAgICAgICAgIHN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcigneGhyRW5kV2l0aEVycm9yJywgZnVuY3Rpb24gKGFjdGlvbikge1xyXG4gICAgICAgIGlmICgoSURsYWJlbCA9PT0gJ290cHNpZ25pbicgJiYgd2luZG93WydscnBhc3N3b3JkbGVzc2xvZ2lub3RwJ10pIHx8IChJRGxhYmVsID09PSAnbGlua3NpZ25pbicgJiYgd2luZG93WydscnBhc3N3b3JkbGVzc2xvZ2luJ10pKSB7XHJcbiAgICAgICAgICBzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCd4aHJFbmRXaXRoU3VjY2VzcycsIGZ1bmN0aW9uIChhY3Rpb24pIHtcclxuICAgICAgICBpZiAoKChJRGxhYmVsID09PSAnb3Rwc2lnbmluJyAmJiB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW5vdHAnXSkgfHwgKElEbGFiZWwgPT09ICdsaW5rc2lnbmluJyAmJiB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW4nXSkpICYmIG1vZHVsZS5vcHRpb25zLmVuYWJsZVN1Ym1pdE9uU3VjY2Vzcykge1xyXG4gICAgICAgICAgc3VibWl0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0KTtcclxuICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIGJ0bkxvZ2luU3VibWl0LCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgd2luZG93WydscnBhc3N3b3JkbGVzc2xvZ2lub3RwJ10gPSBmYWxzZTtcclxuICAgICAgd2luZG93WydscnBhc3N3b3JkbGVzc2xvZ2luJ10gPSBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGZsYWcgPT09ICdwYXNzd29yZGxlc3NMb2dpbk9UUEJ1dHRvbkxhYmVsJykge1xyXG4gICAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCBzdWJtaXQsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbm90cCddID0gdHJ1ZTtcclxuICAgICAgICB3aW5kb3dbJ2xycGFzc3dvcmRsZXNzbG9naW4nXSA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIHN1Ym1pdCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgd2luZG93WydscnBhc3N3b3JkbGVzc2xvZ2luJ10gPSB0cnVlO1xyXG4gICAgICAgIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbm90cCddID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBzaG93UVJDb2RlXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBqc29uIG9iamVjdFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRIaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgUVIgY29kZSBhbmQgc2hvdyB0aGUgUVIgY29kZS5cclxuICAqL1xyXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2hvd1FSQ29kZSA9IGZ1bmN0aW9uIChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xyXG4gICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5RUkNvZGVTY2hlbWEuc2xpY2UoKTtcclxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5tYXNrU2Vuc2l0aXZlSW5wdXQpIHtcclxuICAgICAgc2NoZW1hWzBdLnR5cGUgPSAncGFzc3dvcmQnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2NoZW1hWzBdLnR5cGUgPSAnc3RyaW5nJztcclxuICAgIH1cclxuICAgIHZhciBjcmVhdGVRUlNjaGVtYSA9IGZ1bmN0aW9uIChxckNvZGUsIG1hbnVhbEVudHJ5Q29kZSkge1xyXG4gICAgICBpZiAocXJDb2RlKSB7XHJcbiAgICAgICAgc2NoZW1hLnNwbGljZSgwLCAwLCB7XHJcbiAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxyXG4gICAgICAgICAgbmFtZTogJ3FyY29kZScsXHJcbiAgICAgICAgICBkaXNwbGF5OiAnUVIgQ29kZScsXHJcbiAgICAgICAgICBydWxlczogJycsXHJcbiAgICAgICAgICBwZXJtaXNzaW9uOiAncicsXHJcbiAgICAgICAgICB2YWx1ZTogcXJDb2RlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG1hbnVhbEVudHJ5Q29kZSkge1xyXG4gICAgICAgIHZhciBfY2xhc3NQcmVmaXhfID0gX2NsYXNzUHJlZml4IHx8IExvZ2luUmFkaXVzRGVmYXVsdHMuY2xhc3NQcmVmaXg7XHJcbiAgICAgICAgc2NoZW1hLnNwbGljZSgxLCAwLCB7XHJcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgICAgIG5hbWU6ICdNYW51YWxFbnRyeUNvZGUnLFxyXG4gICAgICAgICAgZGlzcGxheTogJ0dldCBNYW51YWwgRW50cnkgQ29kZScsXHJcbiAgICAgICAgICBydWxlczogJycsXHJcbiAgICAgICAgICBwZXJtaXNzaW9uOiAncicsXHJcbiAgICAgICAgICB0aXRsZTogXCJVc2UgdGhpcyBjb2RlIHdoZW4geW91IHVuYWJsZSB0byBzY2FuIFFSIGNvZGUuIFRhcCAnRW50ZXIgYSBwcm92aWRlZCBrZXknIHRoZW4gZW50ZXIgdGhlIGVtYWlsIGFkZHJlc3Mgb2YgeW91ciBBY2NvdW50IGFuZCBlbnRlciB0aGlzIGtleSBpbiB5b3VyIGF1dGhlbnRpY2F0b3IgYXBwXCIsXHJcbiAgICAgICAgICBldmVudDogJ2NsaWNrJyxcclxuICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbnRlbnQtJyArIF9jbGFzc1ByZWZpeF8gKyAnTWFudWFsRW50cnlDb2RlJylbMF07XHJcbiAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gbWFudWFsRW50cnlDb2RlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBxckNvZGU7XHJcbiAgICB2YXIgbWFudWFsRW50cnlDb2RlO1xyXG4gICAgdmFyIGZsYWcgPSB0cnVlO1xyXG4gICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBwcml2YXRlRnVuY3Rpb25zTW9kdWxlKTtcclxuICAgIGlmIChkYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uKSB7XHJcbiAgICAgIHFyQ29kZSA9IGRhdGEuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uUVJDb2RlO1xyXG4gICAgICBtYW51YWxFbnRyeUNvZGUgPSBkYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLk1hbnVhbEVudHJ5Q29kZTtcclxuICAgICAgaWYgKCFkYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLklzR29vZ2xlQXV0aGVudGljYXRvclZlcmlmaWVkKSB7XHJcbiAgICAgICAgY3JlYXRlUVJTY2hlbWEocXJDb2RlLCBtYW51YWxFbnRyeUNvZGUpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmbGFnID0gZmFsc2U7XHJcbiAgICAgIHFyQ29kZSA9IGRhdGEuUVJDb2RlO1xyXG4gICAgICBtYW51YWxFbnRyeUNvZGUgPSBkYXRhLk1hbnVhbEVudHJ5Q29kZTtcclxuICAgICAgaWYgKCFkYXRhLklzR29vZ2xlQXV0aGVudGljYXRvclZlcmlmaWVkKSB7XHJcbiAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgY3JlYXRlUVJTY2hlbWEocXJDb2RlLCBtYW51YWxFbnRyeUNvZGUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBvdHBBdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRPVFBBdXRoKTtcclxuICAgICAgICBpZiAoKG90cEF1dGggIT09ICdmYWxzZScgJiYgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHx8IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHtcclxuICAgICAgICAgIHZhciByZXNldEJ0biA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgnZGlzYWJsZWdvb2dsZWF1dGhlbnRpY2F0b3InLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCByZXNldEJ0bik7XHJcbiAgICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCByZXNldEJ0biwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJzLnJlc2V0VHdvRmFjdG9yQXV0aGVudGljYXRpb25Db250cm9sbGVyKCdnb29nbGVhdXRoZW50aWNhdG9yJywgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGZsYWcpIHtcclxuICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVGb3JtKHNjaGVtYSwgJ3Nob3dRUmNvZGUnLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgY29udHJvbGxlcnMudmVyaWZ5MkZBT1RQQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gKGVycm9ycykge1xyXG4gICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgICAgfSwgX2NsYXNzUHJlZml4KTtcclxuICAgIH1cclxuICB9O1xyXG4gIHZhciBzb2NpYWxMb2dpbkFQSSA9IGZhbHNlO1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBzb2NpYWxMb2dpblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHRoZSBzb2NpYWwgbG9naW4gcHJvY2Vzcy5cclxuICAqL1xyXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc29jaWFsTG9naW4gPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBwcml2YXRlRnVuY3Rpb25zTW9kdWxlKTtcclxuICAgIHdpbmRvdy5odG1sNXBhc3NUb2tlbiA9IGZ1bmN0aW9uICh0b2spIHtcclxuICAgICAgaWYgKCFzb2NpYWxMb2dpbkFQSSkge1xyXG4gICAgICAgIHNvY2lhbExvZ2luQVBJID0gdHJ1ZTtcclxuICAgICAgICBjb250YWluZXIgPSBMb2dpblJhZGl1c0RlZmF1bHRzLnNvY2lhbFJlZ0Zvcm1JZCB8fCBjb250YWluZXI7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRBY3Rpb24gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZSgnTFJTZXRTYWZhcmlUb2tlbicpO1xyXG4gICAgICAgIGlmIChjdXJyZW50QWN0aW9uKSB7XHJcbiAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ2dldEN1cnJlbnRBY3Rpb25PcHRpb25zJywgY3VycmVudEFjdGlvbik7XHJcbiAgICAgICAgICBvblN1Y2Nlc3MgPSB3aW5kb3cuTFJTYWZhcmlvblN1Y2Nlc3MgfHwgb25TdWNjZXNzO1xyXG4gICAgICAgICAgb25FcnJvciA9IHdpbmRvdy5MUlNhZmFyaW9uRXJyb3IgfHwgb25FcnJvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udHJvbGxlcnMuc29jaWFsTG9naW5SZWNlaXZlVG9rZW4odG9rLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBsclRva2VuID0gbW9kdWxlLnV0aWwuZ2V0SGFzaFBhcmFtKCdsci10b2tlbicpO1xyXG4gICAgaWYgKGxyVG9rZW4pIHtcclxuICAgICAgd2luZG93Lmh0bWw1cGFzc1Rva2VuKGxyVG9rZW4pO1xyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5sb2dpblJhZGl1c0h0bWw1UGFzc1Rva2VuID0gd2luZG93Lmh0bWw1cGFzc1Rva2VuO1xyXG4gICAgaWYgKCFtb2R1bGUub3B0aW9ucy5pc01vYmlsZSAmJiAhbW9kdWxlLm9wdGlvbnMubm9DYWxsYmFja0ZvclNvY2lhbExvZ2luKSB7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdtZXNzYWdlJywgd2luZG93LCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQub3JpZ2luLmluZGV4T2YobW9kdWxlLm9wdGlvbnMuY3VzdG9tRG9tYWluKSA9PT0gLTEgJiYgZXZlbnQub3JpZ2luLmluZGV4T2YoTG9naW5SYWRpdXNEZWZhdWx0cy5odWJEb21haW4pID09PSAtMSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250YWluZXIgPSBMb2dpblJhZGl1c0RlZmF1bHRzLnNvY2lhbFJlZ0Zvcm1JZCB8fCBjb250YWluZXI7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudC5kYXRhID09PSAnc3RyaW5nJyAmJiBMb2dpblJhZGl1c0RlZmF1bHRzLl91dWlkRm9ybWF0LnRlc3QoZXZlbnQuZGF0YSkpIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXJzLnNvY2lhbExvZ2luUmVjZWl2ZVRva2VuKGV2ZW50LmRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdzb2NpYWxDYWxscycsIGZ1bmN0aW9uIChwcm92aWRlciwgY2xpZW50R3VpZCkge1xyXG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5ub0NhbGxiYWNrRm9yU29jaWFsTG9naW4pIHtcclxuICAgICAgICAgIHZhciBvbkhhbmRsZVNtYXJ0TG9naW5TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHtcclxuICAgICAgICAgICAgICBjb250cm9sbGVycy5zb2NpYWxMb2dpblJlY2VpdmVUb2tlbihyZXNwb25zZS5hY2Nlc3NfdG9rZW4sIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnBpbmdGb3JTbWFydExvZ2luKGNsaWVudEd1aWQsIG9uSGFuZGxlU21hcnRMb2dpblN1Y2Nlc3MsIGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBmZGF0YSBqc29uIG9iamVjdCB3aGljaCBob2xkICdlbWFpbCcsICd1c2VybmFtZSdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSB0aGUgcmVzZXQgcGFzc3dvcmQgcHJvY2Vzcy5cclxuICAqL1xyXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBmZGF0YSkge1xyXG4gICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5yZXNldFBhc3N3b3JkRm9ybVNjaGVtYS5zbGljZSgpO1xyXG4gICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBwcml2YXRlRnVuY3Rpb25zTW9kdWxlKTtcclxuICAgIHZhciB2dHlwZSA9IG1vZHVsZS51dGlsLmdldEhhc2hQYXJhbSgndnR5cGUnKTtcclxuICAgIHZhciBmbmRhdGE7XHJcbiAgICB2YXIgcGhvbmVObztcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXHJcbiAgICBpZiAodnR5cGUgPT0gbnVsbCkge1xyXG4gICAgICBzY2hlbWEgPSBtb2R1bGUucmVzZXRQYXNzd29yZEJ5UGhvbmVTY2hlbWEuc2xpY2UoKTtcclxuICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAncGFzc3dvcmQnKSk7XHJcbiAgICAgIGlmIChmZGF0YSkge1xyXG4gICAgICAgIHZhciBkYXRhS2V5LCBkYXRhVmFsdWU7XHJcbiAgICAgICAgaWYgKGZkYXRhLmVtYWlsKSB7XHJcbiAgICAgICAgICBkYXRhS2V5ID0gJ2VtYWlsJztcclxuICAgICAgICAgIGRhdGFWYWx1ZSA9IGZkYXRhLmVtYWlsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZmRhdGEudXNlcm5hbWUpIHtcclxuICAgICAgICAgIGRhdGFLZXkgPSAndXNlcm5hbWUnO1xyXG4gICAgICAgICAgZGF0YVZhbHVlID0gZmRhdGEudXNlcm5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjaGVtYS5wdXNoKHtcclxuICAgICAgICAgIHR5cGU6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgbmFtZTogZGF0YUtleSxcclxuICAgICAgICAgIHZhbHVlOiBkYXRhVmFsdWVcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luKSB7XHJcbiAgICAgICAgcGhvbmVObyA9ICcmJyArIExvZ2luUmFkaXVzRGVmYXVsdHMuTFJQaG9uZU5vO1xyXG4gICAgICAgIGlmICghbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAncmVzZW5kb3RwJykpIHtcclxuICAgICAgICAgIHZhciByZXNlbmRCdG5PVFBTY2hlbWEgPSBPYmplY3QuYXNzaWduKHt9LCBtb2R1bGUuYnRuT1RQU2NoZW1hLCB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdyZXNlbmRvdHAnLFxyXG4gICAgICAgICAgICBkaXNwbGF5OiAnUmVzZW5kIE9UUCcsXHJcbiAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJzLmZvcmdvdFBhc3N3b3JkYnlQaG9uZUNvbnRyb2xsZXIoTG9naW5SYWRpdXNEZWZhdWx0cy5MUlBob25lTm8sIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2NoZW1hLnB1c2gocmVzZW5kQnRuT1RQU2NoZW1hKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0UGFzc3dvcmRSdWxlKG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3Bhc3N3b3JkJykpO1xyXG4gICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldFBhc3N3b3JkUnVsZShtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdjb25maXJtcGFzc3dvcmQnKSk7XHJcbiAgICAgIHZhciB2dG9rZW4gPSBtb2R1bGUudXRpbC5nZXRIYXNoUGFyYW0oJ3Z0b2tlbicpO1xyXG4gICAgICBpZiAoIXZ0b2tlbikge1xyXG4gICAgICAgIG9uRXJyb3IoW3tcclxuICAgICAgICAgIE1lc3NhZ2U6ICdWZXJpZmljYXRpb24gVG9rZW4gbm90IGZvdW5kIGluIHF1ZXJ5IHN0cmluZy4nXHJcbiAgICAgICAgfV0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy52ZXJpZnlFbWFpbEJ5T1RQKSB7XHJcbiAgICAgICAgICB2YXIgX2VtYWlsID0gbW9kdWxlLnV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ2VtYWlsJyk7XHJcbiAgICAgICAgICBmbmRhdGEgPSAnJm90cD0nICsgdnRva2VuO1xyXG4gICAgICAgICAgZm5kYXRhICs9ICcmZW1haWw9JyArIGVuY29kZVVSSUNvbXBvbmVudChfZW1haWwucmVwbGFjZSgvIC9nLCAnKycpKTtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgICBzY2hlbWEuc3BsaWNlKDIsIDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb2R1bGUucmVzZXRQYXNzd29yZEZvcm1TY2hlbWFbMl0udmFsdWUgPSB2dG9rZW47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZUZvcm0oc2NoZW1hLCAncmVzZXRwYXNzd29yZCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgaWYgKGRhdGEuaW5kZXhPZignb3RwJykgIT09IC0xICYmICFmZGF0YSkge1xyXG4gICAgICAgIGNvbnRyb2xsZXJzLnJlc2V0UGFzc3dvcmRCeVBob25lQ29udHJvbGxlcihkYXRhICsgcGhvbmVObywgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGZuZGF0YSkge1xyXG4gICAgICAgICAgZGF0YSArPSBmbmRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRyb2xsZXJzLnJlc2V0UGFzc3dvcmRDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICB9XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgfTtcclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBzZXRQYXNzd29yZFJ1bGVcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBmaWVsZCBqc29uIG9iamVjdCB3aGljaCBob2xkIGZvcm0gZmllbGQgaW5mb1xyXG4gICogQHBhcmFtIHtTdHJpbmd9IGxvZ2luQWN0aW9uIGFjdGlvbiBuYW1lIGV4LiAnbG9naW4nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGhhbmRsZSBzZXQgcGFzc3dvcmQgcnVsZXMgcHJvY2Vzcy5cclxuICAqL1xyXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0UGFzc3dvcmRSdWxlID0gZnVuY3Rpb24gKGZpZWxkLCBsb2dpbkFjdGlvbikge1xyXG4gICAgbW9kdWxlLm9wdGlvbnMucGFzc3dvcmRMZW5ndGggPSBtb2R1bGUub3B0aW9ucy5wYXNzd29yZGxlbmd0aCB8fCBtb2R1bGUub3B0aW9ucy5wYXNzd29yZExlbmd0aDtcclxuICAgIHZhciBwYXNzd29yZFJ1bGVzID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKG1vZHVsZS5vcHRpb25zLlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEsICduYW1lJywgJ3Bhc3N3b3JkJykucnVsZXM7XHJcbiAgICBpZiAoZmllbGQgJiYgZmllbGQucnVsZXMpIHtcclxuICAgICAgdmFyIG1hdGNoUnVsZVBhdHRlcm4gPSBuZXcgUmVnRXhwKC9tYXRjaGVzXFxbXFx3KlxcXS8pO1xyXG4gICAgICB2YXIgbWF0Y2hSdWxlUmVzID0gbWF0Y2hSdWxlUGF0dGVybi5leGVjKGZpZWxkLnJ1bGVzKTtcclxuICAgICAgaWYgKG1hdGNoUnVsZVJlcykge1xyXG4gICAgICAgIHZhciBtYXRjaFJ1bGVTdHJpbmcgPSBtYXRjaFJ1bGVSZXNbMF07XHJcbiAgICAgICAgZmllbGQucnVsZXMgPSBbcGFzc3dvcmRSdWxlcywgbWF0Y2hSdWxlU3RyaW5nXS5qb2luKCd8Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmllbGQucnVsZXMgPSBwYXNzd29yZFJ1bGVzO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5wYXNzd29yZExlbmd0aCAmJiBtb2R1bGUub3B0aW9ucy5wYXNzd29yZExlbmd0aC5taW4gJiYgbW9kdWxlLm9wdGlvbnMucGFzc3dvcmRMZW5ndGgubWF4KSB7XHJcbiAgICAgICAgZmllbGQucnVsZXMgPSBmaWVsZC5ydWxlcyB8fCAnJztcclxuICAgICAgICBmaWVsZC5ydWxlcyA9IGZpZWxkLnJ1bGVzLnJlcGxhY2UoJ21pbl9sZW5ndGhbNl0nLCAnbWluX2xlbmd0aFsnICsgbW9kdWxlLm9wdGlvbnMucGFzc3dvcmRMZW5ndGgubWluICsgJ10nKVxyXG4gICAgICAgICAgLnJlcGxhY2UoJ21heF9sZW5ndGhbMzJdJywgJ21heF9sZW5ndGhbJyArIG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkTGVuZ3RoLm1heCArICddJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGxvZ2luQWN0aW9uID0gbG9naW5BY3Rpb24gfHwgZmFsc2U7XHJcbiAgICBpZiAobG9naW5BY3Rpb24gJiYgZmllbGQpIHtcclxuICAgICAgZmllbGQucnVsZXMgPSAncmVxdWlyZWQnO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gY2hhbmdlTnVtYmVyRm9ybVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkIHRvIGhvbGQgZGlmZmVyZW50IGZvcm1zXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gZm9ybUVsZW1lbnQgaHRtbCBkb20gZWxlbWVudFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBpbm5lckh0bWwgdmFsdWUgd2hpY2ggd2FudCBkaXNwbGF5IGluIGh0bWwgZWxlbWVudFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIENyZWF0ZSBjaGFuZ2UgcGhvbmUgbnVtYmVyIGZvcm0gYW5kIGFkZCBldmVudCBvbiBjaGFuZ2UsIHJlc2V0IGJ1dHRvbnMuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNoYW5nZU51bWJlckZvcm0gPSBmdW5jdGlvbiAoY29udGFpbmVyLCBmb3JtRWxlbWVudCwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIGlubmVySHRtbCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcclxuICAgIHZhciBjaGFuZ2VCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2NoYW5nZW51bWJlcicsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICB2YXIgcmVzZXRCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2Rpc2FibGVvdHBhdXRoZW50aWNhdG9yJywgX2NsYXNzUHJlZml4KTtcclxuICAgIHZhciBnb29nbGVBdXRoID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRHQUF1dGgpO1xyXG4gICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xyXG4gICAgaWYgKGZvcm1FbGVtZW50KSB7XHJcbiAgICAgIGZvcm1FbGVtZW50LmFwcGVuZENoaWxkKGNoYW5nZUJ0bik7XHJcbiAgICAgIGlmICh0b2tlbiAmJiAhbW9kdWxlLkxSQ2hlY2tMb2dpbiAmJiAobW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbiB8fCAoZ29vZ2xlQXV0aCAhPT0gJ2ZhbHNlJyAmJiBtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbikpKSB7XHJcbiAgICAgICAgZm9ybUVsZW1lbnQuYXBwZW5kQ2hpbGQocmVzZXRCdG4pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGNoYW5nZUJ0biwgaW5uZXJIdG1sKTtcclxuICAgICAgaWYgKHRva2VuICYmICFtb2R1bGUuTFJDaGVja0xvZ2luICYmIChtb2R1bGUub3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIHx8IChnb29nbGVBdXRoICE9PSAnZmFsc2UnICYmIG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSkpIHtcclxuICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIHJlc2V0QnRuLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIHJlc2V0QnRuLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBwcml2YXRlRnVuY3Rpb25zTW9kdWxlKTtcclxuICAgICAgY29udHJvbGxlcnMucmVzZXRUd29GYWN0b3JBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIoJ290cGF1dGhlbnRpY2F0b3InLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfSk7XHJcbiAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCBjaGFuZ2VCdG4sIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICB2YXIgZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShfY2xhc3NQcmVmaXggKyAnY2hhbmdlUGhvbmUnKVswXTtcclxuICAgICAgaWYgKCFmb3JtRWxlbWVudCkge1xyXG4gICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUudXBkYXRlUGhvbmVOdW1iZXIoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgJ2NoYW5nZVBob25lJywgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIHZhbGlkYXRlQW5kQ2FsbFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB2YWxpZGF0ZSBzc28gYW5kIGNhbGwgYmFjayBmdW5jdGlvbiBpZiBhcHAgbmFtZSBleGlzdC4gSXQgd2lsbCB0ZXJtaW5hdGUgdGhlIHNlc3Npb24gb2Ygc3NvIHdoZW4gdXNlciBsb2dvdXQgZnJvbSBzaXRlLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS52YWxpZGF0ZUFuZENhbGwgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgaWYgKExvZ2luUmFkaXVzRGVmYXVsdHMuaXNTU09Jbml0RmlyZWQpIHtcclxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmFwcE5hbWUpIHtcclxuICAgICAgICBmdW5jKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbW9kdWxlLmxvZygnTG9naW5SYWRpdXMgc2l0ZSBuYW1lIChhcHAgbmFtZSkgcmVxdWlyZWQgdG8gZG8gU1NPJyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1vZHVsZS5sb2coJ0luaXQgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgZmlyc3QgdGhlbiBsb2dpbi4nKTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIGxvZ291dFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSB0aGUgc3NvIGxvZ291dCBwcm9jZXNzLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dvdXQgPSBmdW5jdGlvbiAob25TdWNjZXNzKSB7XHJcbiAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnZhbGlkYXRlQW5kQ2FsbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciB0b2tlbkV4cGlyeVBhcmFtZXRlciA9IG1vZHVsZS5vcHRpb25zLnRva2VuRXhwaXJlID8gJz90b2tlbkV4cGlyZT0xJyA6ICcnO1xyXG4gICAgICB2YXIgYWN0aW9uID0gbW9kdWxlLm9wdGlvbnMudG9rZW5FeHBpcmUgPyAndG9rZW5FeHBpcmUnIDogJ2xvZ291dCc7XHJcbiAgICAgIHZhciBkb21haW4gPSBtb2R1bGUub3B0aW9ucy5jdXN0b21Eb21haW4gfHwgbW9kdWxlLm9wdGlvbnMuYXBwTmFtZSArICcuJyArIExvZ2luUmFkaXVzRGVmYXVsdHMuaHViRG9tYWluO1xyXG4gICAgICBtb2R1bGUudXRpbC5qc29ucENhbGwoJ2h0dHBzOi8vJyArIGRvbWFpbiArICcvc3NvbG9naW4vJyArIGFjdGlvbiArIHRva2VuRXhwaXJ5UGFyYW1ldGVyLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIExSTmFtZVNwYWNlLmNvb2tpZXMucmVtb3ZlSXRlbShMb2dpblJhZGl1c0RlZmF1bHRzLnRva2VuQ29va2llLCBtb2R1bGUub3B0aW9ucy5hcHBQYXRoKTtcclxuICAgICAgICBtb2R1bGUuY2xlYXJTZXNzaW9uKCk7XHJcbiAgICAgICAgaWYgKG9uU3VjY2Vzcykge1xyXG4gICAgICAgICAgb25TdWNjZXNzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnbG9nb3V0Jyk7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIG90cEVtYWlsVmVyaWZpY2F0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWQgdG8gaG9sZCBkaWZmZXJlbnQgZm9ybXNcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gZmRhdGEganNvbiBvYmplY3Qgd2hpY2ggaG9sZCAnZW1haWwnICd1c2VybmFtZSdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSBvdHBFbWFpbFZlcmlmaWNhdGlvbiBwcm9jZXNzIGFuZCBjcmVhdGUgZm9ybSBvZiB0aGF0LlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5vdHBFbWFpbFZlcmlmaWNhdGlvbiA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBmZGF0YSkge1xyXG4gICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5vdHBTY2hlbWE7XHJcbiAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZUZvcm0oc2NoZW1hLCAnb3RwJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICB2YXIgcGFyYW0gPSAnJztcclxuICAgICAgaWYgKHR5cGVvZiBmZGF0YSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICBkYXRhID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcclxuICAgICAgICBwYXJhbSA9IG1vZHVsZS51dGlsLm1lcmdlT3B0aW9ucyhmZGF0YSwgZGF0YSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGFyYW0gPSBmZGF0YSArICcmJyArIGRhdGE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBjb250cm9sbGVycyA9IG5ldyBMb2dpblJhZGl1c0NvbnRyb2xsZXJzKG1vZHVsZSwgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZSk7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmVtYWlsVmVyaWZpY2F0aW9uQ29udHJvbGxlcihwYXJhbSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCwgdHJ1ZSk7XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgfTtcclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBsb2dpbkhhbmRsZVRva2VuXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gcmVnUmVzcG9uc2UgYXBpIHJlc3BvbnNlIG9iamVjdCBob2xkIGVycm9yIG9yIHN1Y2Nlc3MgY29kZVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBzdHJpbmcgaG9sZCBlbWFpbCBhbmQgcGFzc3dvcmQgdmFsdWVzXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtCb29sZWFufSBvbmVUb3VjaExvZ2luIGZsYWcgZm9yIG9uZVRvdWNoTG9naW4gZW5hYmxlZCBvciBub3RcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIHVzZXIgYWNjb3VudCBsb2dpbiBwcm9jZXNzLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpbkhhbmRsZVRva2VuID0gZnVuY3Rpb24gKHJlZ1Jlc3BvbnNlLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgb25lVG91Y2hMb2dpbikge1xyXG4gICAgTG9naW5SYWRpdXNEZWZhdWx0cy5sclJlc3BvbnNlQ291bnRlciA9IDA7XHJcbiAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmxyQ291bnRlckp3dFJlc3BvbnNlID0gJyc7XHJcbiAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmxyQ291bnRlclRva2VuUmVzcG9uc2UgPSAnJztcclxuICAgIGlmIChyZWdSZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVnUmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVnUmVzcG9uc2UpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAocmVnUmVzcG9uc2UuRGF0YSAmJiByZWdSZXNwb25zZS5EYXRhLmhhc093blByb3BlcnR5KCdQcm9maWxlJykpIHtcclxuICAgICAgICAgIHJlZ1Jlc3BvbnNlID0gcmVnUmVzcG9uc2UuRGF0YTtcclxuICAgICAgICAgIGRlbGV0ZSByZWdSZXNwb25zZS5EYXRhO1xyXG4gICAgICAgICAgZGVsZXRlIHJlZ1Jlc3BvbnNlLklzUG9zdGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMucHJpdmFjeVBvbGljeUNvbmZpZ3VyYXRpb24uSXNFbmFibGVkICYmIHJlZ1Jlc3BvbnNlLlByb2ZpbGUpIHtcclxuICAgICAgICAgIHZhciBpc0xhdGVzdFByaXZhY3lQb2xpY3kgPSBmYWxzZTtcclxuICAgICAgICAgIGlmIChyZWdSZXNwb25zZS5Qcm9maWxlLlByaXZhY3lQb2xpY3kgJiYgcmVnUmVzcG9uc2UuUHJvZmlsZS5Qcml2YWN5UG9saWN5LlZlcnNpb24pIHtcclxuICAgICAgICAgICAgaXNMYXRlc3RQcml2YWN5UG9saWN5ID0gcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jaGVja0ZvckxhdGVzdFByaXZhY3lQb2xpY3kocmVnUmVzcG9uc2UuUHJvZmlsZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZWdSZXNwb25zZS5Qcm9maWxlID0gT2JqZWN0LmFzc2lnbih7fSwgcmVnUmVzcG9uc2UuUHJvZmlsZSwge1xyXG4gICAgICAgICAgICAnSXNMYXRlc3RQcml2YWN5UG9saWN5JzogaXNMYXRlc3RQcml2YWN5UG9saWN5XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhhbmRsZVRva2VuUmVzcG9uc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAobW9kdWxlLkxvZ2luUmFkaXVzSG9zdGVkUGFnZSkge1xyXG4gICAgICAgICAgICBMUk5hbWVTcGFjZS5jb29raWVzLnNldEl0ZW0oJ2xyLXNlc3Npb24tdG9rZW4nLCByZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5sclJlc3BvbnNlQ291bnRlcisrO1xyXG4gICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5sckNvdW50ZXJUb2tlblJlc3BvbnNlID0gcmVnUmVzcG9uc2U7XHJcbiAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMudG9rZW5UeXBlICYmIG1vZHVsZS5vcHRpb25zLnRva2VuVHlwZS50b0xvd2VyQ2FzZSgpID09PSAnand0Jykge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgICAgICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5sclJlc3BvbnNlQ291bnRlciA9PT0gMikge1xyXG4gICAgICAgICAgICAgIHJlZ1Jlc3BvbnNlLmp3dHRva2VuID0gTG9naW5SYWRpdXNEZWZhdWx0cy5sckNvdW50ZXJSZXNwb25zZS5zaWduYXR1cmU7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXHJcbiAgICAgICAgICAgICAgaWYgKGRhdGEgIT0gbnVsbCAmJiBkYXRhICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKHJlZ1Jlc3BvbnNlLCBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKHJlZ1Jlc3BvbnNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXHJcbiAgICAgICAgICAgIGlmIChkYXRhICE9IG51bGwgJiYgZGF0YSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICBvblN1Y2Nlc3MocmVnUmVzcG9uc2UsIG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG9uU3VjY2VzcyhyZWdSZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBnZXRTYWZhcmlUb2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKCdMUlNldFNhZmFyaVRva2VuJyk7XHJcbiAgICAgICAgbW9kdWxlLnN0b3JhZ2UucmVtb3ZlQnJvd3NlclN0b3JhZ2UoJ0xSU2V0U2FmYXJpVG9rZW4nKTtcclxuICAgICAgICBpZiAobW9kdWxlLnNldEhvc3RlZFRva2VuIHx8IGdldFNhZmFyaVRva2VuKSB7XHJcbiAgICAgICAgICBvblN1Y2Nlc3MocmVnUmVzcG9uc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgc2NoZW1hID0gKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hICYmIG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLmxlbmd0aCA+IDApID8gbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEgOiBtb2R1bGUub3B0aW9ucy5SZWdpc3RyYXRpb25Gb3JtU2NoZW1hO1xyXG4gICAgICAgICAgdmFyIHBob25lU2NoZW1hID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAncGhvbmVpZCcpO1xyXG4gICAgICAgICAgdmFyIHBob25lcmVxID0gKHBob25lU2NoZW1hICYmIChwaG9uZVNjaGVtYS5ydWxlcy5pbmRleE9mKCdyZXF1aXJlZCcpICE9PSAtMSkgJiYgbW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbik7XHJcbiAgICAgICAgICB2YXIgdXNlclByb2ZpbGUgPSByZWdSZXNwb25zZS5Qcm9maWxlIHx8IHJlZ1Jlc3BvbnNlLkRhdGE7XHJcbiAgICAgICAgICB2YXIgcmVxdWlyZWRFbWFpbEZsb3cgPSAhKG1vZHVsZS5vcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbik7XHJcbiAgICAgICAgICBpZiAodXNlclByb2ZpbGUgJiYgIXVzZXJQcm9maWxlLkVtYWlsVmVyaWZpZWQgJiYgcmVxdWlyZWRFbWFpbEZsb3cgJiYgIW9uZVRvdWNoTG9naW4pIHtcclxuICAgICAgICAgICAgb25FcnJvcihbXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1snZW1haWxOb3RWZXJpZmllZCddKVxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAocGhvbmVyZXEgJiYgdXNlclByb2ZpbGUgJiYgIXVzZXJQcm9maWxlLlBob25lSWRWZXJpZmllZCAmJiAhb25lVG91Y2hMb2dpbikge1xyXG4gICAgICAgICAgICBpZiAodXNlclByb2ZpbGUuUGhvbmVJZCkge1xyXG4gICAgICAgICAgICAgIHZhciBwaG9uZU9iaiA9IHtcclxuICAgICAgICAgICAgICAgICdwaG9uZSc6IHVzZXJQcm9maWxlLlBob25lSWRcclxuXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gbW9kdWxlLmN1cnJlbnRMUkNvbnRhaW5lcjtcclxuICAgICAgICAgICAgICB2YXIgX29uU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUudmVyaWZ5T1RQKCdwaG9uZT0nICsgdXNlclByb2ZpbGUuUGhvbmVJZCwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnJlc2VuZE9UUCgncGhvbmU9JyArIHVzZXJQcm9maWxlLlBob25lSWQgKyAnJm5vUGhvbmVWZXJpZmllZD1mYWxzZScsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBwcml2YXRlRnVuY3Rpb25zTW9kdWxlKTtcclxuICAgICAgICAgICAgICB2YXIgcmVjYXB0Y2hhaWQgPSBfY2xhc3NQcmVmaXggKyBMb2dpblJhZGl1c0RlZmF1bHRzLmlkUHJlZml4ICsgJ3JlY2FwdGNoYV93aWRnZXRfdmVyaWZ5b3RwJztcclxuICAgICAgICAgICAgICBjb250cm9sbGVycy5yZXNlbmRPVFBDb250cm9sbGVyKHBob25lT2JqLCBfb25TdWNjZXNzLCBvbkVycm9yLCByZWNhcHRjaGFpZCwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG1vZHVsZS5sb2coJ1Bob25lIElEIGlzIHJlcXVpcmVkIGZpZWxkLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodXNlclByb2ZpbGUgJiYgdXNlclByb2ZpbGUuVWlkKSB7XHJcbiAgICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRVaWROYW1lLCB1c2VyUHJvZmlsZS5VaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lLCByZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4pO1xyXG4gICAgICAgICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5pc1NTT0luaXRGaXJlZCAmJiByZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHtcclxuICAgICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldFRva2VuKHJlZ1Jlc3BvbnNlLmFjY2Vzc190b2tlbik7XHJcblxyXG4gICAgICAgICAgICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgLy8gU2FmYXJpIGNoYW5nZVxyXG4gICAgICAgICAgICAgIHZhciBpc1NhZmFyaSA9ICEhKHVzZXJBZ2VudC5pbmRleE9mKCdjcmlvcycpID09PSAtMSAmJlxyXG4gICAgICAgICAgICAgICAgdXNlckFnZW50LmluZGV4T2YoJ2Nocm9tZScpID09PSAtMSAmJlxyXG4gICAgICAgICAgICAgICAgdXNlckFnZW50LmluZGV4T2YoJ3NhZmFyaScpID49IDApO1xyXG5cclxuICAgICAgICAgICAgICB2YXIgaU9TID0gL2lwYWR8aXBob25lfGlwb2QvLnRlc3QodXNlckFnZW50KSAmJiAhd2luZG93Lk1TU3RyZWFtO1xyXG4gICAgICAgICAgICAgIHZhciBpc1VjID0gdXNlckFnZW50LmluZGV4T2YoJ3VjYnJvd3NlcicpID49IDA7XHJcbiAgICAgICAgICAgICAgdmFyIGlPU0Nocm9tZSA9IC9jcmlvcy9pLnRlc3QodXNlckFnZW50KTtcclxuICAgICAgICAgICAgICB2YXIgZG9tYWluID0gbW9kdWxlLm9wdGlvbnMuY3VzdG9tRG9tYWluIHx8IG1vZHVsZS5vcHRpb25zLmFwcE5hbWUgKyAnLicgKyBMb2dpblJhZGl1c0RlZmF1bHRzLmh1YkRvbWFpbjtcclxuICAgICAgICAgICAgICB2YXIgdnR5cGUgPSBtb2R1bGUudXRpbC5nZXRRdWVyeVBhcmFtZXRlckJ5TmFtZSgndnR5cGUnKTtcclxuICAgICAgICAgICAgICB2YXIgdnRva2VuID0gbW9kdWxlLnV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ3Z0b2tlbicpO1xyXG4gICAgICAgICAgICAgIHZhciBsb2MgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgICAgICAgICAgICBpZiAodnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGxvYyA9IGxvYy5yZXBsYWNlKCc/dnR5cGU9JyArIHZ0eXBlLCAnJykucmVwbGFjZSgnJnZ0eXBlPScgKyB2dHlwZSwgJycpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAodnRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBsb2MgPSBsb2MucmVwbGFjZSgnJnZ0b2tlbj0nICsgdnRva2VuLCAnJykucmVwbGFjZSgnP3Z0b2tlbj0nICsgdnRva2VuLCAnJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGxvYyA9IGVuY29kZVVSSUNvbXBvbmVudChsb2MpO1xyXG4gICAgICAgICAgICAgIGlmIChpc1NhZmFyaSB8fCAoaU9TICYmIGlzVWMpIHx8IChpT1MgJiYgaU9TQ2hyb21lKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtb2R1bGUub3B0aW9ucy5hc2tSZXF1aXJlZEZpZWxkRm9yVHJhZGl0aW9uYWxMb2dpbikge1xyXG4gICAgICAgICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZSgnTFJUcmFkaXRpb25hbExvZ2luJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3NldEN1cnJlbnRBY3Rpb24nKTtcclxuICAgICAgICAgICAgICAgIHZhciBzYWZhcmlQcm90b2NvbCA9IG1vZHVsZS5vcHRpb25zLnNhZmFyaUh0dHBzRW5hYmxlID8gJ2h0dHBzJyA6ICdodHRwJztcclxuICAgICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zdGF5TG9naW4pIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIHN0YXlMb2dpbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKCdsci1yZW1lbWJlcm1lJyk7XHJcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnJlbW92ZUJyb3dzZXJTdG9yYWdlKCdsci1yZW1lbWJlcm1lJyk7XHJcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHNhZmFyaVByb3RvY29sICsgJzovLycgKyBkb21haW4gKyAnL3Nzb2xvZ2luL3NldEN1c3RvbVNhZmFyaVRva2VuP3Rva2VuPScgKyByZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4gKyAnJmFwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZpc3JlbWVtYmVyTWU9JyArIHN0YXlMb2dpbiArICcmY2FsbGJhY2s9JyArIGxvYztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHNhZmFyaVByb3RvY29sICsgJzovLycgKyBkb21haW4gKyAnL3Nzb2xvZ2luL3NldFNhZmFyaVRva2VuP3Rva2VuPScgKyByZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4gKyAnJmFwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZjYWxsYmFjaz0nICsgbG9jO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RheUxvZ2luQ2hlY2sgPSAnJztcclxuICAgICAgICAgICAgICAgIHZhciBhcGlTdHJpbmcgPSAnc2V0VG9rZW4nO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zdGF5TG9naW4pIHtcclxuICAgICAgICAgICAgICAgICAgc3RheUxvZ2luQ2hlY2sgPSAnJmlzcmVtZW1iZXJNZT0nICsgbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoJ2xyLXJlbWVtYmVybWUnKTtcclxuICAgICAgICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2UucmVtb3ZlQnJvd3NlclN0b3JhZ2UoJ2xyLXJlbWVtYmVybWUnKTtcclxuICAgICAgICAgICAgICAgICAgYXBpU3RyaW5nID0gJ3NldEN1c3RvbVRva2VuJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1vZHVsZS51dGlsLmpzb25wQ2FsbCgnaHR0cHM6Ly8nICsgZG9tYWluICsgJy9zc29sb2dpbi8nICsgYXBpU3RyaW5nICsgJz90b2tlbj0nICsgcmVnUmVzcG9uc2UuYWNjZXNzX3Rva2VuICsgJyZhcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArIHN0YXlMb2dpbkNoZWNrLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGhhbmRsZVRva2VuUmVzcG9uc2UoKTtcclxuICAgICAgICAgICAgICAgIH0sICcnLCAnc2V0VG9rZW4nKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgaGFuZGxlVG9rZW5SZXNwb25zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy50b2tlblR5cGUgJiYgbW9kdWxlLm9wdGlvbnMudG9rZW5UeXBlLnRvTG93ZXJDYXNlKCkgPT09ICdqd3QnKSB7XHJcbiAgICAgICAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5nZXRKd3RUb2tlbihyZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIGdldEp3dFRva2VuXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gYWNjZXNzVG9rZW4gPGFjY2Vzc190b2tlbj5cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGNhbGwgYXBpIGFuZCBnZXQgSldUIHRva2VuLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5nZXRKd3RUb2tlbiA9IGZ1bmN0aW9uIChhY2Nlc3NUb2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5jbG91ZEFwaURvbWFpbiArICcvc3NvL2p3dC9hcGkvdG9rZW4/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmp3dGFwcD0nICsgbW9kdWxlLm9wdGlvbnMuaW50ZWdyYXRpb25OYW1lICsgJyZhY2Nlc3NfdG9rZW49JyArIGFjY2Vzc1Rva2VuLCAnJywgZnVuY3Rpb24gKGp3dFJlc3BvbnNlKSB7XHJcbiAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMubHJSZXNwb25zZUNvdW50ZXIrKztcclxuICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5sckNvdW50ZXJKd3RSZXNwb25zZSA9IGp3dFJlc3BvbnNlO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5sclJlc3BvbnNlQ291bnRlciA9PT0gMikge1xyXG4gICAgICAgIGlmIChqd3RSZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3Ioand0UmVzcG9uc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmxyQ291bnRlclRva2VuUmVzcG9uc2Uuand0dG9rZW4gPSBqd3RSZXNwb25zZS5zaWduYXR1cmU7XHJcbiAgICAgICAgICBvblN1Y2Nlc3MoTG9naW5SYWRpdXNEZWZhdWx0cy5sckNvdW50ZXJUb2tlblJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sICdKV1RUb2tlbicpO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gbWFwU2NoZW1hXHJcbiAgKiBAcGFyYW0ge0FycmF5fSBzY2hlbWEgZm9ybSBmaWVsZHMgb2JqZWN0cyBhcnJheVxyXG4gICogQHBhcmFtIHtPYmplY3R9IHVzZXJQcm9maWxlIHVzZXIgcHJvZmlsZSBpbmZvIG9iamVjdFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGdldFByb2ZpbGVTY2hlbWEgW29wdGlvbmFsXSwgc3RyaW5nIHdoaWNoIGNhbiBob2xkICdwcm9maWxlZWRpdG9yJ1xyXG4gICogQHBhcmFtIHtCb29sZWFufSBwcm9ncmVzc2l2ZVByb2ZpbGluZyBbb3B0aW9uYWxdLCBmbGFnIGZvciBwcm9ncmVzc2l2ZVByb2ZpbGluZ1xyXG4gICogQHJldHVybiB7QXJyYXl9IHNjaGVtYXxwcm9maWxlU2NoZW1hIGFycmF5XHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIG1hcCBzY2hlbWEgd2l0aCBwcm9maWxlU2NoZW1hIGFjY29yZGluZyB0byBnaXZlbiBjb25kaXRpb25hbCBvcHRpb25zIGFuZCByZXR1cm4gc2NoZW1hLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5tYXBTY2hlbWEgPSBmdW5jdGlvbiAoc2NoZW1hLCB1c2VyUHJvZmlsZSwgZ2V0UHJvZmlsZVNjaGVtYSwgcHJvZ3Jlc3NpdmVQcm9maWxpbmcpIHtcclxuICAgIHVzZXJQcm9maWxlID0gbW9kdWxlLnV0aWwua2V5c1RvTG93ZXJDYXNlKHVzZXJQcm9maWxlKTtcclxuICAgIHZhciBwcm9maWxlU2NoZW1hID0gW107XHJcbiAgICBPYmplY3Qua2V5cyhzY2hlbWEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICBwcm9maWxlU2NoZW1hLnB1c2goc2NoZW1hW2tleV0pO1xyXG4gICAgfSk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxyXG4gICAgICBpZiAoc2NoZW1hW2ldICE9IG51bGwpIHtcclxuICAgICAgICBpZiAoc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2VtYWlsaWQnICYmIHVzZXJQcm9maWxlLmVtYWlsICYmIHVzZXJQcm9maWxlLmVtYWlsWzBdICYmIHVzZXJQcm9maWxlLmVtYWlsWzBdLnZhbHVlICYmIHVzZXJQcm9maWxlLmVtYWlsWzBdLnZhbHVlICE9PSAnJykge1xyXG4gICAgICAgICAgaWYgKHVzZXJQcm9maWxlLmVtYWlsdmVyaWZpZWQgfHwgKChtb2R1bGUub3B0aW9ucy5kaXNhYmxlZEVtYWlsVmVyaWZpY2F0aW9uIHx8IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsRW1haWxWZXJpZmljYXRpb24pICYmICghbW9kdWxlLm9wdGlvbnMuYXNrRW1haWxGb3JVbnZlcmlmaWVkUHJvZmlsZUFsd2F5cykpKSB7XHJcbiAgICAgICAgICAgIHByb2ZpbGVTY2hlbWFbaV0udmFsdWUgPSB1c2VyUHJvZmlsZS5lbWFpbFswXS52YWx1ZTtcclxuICAgICAgICAgICAgc2NoZW1hW2ldID0gbnVsbDtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIW1vZHVsZS5vcHRpb25zLmFza0VtYWlsRm9yVW52ZXJpZmllZFByb2ZpbGVBbHdheXMgfHwgbW9kdWxlLnNldEhvc3RlZFRva2VuKSB7XHJcbiAgICAgICAgICAgICAgcHJvZmlsZVNjaGVtYVtpXSA9IHNjaGVtYVtpXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxyXG4gICAgICAgIH0gZWxzZSBpZiAoc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2NvdW50cnknICYmIHNjaGVtYVtpXS5QYXJlbnQgPT09ICcnICYmIHVzZXJQcm9maWxlLmNvdW50cnkgJiYgdXNlclByb2ZpbGUuY291bnRyeS5uYW1lICE9IG51bGwgJiYgdXNlclByb2ZpbGUuY291bnRyeS5uYW1lICE9PSAnJyAmJiB1c2VyUHJvZmlsZS5jb3VudHJ5Lm5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3Vua25vd24nKSB7XHJcbiAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldLnZhbHVlID0gdXNlclByb2ZpbGUuY291bnRyeS5uYW1lO1xyXG4gICAgICAgICAgaWYgKHVzZXJQcm9maWxlLmNvdW50cnkuY29kZSkge1xyXG4gICAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldLnZhbHVlID0gdXNlclByb2ZpbGUuY291bnRyeS5jb2RlICsgJ3wnICsgcHJvZmlsZVNjaGVtYVtpXS52YWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNjaGVtYVtpXSA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZW1haWxzdWJzY3JpcHRpb24nICYmIHVzZXJQcm9maWxlLmlzZW1haWxzdWJzY3JpYmVkICYmIHVzZXJQcm9maWxlLmlzZW1haWxzdWJzY3JpYmVkICE9PSAnJykge1xyXG4gICAgICAgICAgcHJvZmlsZVNjaGVtYVtpXS52YWx1ZSA9IHVzZXJQcm9maWxlLmlzZW1haWxzdWJzY3JpYmVkO1xyXG4gICAgICAgICAgc2NoZW1hW2ldID0gbnVsbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdwaG9uZWlkJyAmJiB1c2VyUHJvZmlsZS5waG9uZWlkICYmIHVzZXJQcm9maWxlLnBob25laWQgIT09ICcnKSB7XHJcbiAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldLnZhbHVlID0gdXNlclByb2ZpbGUucGhvbmVpZC5yZXBsYWNlKCcrJywgJycpO1xyXG4gICAgICAgICAgc2NoZW1hW2ldID0gbnVsbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdiaXJ0aGRhdGUnICYmIHVzZXJQcm9maWxlLmJpcnRoZGF0ZSAmJiB1c2VyUHJvZmlsZS5iaXJ0aGRhdGUgIT09ICcnKSB7XHJcbiAgICAgICAgICB2YXIgYmlydGhkYXRlID0gdXNlclByb2ZpbGUuYmlydGhkYXRlLnJlcGxhY2UoJy0nLCAnLycpLnJlcGxhY2UoJy0nLCAnLycpLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgICBpZiAoYmlydGhkYXRlWzJdICYmIGJpcnRoZGF0ZVsyXSAhPT0gJycpIHtcclxuICAgICAgICAgICAgcHJvZmlsZVNjaGVtYVtpXS52YWx1ZSA9IHVzZXJQcm9maWxlLmJpcnRoZGF0ZTtcclxuICAgICAgICAgICAgc2NoZW1hW2ldID0gbnVsbDtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAncGFzc3dvcmQnIHx8IHNjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdjb25maXJtcGFzc3dvcmQnKSB7XHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxyXG4gICAgICAgICAgaWYgKHVzZXJQcm9maWxlLnBhc3N3b3JkICE9IG51bGwgfHwgKCFtb2R1bGUub3B0aW9ucy5wcm9tcHRQYXNzd29yZE9uU29jaWFsTG9naW4gJiYgIShtb2R1bGUub3B0aW9ucy5wcm9tcHRQYXNzd29yZE9uRmlyc3RMb2dpbkZvclNvY2lhbCkpKSB7XHJcbiAgICAgICAgICAgIHByb2ZpbGVTY2hlbWFbaV0gPSBzY2hlbWFbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYVtpXS5QYXJlbnQgIT09ICcnICYmIHNjaGVtYVtpXS5QYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBzY2hlbWFbaV0uUGFyZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBpZiAoc2NoZW1hW2ldLlBhcmVudCAmJiB1c2VyUHJvZmlsZVtzY2hlbWFbaV0uUGFyZW50LnRvTG93ZXJDYXNlKCldICYmIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5QYXJlbnQudG9Mb3dlckNhc2UoKV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB2YXIgc2NoZW1hTmFtZSA9IHNjaGVtYVtpXS5uYW1lLmluZGV4T2YoJ18nKSAhPT0gLTEgPyBzY2hlbWFbaV0ubmFtZS5zcGxpdCgnXycpWzFdIDogc2NoZW1hW2ldLm5hbWU7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBPYmplY3Qua2V5cyh1c2VyUHJvZmlsZVtzY2hlbWFbaV0uUGFyZW50LnRvTG93ZXJDYXNlKCldKS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5QYXJlbnQudG9Mb3dlckNhc2UoKV0gPT09ICdvYmplY3QnICYmIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5QYXJlbnQudG9Mb3dlckNhc2UoKV1ba2V5XSAmJiB1c2VyUHJvZmlsZVtzY2hlbWFbaV0uUGFyZW50LnRvTG93ZXJDYXNlKCldW2tleV1bc2NoZW1hTmFtZS50b0xvd2VyQ2FzZSgpXSkge1xyXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXHJcbiAgICAgICAgICAgICAgaWYgKHVzZXJQcm9maWxlW3NjaGVtYVtpXS5QYXJlbnQudG9Mb3dlckNhc2UoKV1ba2V5XVtzY2hlbWFOYW1lLnRvTG93ZXJDYXNlKCldICE9IG51bGwgJiYgdXNlclByb2ZpbGVbc2NoZW1hW2ldLlBhcmVudC50b0xvd2VyQ2FzZSgpXVtrZXldW3NjaGVtYU5hbWUudG9Mb3dlckNhc2UoKV0gIT09IHVuZGVmaW5lZCAmJiB1c2VyUHJvZmlsZVtzY2hlbWFbaV0uUGFyZW50LnRvTG93ZXJDYXNlKCldW2tleV1bc2NoZW1hTmFtZS50b0xvd2VyQ2FzZSgpXSAhPT0gJ3Vua25vd24nKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldLnZhbHVlID0gdXNlclByb2ZpbGVbc2NoZW1hW2ldLlBhcmVudC50b0xvd2VyQ2FzZSgpXVtrZXldW3NjaGVtYU5hbWUudG9Mb3dlckNhc2UoKV07XHJcbiAgICAgICAgICAgICAgICBzY2hlbWFbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHByb2ZpbGVTY2hlbWFbaV0udmFsdWUgPSB1c2VyUHJvZmlsZVtzY2hlbWFbaV0uUGFyZW50LnRvTG93ZXJDYXNlKCldW3NjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCldO1xyXG4gICAgICAgICAgICAgIHNjaGVtYVtpXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYVtpXS5uYW1lLmluZGV4T2YoJ2NmXycpID09PSAwICYmIHVzZXJQcm9maWxlLmN1c3RvbWZpZWxkcyAmJiB1c2VyUHJvZmlsZS5jdXN0b21maWVsZHNbc2NoZW1hW2ldLm5hbWUucmVwbGFjZSgnY2ZfJywgJycpLnRvTG93ZXJDYXNlKCldKSB7XHJcbiAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldLnZhbHVlID0gdXNlclByb2ZpbGUuY3VzdG9tZmllbGRzW3NjaGVtYVtpXS5uYW1lLnJlcGxhY2UoJ2NmXycsICcnKS50b0xvd2VyQ2FzZSgpXTtcclxuICAgICAgICAgIHNjaGVtYVtpXSA9IG51bGw7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcclxuICAgICAgICAgIGlmIChzY2hlbWFbaV0ubmFtZSAmJiB0eXBlb2YgdXNlclByb2ZpbGVbc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKV0gIT09ICdvYmplY3QnICYmIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCldICE9IG51bGwgJiYgdXNlclByb2ZpbGVbc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKV0gIT09ICcnICYmIHVzZXJQcm9maWxlW3NjaGVtYVtpXS5uYW1lLnRvTG93ZXJDYXNlKCldICE9PSB1bmRlZmluZWQgJiYgdXNlclByb2ZpbGVbc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKV0gIT09ICd1bmtub3duJykge1xyXG4gICAgICAgICAgICBwcm9maWxlU2NoZW1hW2ldLnZhbHVlID0gdXNlclByb2ZpbGVbc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKV07XHJcbiAgICAgICAgICAgIHNjaGVtYVtpXSA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBzY2hlbWEgPSBzY2hlbWEuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgIHJldHVybiBuO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoZ2V0UHJvZmlsZVNjaGVtYSAmJiBnZXRQcm9maWxlU2NoZW1hID09PSAncHJvZmlsZWVkaXRvcicgJiYgIXVzZXJQcm9maWxlLkVycm9yQ29kZSkge1xyXG4gICAgICBwcm9maWxlU2NoZW1hID0gcHJvZmlsZVNjaGVtYS5maWx0ZXIoZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICByZXR1cm4gbjtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBwcm9maWxlU2NoZW1hO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgaCA9IDA7IGggPCBzY2hlbWEubGVuZ3RoOyBoKyspIHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcclxuICAgICAgaWYgKChzY2hlbWFbaF0ucnVsZXMgIT0gbnVsbCAmJiAoc2NoZW1hW2hdLnJ1bGVzICE9PSAnJyAmJiBzY2hlbWFbaF0ucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSA+IC0xKSkgfHxcclxuICAgICAgICAobW9kdWxlLm9wdGlvbnMuYXNrT3B0aW9uYWxGaWVsZHNPblJlZ2lzdHJhdGlvbiAmJiB1c2VyUHJvZmlsZS5maXJzdGxvZ2luID09PSB0cnVlICYmICh1c2VyUHJvZmlsZS5yZWdpc3RyYXRpb25wcm92aWRlcikudG9Mb3dlckNhc2UoKSAhPT0gJ2VtYWlsJykgfHwgKG1vZHVsZS5vcHRpb25zLmFza09wdGlvbmFsRmllbGRzT25Qcm9ncmVzc2l2ZVN0ZXBzICYmIHByb2dyZXNzaXZlUHJvZmlsaW5nKSkge1xyXG4gICAgICAgIGlmIChnZXRQcm9maWxlU2NoZW1hICYmICF1c2VyUHJvZmlsZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIHByb2ZpbGVTY2hlbWEgPSBwcm9maWxlU2NoZW1hLmZpbHRlcihmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICByZXR1cm4gbjtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIHByb2ZpbGVTY2hlbWE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzY2hlbWE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW107XHJcbiAgfTtcclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBsb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gbHJFcnJvciBlcnJvciBtZXNzYWdlXHJcbiAgKiBAcmV0dXJuIHtBcnJheX0ganNFcnJvciBlcnJvciBtZXNzYWdlIGFycmF5XHJcbiAgKiBAZGVzY3JpcHRpb24gV2lsbCBzZXQgbHIgZXJyb3IgbXNnIGFuZCBwdXNoIGVycm9yIG9uIGpzIGVycm9yIGFycmF5LlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yID0gZnVuY3Rpb24gKGxyRXJyb3IpIHtcclxuICAgIHZhciBqc0Vycm9yID0gW107XHJcbiAgICBqc0Vycm9yLnB1c2gocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRNYXBwZWRNZXNzYWdlKGxyRXJyb3IpKTtcclxuICAgIHJldHVybiBqc0Vycm9yO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gc2V0TWFwcGVkTWVzc2FnZVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGxyTWVzc2FnZSBlcnJvciBtZXNzYWdlXHJcbiAgKiBAcmV0dXJuIHtTdHJpbmd9IGxyTWVzc2FnZSBlcnJvciBtZXNzYWdlXHJcbiAgKiBAZGVzY3JpcHRpb24gV2lsbCBzZXQgdGhlIGxyIGVycm9yIG1zZyBhbmQgcmV0dXJuLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRNYXBwZWRNZXNzYWdlID0gZnVuY3Rpb24gKGxyTWVzc2FnZSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUuZXJyb3JNZXNzYWdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXHJcbiAgICAgIGlmIChtb2R1bGUuZXJyb3JNZXNzYWdlc1tpXS5jb2RlID09IGxyTWVzc2FnZS5FcnJvckNvZGUpIHtcclxuICAgICAgICBsck1lc3NhZ2UuTWVzc2FnZSA9IG1vZHVsZS5lcnJvck1lc3NhZ2VzW2ldLm1lc3NhZ2UgfHwgbHJNZXNzYWdlLk1lc3NhZ2U7XHJcbiAgICAgICAgbHJNZXNzYWdlLkRlc2NyaXB0aW9uID0gbW9kdWxlLmVycm9yTWVzc2FnZXNbaV0uZGVzY3JpcHRpb24gfHwgbHJNZXNzYWdlLkRlc2NyaXB0aW9uO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbHJNZXNzYWdlO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIHNldEN1c3RvbUxhYmVsXHJcbiAgKiBAcGFyYW0ge0FycmF5fSBzY2hlbWEgZm9ybSBmaWVsZHMgYXJyYXlcclxuICAqIEBkZXNjcmlwdGlvbiBXaWxsIHNldCBjdXN0b20gbGFibGUgb24gZm9ybSBzY2hlbWEgZmllbGRzLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRDdXN0b21MYWJlbCA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChzY2hlbWFbaV0gJiYgbW9kdWxlLmZvcm1DdXN0b21MYWJlbFtzY2hlbWFbaV0ubmFtZV0pIHtcclxuICAgICAgICBzY2hlbWFbaV0uZGlzcGxheSA9IG1vZHVsZS5mb3JtQ3VzdG9tTGFiZWxbc2NoZW1hW2ldLm5hbWVdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gc2V0Q3VzdG9tVGl0bGVcclxuICAqIEBwYXJhbSB7QXJyYXl9IHNjaGVtYSBmb3JtIGZpZWxkcyBhcnJheVxyXG4gICogQGRlc2NyaXB0aW9uIFdpbGwgc2V0IGN1c3RvbSB0aXRsZSBvbiBmb3JtIHNjaGVtYSBmaWVsZHMuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldEN1c3RvbVRpdGxlID0gZnVuY3Rpb24gKHNjaGVtYSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHNjaGVtYVtpXSAmJiBtb2R1bGUuZm9ybUVsZW1lbnRzVGl0bGVbc2NoZW1hW2ldLm5hbWVdKSB7XHJcbiAgICAgICAgc2NoZW1hW2ldLnRpdGxlID0gbW9kdWxlLmZvcm1FbGVtZW50c1RpdGxlW3NjaGVtYVtpXS5uYW1lXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIHNldFBsYWNlaG9sZGVyXHJcbiAgKiBAcGFyYW0ge0FycmF5fSBzY2hlbWEgZm9ybSBmaWVsZHMgYXJyYXlcclxuICAqIEBkZXNjcmlwdGlvbiBXaWxsIHNldCBwbGFjZWhvbGRlciBvbiBmb3JtIHNjaGVtYSBmaWVsZHMuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldFBsYWNlaG9sZGVyID0gZnVuY3Rpb24gKHNjaGVtYSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHNjaGVtYVtpXSAmJiBtb2R1bGUuZm9ybVBsYWNlaG9sZGVyW3NjaGVtYVtpXS5uYW1lXSkge1xyXG4gICAgICAgIHNjaGVtYVtpXS5wbGFjZWhvbGRlciA9IG1vZHVsZS5mb3JtUGxhY2Vob2xkZXJbc2NoZW1hW2ldLm5hbWVdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gc2V0VmFsaWRhdGlvblxyXG4gICogQHBhcmFtIHtBcnJheX0gc2NoZW1hIGZvcm0gZmllbGRzIGFycmF5XHJcbiAgKiBAZGVzY3JpcHRpb24gV2lsbCBzZXQgdmFsaWRhdGlvbiBydWxlcyBvbiBmb3JtIHNjaGVtYSBmaWVsZHMuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldFZhbGlkYXRpb24gPSBmdW5jdGlvbiAoc2NoZW1hKSB7XHJcbiAgICBpZiAobW9kdWxlLmZvcm1WYWxpZGF0aW9uc1tzY2hlbWEubmFtZV0pIHtcclxuICAgICAgc2NoZW1hLnJ1bGVzID0gbW9kdWxlLmZvcm1WYWxpZGF0aW9uc1tzY2hlbWEubmFtZV07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gc2V0QXR0cmlidXRlXHJcbiAgKiBAcGFyYW0ge0FycmF5fSBzY2hlbWEgZm9ybSBmaWVsZHMgYXJyYXlcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtIGh0bWwgZWxlbWVudFxyXG4gICogQGRlc2NyaXB0aW9uIFdpbGwgc2V0IHNjaGVtYSBodG1sIGVsZW1lbnQgYXR0cmlidXRlIGtleSBhbmQgdmFsdWVzLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoc2NoZW1hLCBlbGVtKSB7XHJcbiAgICBpZiAobW9kdWxlLmZvcm1FbGVtZW50QXR0cmlidXRlc1tzY2hlbWEubmFtZV0pIHtcclxuICAgICAgdmFyIGF0dHJpYml0ZXMgPSBtb2R1bGUuZm9ybUVsZW1lbnRBdHRyaWJ1dGVzW3NjaGVtYS5uYW1lXS5zcGxpdCgnJicpO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYml0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmliaXRlc1tpXS5zcGxpdCgnPScpO1xyXG4gICAgICAgIHZhciBrZXkgPSBhdHRyaWJ1dGUuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZS5qb2luKCc9Jyk7XHJcbiAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiB2ZXJpZnlPVFBcclxuICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gcGhvbmVEYXRhIGhvbGQgcGhvbmUgZGF0YVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkIHRvIGhvbGQgZGlmZmVyZW50IGZvcm1zXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFdpbGwgY3JlYXRlIHZlcmlmeU9UUCBmb3JtIGFuZCBpbml0aWFsaXplIHRoZSB2ZXJpZnlPVFAgcHJvY2Vzcy5cclxuICAqL1xyXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUudmVyaWZ5T1RQID0gZnVuY3Rpb24gKHBob25lRGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcclxuICAgIHZhciBjaGVjazJGQSA9IGZhbHNlO1xyXG4gICAgdmFyIGZvcm1OYW1lID0gJ290cCc7XHJcbiAgICBpZiAobW9kdWxlLkxSQ2hlY2syRkEgJiYgKG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIHx8IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24pICYmICFtb2R1bGUuTFJDaGVja1JlZ2lzdHJhdGlvbikge1xyXG4gICAgICBjaGVjazJGQSA9IHRydWU7XHJcbiAgICAgIGZvcm1OYW1lID0gJ3R3b2Zhb3RwJztcclxuICAgIH1cclxuICAgIHZhciBzY2hlbWEgPSBtb2R1bGUub3RwU2NoZW1hO1xyXG5cclxuICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY3JlYXRlRm9ybShzY2hlbWEsIGZvcm1OYW1lLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIHZhciBjb250cm9sbGVycyA9IG5ldyBMb2dpblJhZGl1c0NvbnRyb2xsZXJzKG1vZHVsZSwgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZSk7XHJcbiAgICAgIGlmIChjaGVjazJGQSkge1xyXG4gICAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeTJGQU9UUENvbnRyb2xsZXIoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwaG9uZURhdGEgPT09ICdzdHJpbmcnIHx8IHBob25lRGF0YSBpbnN0YW5jZW9mIFN0cmluZykgeyBwaG9uZURhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKHBob25lRGF0YSk7IH1cclxuXHJcbiAgICAgICAgZGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XHJcbiAgICAgICAgdmFyIHBob25lVG9WZXJpZnk7XHJcbiAgICAgICAgaWYgKHBob25lRGF0YS5waG9uZSkge1xyXG4gICAgICAgICAgcGhvbmVUb1ZlcmlmeSA9IHtcclxuICAgICAgICAgICAgJ3Bob25lJzogcGhvbmVEYXRhLnBob25lXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAocGhvbmVEYXRhLnBob25laWQgfHwgcGhvbmVEYXRhLnBob25lSWQpIHtcclxuICAgICAgICAgIHBob25lVG9WZXJpZnkgPSB7XHJcbiAgICAgICAgICAgICdwaG9uZSc6IHBob25lRGF0YS5waG9uZWlkIHx8IHBob25lRGF0YS5waG9uZUlkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGhvbmVEYXRhLm9uZXRvdWNobG9naW5mbGFnKSB7XHJcbiAgICAgICAgICBkYXRhLm9uZXRvdWNobG9naW5mbGFnID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBob25lRGF0YS5oYXZlVG9rZW4pIHtcclxuICAgICAgICAgIGRhdGEuaGF2ZVRva2VuID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRyb2xsZXJzLnZlcmlmeU9UUENvbnRyb2xsZXIoZGF0YSwgcGhvbmVUb1ZlcmlmeSwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICAgIH1cclxuICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcclxuICAgICAgb25FcnJvcihlcnJvcnMpO1xyXG4gICAgfSwgX2NsYXNzUHJlZml4KTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIHJlc2VuZE9UUFxyXG4gICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwaG9uZURhdGEgaG9sZCBwaG9uZSBkYXRhXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWQgdG8gaG9sZCBkaWZmZXJlbnQgZm9ybXNcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIHJlc2VuZE9UUCBmb3JtIGFuZCBhbmQgaW5pdGlhbGl6ZSB0aGUgcmVzZW5kT1RQIHByb2Nlc3MuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnJlc2VuZE9UUCA9IGZ1bmN0aW9uIChwaG9uZURhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXhfLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xyXG4gICAgdmFyIHBob25lT2JqID0ge307XHJcbiAgICB2YXIgSXNQaG9uZVZlcmlmaWVkID0gdHJ1ZTtcclxuICAgIGlmICh0eXBlb2YgcGhvbmVEYXRhID09PSAnc3RyaW5nJyB8fCBwaG9uZURhdGEgaW5zdGFuY2VvZiBTdHJpbmcpIHtcclxuICAgICAgcGhvbmVEYXRhID0gKG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcocGhvbmVEYXRhKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocGhvbmVEYXRhLm5vUGhvbmVWZXJpZmllZCkge1xyXG4gICAgICBJc1Bob25lVmVyaWZpZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhciB0d29mYSA9IHRydWU7XHJcbiAgICBpZiAocGhvbmVEYXRhLnBob25laWQgfHwgcGhvbmVEYXRhLnBob25lSWQpIHtcclxuICAgICAgdHdvZmEgPSBmYWxzZTtcclxuICAgICAgcGhvbmVPYmogPSB7XHJcbiAgICAgICAgJ3Bob25lJzogcGhvbmVEYXRhLnBob25laWQgfHwgcGhvbmVEYXRhLnBob25lSWRcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAocGhvbmVEYXRhLnBob25lKSB7XHJcbiAgICAgIGlmICghbW9kdWxlLnNvY2lhbExvZ2luRmxhZykge1xyXG4gICAgICAgIHR3b2ZhID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcGhvbmVPYmogPSBwaG9uZURhdGE7XHJcbiAgICB9IGVsc2UgaWYgKHBob25lRGF0YS5waG9uZU5vMkZBIHx8IHBob25lRGF0YS5waG9uZW5vMmZhKSB7XHJcbiAgICAgIHBob25lT2JqID0ge1xyXG4gICAgICAgICdwaG9uZW5vMmZhJzogcGhvbmVEYXRhLnBob25lTm8yRkEgfHwgcGhvbmVEYXRhLnBob25lbm8yZmFcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAocGhvbmVEYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uICYmIHBob25lRGF0YS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5PVFBQaG9uZU5vKSB7XHJcbiAgICAgIHBob25lT2JqID0ge1xyXG4gICAgICAgICdwaG9uZW5vMmZhJzogcGhvbmVEYXRhLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLk9UUFBob25lTm9cclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHZhciByZXNlbmRPVFBCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ3Jlc2VuZG90cCcsIF9jbGFzc1ByZWZpeF8pO1xyXG5cclxuICAgIHZhciBfY2xhc3NQcmVmaXggPSBfY2xhc3NQcmVmaXhfIHx8IExvZ2luUmFkaXVzRGVmYXVsdHMuY2xhc3NQcmVmaXg7XHJcbiAgICB2YXIgZm9ybU5hbWUgPSB0d29mYSA/ICd0d29mYW90cCcgOiAnb3RwJztcclxuICAgIHZhciBmb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKF9jbGFzc1ByZWZpeCArIGZvcm1OYW1lKVswXTtcclxuICAgIGlmICghZm9ybUVsZW1lbnQpIHtcclxuICAgICAgZm9ybU5hbWUgPSAoZm9ybU5hbWUgPT09ICd0d29mYW90cCcpID8gJ290cCcgOiAndHdvZmFvdHAnO1xyXG4gICAgICBmb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKF9jbGFzc1ByZWZpeCArIGZvcm1OYW1lKVswXTtcclxuICAgIH1cclxuICAgIGlmIChmb3JtRWxlbWVudCkge1xyXG4gICAgICBmb3JtRWxlbWVudC5hcHBlbmRDaGlsZChyZXNlbmRPVFBCdG4pO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZHVsZS5MUkNoZWNrTG9naW4gJiYgdHdvZmEgJiYgKCFJc1Bob25lVmVyaWZpZWQgfHwgbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRPVFBBdXRoKSA9PT0gJ2ZhbHNlJykpIHtcclxuICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jaGFuZ2VOdW1iZXJGb3JtKGNvbnRhaW5lciwgZm9ybUVsZW1lbnQsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCAnJywgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBob25lRGF0YS5vbmV0b3VjaGxvZ2luZmxhZykge1xyXG4gICAgICBwaG9uZU9iai5vbmV0b3VjaGxvZ2luZmxhZyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAocGhvbmVEYXRhLnVwZGF0ZVBob25lKSB7XHJcbiAgICAgIHBob25lT2JqLnVwZGF0ZVBob25lID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdjbGljaycsIHJlc2VuZE9UUEJ0biwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZW5kT1RQTWFudWFsbHkocGhvbmVPYmosIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gc2VuZEluc3RhbnRTaWduSW5MaW5rXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBqc29uIHN0cmluZyBob2xkIGZvcm0gZGF0YSBleC4gJ2VtYWlsJ1xyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkIHRvIGhvbGQgZGlmZmVyZW50IGZvcm1zXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFdpbGwgc2VuZCBpbnN0YW50IHVzZXIgc2lnbmluIGxpbmsgdG8gdXNlciBsaW5rZWQgZW1haWwgYWRkcmVzcyBmb3IgcGFzc3dvcmRsZXNzIGxvZ2luLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZW5kSW5zdGFudFNpZ25JbkxpbmsgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdmFyIGZvcm1EYXRhID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcclxuICAgIHZhciBzdHIgPSBmb3JtRGF0YS5lbWFpbGlkIHx8IGZvcm1EYXRhLmVtYWlsO1xyXG4gICAgaWYgKCFMb2dpblJhZGl1c0RlZmF1bHRzLnJlZ2V4RXhwcmVzc2lvbi5lbWFpbFJlZ2V4LnRlc3Qoc3RyKSAmJiAhKG1vZHVsZS5vcHRpb25zLnVzZXJuYW1lTG9naW4gfHwgbW9kdWxlLm9wdGlvbnMuZHVwbGljYXRlRW1haWxXaXRoVW5pcXVlVXNlcm5hbWUpKSB7XHJcbiAgICAgIG9uRXJyb3IoW3ByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ2ludmFsaWRFbWFpbCddKV0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIHBheWxvYWREYXRhO1xyXG4gICAgICBpZiAoTG9naW5SYWRpdXNEZWZhdWx0cy5yZWdleEV4cHJlc3Npb24uZW1haWxSZWdleC50ZXN0KHN0cikpIHtcclxuICAgICAgICBwYXlsb2FkRGF0YSA9ICdlbWFpbD0nICsgc3RyO1xyXG4gICAgICB9IGVsc2UgaWYgKG1vZHVsZS5vcHRpb25zLnVzZXJuYW1lTG9naW4gfHwgbW9kdWxlLm9wdGlvbnMuZHVwbGljYXRlRW1haWxXaXRoVW5pcXVlVXNlcm5hbWUpIHtcclxuICAgICAgICBwYXlsb2FkRGF0YSA9ICd1c2VybmFtZT0nICsgc3RyO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBwYXNzd29yZGxlc3NMb2dpbkVtYWlsVGVtcGxhdGUgPSBtb2R1bGUub3B0aW9ucy5pbnN0YW50TGlua0xvZ2luRW1haWxUZW1wbGF0ZSB8fCBtb2R1bGUub3B0aW9ucy5wYXNzd29yZGxlc3NMb2dpbkVtYWlsVGVtcGxhdGU7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdHRVQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi9wYXNzd29yZGxlc3Nsb2dpbi9lbWFpbD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJnBhc3N3b3JkbGVzc2xvZ2ludGVtcGxhdGU9JyArIHBhc3N3b3JkbGVzc0xvZ2luRW1haWxUZW1wbGF0ZSArICcmJyArIHBheWxvYWREYXRhLCAnJywgZnVuY3Rpb24gKHNpZ25pblJlc3BvbnNlKSB7XHJcbiAgICAgICAgd2luZG93LmxycGFzc3dvcmRsZXNzbG9naW5vdHAgPSBmYWxzZTtcclxuICAgICAgICB3aW5kb3cubHJwYXNzd29yZGxlc3Nsb2dpbiA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChzaWduaW5SZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IocHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHNpZ25pblJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9uU3VjY2VzcyhzaWduaW5SZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAncGFzc3dvcmRsZXNzTG9naW4nKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBzZW5kSW5zdGFudFNpZ25Jbk90cFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBzdHJpbmcgaG9sZCBmb3JtIGRhdGEgZXguICdlbWFpbCdcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBXaWxsIHNlbmQgaW5zdGFudCB1c2VyIHNpZ25pbiBvdHAgdG8gdXNlciBsaW5rZWQgZW1haWwgYWRkcmVzcyBmb3IgcGFzc3dvcmRsZXNzIGxvZ2luLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZW5kSW5zdGFudFNpZ25Jbk90cCA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICB2YXIgZm9ybURhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xyXG4gICAgdmFyIHN0ciA9IGZvcm1EYXRhLmVtYWlsaWQgfHwgZm9ybURhdGEuZW1haWw7XHJcbiAgICBpZiAoIUxvZ2luUmFkaXVzRGVmYXVsdHMucmVnZXhFeHByZXNzaW9uLnBob25lUmVnZXgudGVzdChzdHIpKSB7XHJcbiAgICAgIG9uRXJyb3IoW3ByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ2ludmFsaWRQaG9uZSddKV0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIHBheWxvYWREYXRhID0gJ3Bob25lPScgKyBzdHI7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdHRVQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi9wYXNzd29yZGxlc3Nsb2dpbi9vdHA/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJicgKyBwYXlsb2FkRGF0YSwgJycsIGZ1bmN0aW9uIChzaWduaW5SZXNwb25zZSkge1xyXG4gICAgICAgIHdpbmRvdy5scnBhc3N3b3JkbGVzc2xvZ2lub3RwID0gZmFsc2U7XHJcbiAgICAgICAgd2luZG93LmxycGFzc3dvcmRsZXNzbG9naW4gPSBmYWxzZTtcclxuICAgICAgICBpZiAoc2lnbmluUmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKHByaXZhdGVGdW5jdGlvbnNNb2R1bGUubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihzaWduaW5SZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBvblN1Y2Nlc3Moc2lnbmluUmVzcG9uc2UpO1xyXG4gICAgICAgICAgaWYgKHNpZ25pblJlc3BvbnNlLkRhdGEgJiYgc2lnbmluUmVzcG9uc2UuRGF0YS5TaWQpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBwcml2YXRlRnVuY3Rpb25zTW9kdWxlKTtcclxuICAgICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcignYmVmb3JlRm9ybVJlbmRlcicsIGZ1bmN0aW9uIChuYW1lLCBzY2hlbWEpIHtcclxuICAgICAgICAgICAgICBpZiAoIW1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3Jlc2VuZG90cCcpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzZW5kQnRuT1RQU2NoZW1hID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kdWxlLmJ0bk9UUFNjaGVtYSwge1xyXG4gICAgICAgICAgICAgICAgICBuYW1lOiAncmVzZW5kb3RwJyxcclxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ1Jlc2VuZCBPVFAnLFxyXG4gICAgICAgICAgICAgICAgICBldmVudENhbGxiYWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNlbmRJbnN0YW50U2lnbkluT3RwKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNjaGVtYS5wdXNoKHJlc2VuZEJ0bk9UUFNjaGVtYSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5vdHBTY2hlbWE7XHJcbiAgICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuY3JlYXRlRm9ybShzY2hlbWEsICdvdHAnLCBjb250YWluZXIsIGZ1bmN0aW9uIChvdHBEYXRhKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHJlY2FwdGNoYWlkID0gX2NsYXNzUHJlZml4ICsgTG9naW5SYWRpdXNEZWZhdWx0cy5pZFByZWZpeCArICdyZWNhcHRjaGFfd2lkZ2V0X3ZlcmlmeW90cCc7XHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcnMudmVyaWZ5SW5zdGFudE9UUChvdHBEYXRhLCBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKHBheWxvYWREYXRhKSwgb25TdWNjZXNzLCBvbkVycm9yLCByZWNhcHRjaGFpZCwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgICAgICAgICAgb25FcnJvcihwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldE1hcHBlZE1lc3NhZ2UoZXJyb3JzKSk7XHJcbiAgICAgICAgICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAncGFzc3dvcmRsZXNzTG9naW4nKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiByZXNlbmRPVFBNYW51YWxseVxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGN1c3RvbWVyJ3MgcGhvbmUgbnVtYmVyIHVuZGVyIHRoZSBwaG9uZU5vMkZBIHBhcmFtZXRlci4gZS5nLiB7IHBob25lTm8yRkE6IFwieHh4eHh4eHh4eFwiIH1cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIHJlcXVpcmVkRmllbGQgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIHJlc2VuZCBvdHAgcHJvY2VzcyB0byB1c2VyIHBob25lIG51bWJlci5cclxuICAqL1xyXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZW5kT1RQTWFudWFsbHkgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcclxuICAgIHZhciByZWNhcHRjaGFpZCA9IF9jbGFzc1ByZWZpeCArIExvZ2luUmFkaXVzRGVmYXVsdHMuaWRQcmVmaXggKyAncmVjYXB0Y2hhX3dpZGdldF92ZXJpZnlvdHAnO1xyXG4gICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBwcml2YXRlRnVuY3Rpb25zTW9kdWxlKTtcclxuICAgIGlmIChtb2R1bGUuTFJDaGVjazJGQSAmJiAobW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxUd29GYWN0b3JBdXRoZW50aWNhdGlvbikgJiYgIW1vZHVsZS5MUkNoZWNrUmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgIGlmIChtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZE9UUEF1dGgpID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgY29udHJvbGxlcnMudXBkYXRlMkZBUGhvbmVOdW1iZXJDb250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb250cm9sbGVycy5yZXNlbmRPVFAyRkFDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcmVjYXB0Y2hhaWQsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29udHJvbGxlcnMucmVzZW5kT1RQQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHJlY2FwdGNoYWlkLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiB1cGRhdGVQaG9uZU51bWJlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkIHRvIGhvbGQgZGlmZmVyZW50IGZvcm1zXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBFcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtTdHJpbmd9IGZvcm1OYW1lIGZvcm0gbmFtZSBleC4gJ3VwZGF0ZVBob25lJ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgd2lsbCBjcmVhdGUgdXBkYXRlUGhvbmVOdW1iZXIgZm9ybSBhbmQgaW5pdGlhbGl6ZSB0aGUgdXBkYXRlUGhvbmVOdW1iZXIgcHJvY2Vzcy5cclxuICAqL1xyXG4gIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUudXBkYXRlUGhvbmVOdW1iZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgZm9ybU5hbWUsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKSB7XHJcbiAgICBpZiAobW9kdWxlLkxSQ2hlY2syRkEgJiYgKG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIHx8IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24pKSB7XHJcbiAgICAgIG1vZHVsZS5jaGVja1Bob25lTnVtYmVyU2NoZW1hWzBdLm5hbWUgPSAncGhvbmVObzJGQSc7XHJcbiAgICB9XHJcbiAgICBfY2xhc3NQcmVmaXggPSBfY2xhc3NQcmVmaXggfHwgTG9naW5SYWRpdXNEZWZhdWx0cy5jbGFzc1ByZWZpeDtcclxuICAgIHZhciBwaG9uZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoX2NsYXNzUHJlZml4ICsgJ3Nob3dRUmNvZGUnKVswXTtcclxuICAgIGlmIChwaG9uZUZvcm1FbGVtZW50KSB7XHJcbiAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaW5uZXJIVE1MID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHZhciBfZm9ybU5hbWUgPSBmb3JtTmFtZSB8fCAndXBkYXRlUGhvbmUnO1xyXG4gICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVGb3JtKG1vZHVsZS5jaGVja1Bob25lTnVtYmVyU2NoZW1hLCBfZm9ybU5hbWUsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBwcml2YXRlRnVuY3Rpb25zTW9kdWxlKTtcclxuICAgICAgaWYgKGRhdGEuaW5kZXhPZigncGhvbmU9JykgPT09IC0xICYmIChtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSkge1xyXG4gICAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZTJGQVBob25lTnVtYmVyQ29udHJvbGxlcihkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29udHJvbGxlcnMudXBkYXRlUGhvbmVOdW1iZXJDb250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZ1bmN0aW9uIChlcnJvcnMpIHtcclxuICAgICAgb25FcnJvcihlcnJvcnMpO1xyXG4gICAgfSwgX2NsYXNzUHJlZml4KTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIHBpbmdGb3JTbWFydExvZ2luXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY2xpZW50R3VpZCByYW5kb20gZ2VuZXJhdGVkIHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUSGlzIGZ1bmN0aW9uIHdpbGwga2VlcCBwaW5nIHRvIHVzZXIgZm9yIHNtYXJ0IGxvZ2luIHRpbGwgdXNlciBsb2dnZWQgaW4gaGlzIGFjY291bnQuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnBpbmdGb3JTbWFydExvZ2luID0gZnVuY3Rpb24gKGNsaWVudEd1aWQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIHBpbmdJbnRlcnZhbCA9IG1vZHVsZS5vcHRpb25zLmF1dG9Mb2dpblBpbmdJbnRlcnZhbCB8fCBtb2R1bGUub3B0aW9ucy5zbWFydExvZ2luUGluZ0ludGVydmFsO1xyXG4gICAgdmFyIHBpbmdDb3VudCA9IG1vZHVsZS5vcHRpb25zLmF1dG9Mb2dpblBpbmdDb3VudCB8fCBtb2R1bGUub3B0aW9ucy5zbWFydExvZ2luUGluZ0NvdW50O1xyXG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luL3NtYXJ0bG9naW4vcGluZz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmY2xpZW50R3VpZD0nICsgY2xpZW50R3VpZCwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlID09PSAxMTM5IHx8IHJlc3BvbnNlLkVycm9yQ29kZSA9PT0gMTE0MCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKExvZ2luUmFkaXVzRGVmYXVsdHMucGluZ0NvdW50IDwgcGluZ0NvdW50KSB7XHJcbiAgICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucGluZ0ZvclNtYXJ0TG9naW4oY2xpZW50R3VpZCwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5waW5nQ291bnQrKztcclxuICAgICAgICAgIH1cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgICAgIH0sIHBpbmdJbnRlcnZhbCAqIDEwMDApO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSAmJiByZXNwb25zZS5FcnJvckNvZGUgIT09IDExMzkpIHtcclxuICAgICAgICBvbkVycm9yKHJlc3BvbnNlKTtcclxuICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLnBpbmdDb3VudCA9IDA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLnBpbmdDb3VudCA9IDA7XHJcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgICAvLyBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmxvZ2luSGFuZGxlVG9rZW4ocmVzcG9uc2UsIFwiXCIsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH0sICdwaW5nU21hcnRMb2dpbicpO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gYWRkQ2hhbmdlRXZlbnRIYW5kbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIFRoZSBmb3JtIGNvbnRhaW5lciBJRFxyXG4gICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZm9ybSBmb3JtIGVsZW1lbnRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIGFjdGlvblxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGFzb3VyY2UgRGF0YSBzY2hlbWEgb2YgdGhlIHBhcmVudCBzb3VyY2VcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggcHJlZml4IHRvIGJlIGFkZGVkIHRvIGNsYXNzIG5hbWVzIGluIGZvcm0gZmllbGRzXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gY2hpbGRkYXRhc291cmNlIERhdGEgc2NoZW1hIG9mIHRoZSBjaGlsZCBzb3VyY2VcclxuICAqIEBkZXNjcmlwdGlvbiBVc2VkIHRvIGFkZCB0aGUgY3VzdG9tIGRhdGEgc291cmNlIGJhc2VkIG9uIHRoZSBwYXJlbnQgc2VsZWN0XHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmFkZENoYW5nZUV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChjb250YWluZXIsIGRhdGFzb3VyY2UsIGNoaWxkZGF0YXNvdXJjZSwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2hhbmdlJywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX2NsYXNzUHJlZml4ICsgJ3JlZ2lzdHJhdGlvbi0nICsgZGF0YXNvdXJjZS5uYW1lKSwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9yZWdpc3RyYXRpb25kYXRhLycgKyBjaGlsZGRhdGFzb3VyY2UuRGF0YVNvdXJjZSArICc/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnBhcmVudElkPScgKyB0aGlzLnZhbHVlLCAnJywgZnVuY3Rpb24gKGRzLCByZXNwb25zZSkge1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX2NsYXNzUHJlZml4ICsgJ3JlZ2lzdHJhdGlvbi0nICsgZHMubmFtZSk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgZm9yICh2YXIgbCA9IDE7IGwgPCBlbGVtZW50Lm9wdGlvbnMubGVuZ3RoOyBsKyspIHtcclxuICAgICAgICAgICAgZWxlbWVudC5vcHRpb25zW2xdID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXNwb25zZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoaiA9PT0gMCAmJiBlbGVtZW50Lm9wdGlvbnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZWxlbWVudC5vcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm9wdGlvbnNbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB2YXIgb3B0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgICAgICAgIG9wdGlvbjEuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHJlc3BvbnNlW2pdLklkKTtcclxuICAgICAgICAgICAgICBvcHRpb24xLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJlc3BvbnNlW2pdLktleSkpO1xyXG4gICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICAgICAgICBvcHRpb24yLnNldEF0dHJpYnV0ZSgndmFsdWUnLCByZXNwb25zZVtqXS5JZCk7XHJcbiAgICAgICAgICAgICAgb3B0aW9uMi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyZXNwb25zZVtqXS5LZXkpKTtcclxuICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbjIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZHMuY2hpbGRyZW4ubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuYWRkQ2hhbmdlRXZlbnRIYW5kbGVyKGNvbnRhaW5lciwgZHMsIGRzLmNoaWxkcmVuW2tdLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgJ3JlZ2lzdHJhdGlvbicsIGNoaWxkZGF0YXNvdXJjZSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBjcmVhdGVGb3JtRmllbGRzXHJcbiAgKiBAcGFyYW0ge0FycmF5fSBzY2hlbWEgU2NoZW1hIHByb3ZpZGVkIHRvIGNyZWF0ZSBmb3JtXHJcbiAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmb3JtIGZvcm0gZWxlbWVudFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgYWN0aW9uXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gdmFsaWRhdGlvblNjaGVtYSBTY2hlbWEgb2YgdGhlIGZvcm0gZmllbGRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggcHJlZml4IHRvIGJlIGFkZGVkIHRvIGNsYXNzIG5hbWVzIGluIGZvcm0gZmllbGRzXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2lkUHJlZml4IHByZWZpeCB0byBiZSBhZGRlZCB0byBpZCBuYW1lcyBpbiBmb3JtIGZpZWxkc1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsIGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgdGhlIGZvcm0gZmllbGRzIHdpdGggcHJvdmlkZWQgc2NoZW1hLlxyXG4gICovXHJcbiAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVGb3JtRmllbGRzID0gZnVuY3Rpb24gKHNjaGVtYSwgZm9ybSwgbmFtZSwgdmFsaWRhdGlvblNjaGVtYSwgX2NsYXNzUHJlZml4LCBfaWRQcmVmaXgsIG9uRXJyb3IpIHtcclxuICAgIG9uRXJyb3IgPSBvbkVycm9yIHx8IGZ1bmN0aW9uICgpIHsgLyogZG8gbm90aGluZy4gKi8gfTtcclxuICAgIHZhciBtZXRlckNvbmZpZztcclxuICAgIHZhciB0cmltRW1haWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgdmFyIGNzc0lkID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgdmFyIHR4dHBhc3MgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgICAgdmFyIG1ldGVyID0gbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQobmFtZSArICctcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInKTtcclxuICAgICAgdmFyIHRleHQgPSBtb2R1bGUudXRpbC5lbGVtZW50QnlJZChuYW1lICsgJy1wYXNzd29yZC1zdHJlbmd0aC10ZXh0Jyk7XHJcbiAgICAgIHRleHQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgIHZhciBzY29yZSA9IDA7XHJcbiAgICAgIGlmICh0eHRwYXNzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBzY29yZSsrO1xyXG4gICAgICAgIGlmICgodHh0cGFzcy5tYXRjaCgvW2Etel0vKSkgJiYgKHR4dHBhc3MubWF0Y2goL1tBLVpdLykpKSBzY29yZSsrO1xyXG4gICAgICAgIGlmICh0eHRwYXNzLm1hdGNoKC9cXGQrLykpIHNjb3JlKys7XHJcbiAgICAgICAgaWYgKHR4dHBhc3MubWF0Y2goLy5bISxALCMsJCwlLF4sJiwqLD8sXyx+LC0sKCwpXS8pKSBzY29yZSsrO1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgaWYgKHR4dHBhc3MubGVuZ3RoID4gMTIpIHNjb3JlKys7XHJcbiAgICAgIH1cclxuICAgICAgbWV0ZXIudmFsdWUgPSBzY29yZTtcclxuICAgICAgdmFyIGNzc09sZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG5hbWUgKyAnLXBhc3N3b3JkJyk7XHJcbiAgICAgIGlmIChjc3NPbGRFbGVtZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGNzc09sZEVsZW1lbnQubGVuZ3RoOyBsKyspIHtcclxuICAgICAgICAgIGNzc09sZEVsZW1lbnRbbF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjc3NPbGRFbGVtZW50W2xdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGNzcyA9IG1vZHVsZS51dGlsLmVsZW1lbnRCeUlkKGNzc0lkKSA/IG1vZHVsZS51dGlsLmVsZW1lbnRCeUlkKGNzc0lkKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICAgIGNzcy50eXBlID0gJ3RleHQvY3NzJztcclxuICAgICAgY3NzLmlkID0gY3NzSWQ7XHJcbiAgICAgIGNzcy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgbmFtZSArICctcGFzc3dvcmQnKTtcclxuICAgICAgdmFyIGlzRmlyZWZveCA9IChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTEpO1xyXG4gICAgICBpZiAoaXNGaXJlZm94KSB7XHJcbiAgICAgICAgY3NzLmlubmVySFRNTCA9ICcjJyArIG5hbWUgKyAnLXBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyOjotbW96LW1ldGVyLWJhciB7IGJhY2tncm91bmQ6ICcgKyBtZXRlckNvbmZpZ1tzY29yZV0uY29sb3IgKyAnICFpbXBvcnRhbnQ7IH0nO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNzcy5pbm5lckhUTUwgPSAnIycgKyBuYW1lICsgJy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcjo6LXdlYmtpdC1tZXRlci1vcHRpbXVtLXZhbHVlIHsgYmFja2dyb3VuZDogJyArIG1ldGVyQ29uZmlnW3Njb3JlXS5jb2xvciArICcgIWltcG9ydGFudDsgfSc7XHJcbiAgICAgIH1cclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjc3MpO1xyXG5cclxuICAgICAgaWYgKHR4dHBhc3MgIT09ICcnICYmIHNjb3JlID4gMCkge1xyXG4gICAgICAgIHRleHQuaW5uZXJIVE1MID0gJ1N0cmVuZ3RoOiAnICsgbWV0ZXJDb25maWdbc2NvcmVdLk1lc3NhZ2U7XHJcbiAgICAgICAgdGV4dC5zdHlsZS5jb2xvciA9ICcnO1xyXG4gICAgICB9IGVsc2UgaWYgKHR4dHBhc3MgIT09ICcnKSB7XHJcbiAgICAgICAgdGV4dC5pbm5lckhUTUwgPSBtZXRlckNvbmZpZ1tzY29yZV0uTWVzc2FnZTtcclxuICAgICAgICB0ZXh0LnN0eWxlLmNvbG9yID0gbWV0ZXJDb25maWdbc2NvcmVdLmNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGNoZWNrUGhvbmVOdW1iZXJBdmFpbGFiaWxpdHkgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgaWYgKHRoaXMudmFsdWUudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgIHZhciBjb250cm9sbGVycyA9IG5ldyBMb2dpblJhZGl1c0NvbnRyb2xsZXJzKG1vZHVsZSwgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZSk7XHJcbiAgICAgICAgY29udHJvbGxlcnMuY2hlY2tQaG9uZU51bWJlckF2YWlsYWJpbGl0eUNvbnRyb2xsZXIoJ3Bob25lPScgKyB0aGlzLnZhbHVlLCBmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICAgICAgaWYgKHJlc3AuSXNFeGlzdCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZvcm0uY2hpbGROb2Rlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgIGlmIChmb3JtLmNoaWxkTm9kZXNbal0uZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluZGV4T2YoJ3Bob25laWQnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uY2hpbGROb2Rlc1tqXS5jaGlsZE5vZGVzWzJdLmlubmVySFRNTCA9ICdwaG9uZSBhbHJlYWR5IGV4aXN0cywgZW50ZXIgdW5pcXVlIHBob25lIG51bWJlcic7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGZvcm0uY2hpbGROb2Rlcy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgIGlmIChmb3JtLmNoaWxkTm9kZXNba10uZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluZGV4T2YoJ3Bob25laWQnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uY2hpbGROb2Rlc1trXS5jaGlsZE5vZGVzWzJdLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIG9uRXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHNjaGVtYVtpXSkge1xyXG4gICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0VmFsaWRhdGlvbihzY2hlbWFbaV0pO1xyXG5cclxuICAgICAgICBpZiAoc2NoZW1hW2ldLnJ1bGVzICYmIHNjaGVtYVtpXS5ydWxlcyAhPT0gJycpIHtcclxuICAgICAgICAgIGlmIChzY2hlbWFbaV0ucnVsZXMuaW5kZXhPZignY3VzdG9tX3ZhbGlkYXRpb24nKSA+IC0xICYmIHNjaGVtYVtpXS5ydWxlcy5pbmRleE9mKCdjYWxsYmFja19jdXN0b21fdmFsaWRhdGlvbicpID09PSAtMSkge1xyXG4gICAgICAgICAgICBzY2hlbWFbaV0ucnVsZXMgPSBzY2hlbWFbaV0ucnVsZXMucmVwbGFjZSgvY3VzdG9tX3ZhbGlkYXRpb25cXGIvZywgJ2NhbGxiYWNrX2N1c3RvbV92YWxpZGF0aW9uJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhbGlkYXRpb25TY2hlbWFbaV0gPSB7fTtcclxuICAgICAgICB2YWxpZGF0aW9uU2NoZW1hW2ldLm5hbWUgPSBzY2hlbWFbaV0ubmFtZTtcclxuICAgICAgICB2YWxpZGF0aW9uU2NoZW1hW2ldLmRpc3BsYXkgPSBzY2hlbWFbaV0uZGlzcGxheTtcclxuICAgICAgICB2YWxpZGF0aW9uU2NoZW1hW2ldLnJ1bGVzID0gc2NoZW1hW2ldLnJ1bGVzO1xyXG5cclxuICAgICAgICB2YXIgZWxlbTtcclxuICAgICAgICBzd2l0Y2ggKHNjaGVtYVtpXS50eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICd0ZXh0JzpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY2FzZSAnaHRtbCc6XHJcbiAgICAgICAgICBjYXNlICdjYXB0Y2hhJzpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIGVsZW0udHlwZSA9ICdwYXNzd29yZCc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY2FzZSAnaGlkZGVuJzpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIGVsZW0udHlwZSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICBlbGVtLnZhbHVlID0gc2NoZW1hW2ldLnZhbHVlIHx8ICcnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjYXNlICdvcHRpb24nOlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RMYWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgICAgICBzZWxlY3RMYWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnLS0gc2VsZWN0IC0tJykpO1xyXG4gICAgICAgICAgICBzZWxlY3RMYWJsZS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgJycpO1xyXG4gICAgICAgICAgICBlbGVtLmFwcGVuZENoaWxkKHNlbGVjdExhYmxlKTtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxyXG4gICAgICAgICAgICBpZiAoc2NoZW1hW2ldLkRhdGFTb3VyY2UgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcclxuICAgICAgICAgICAgICBpZiAoc2NoZW1hW2ldLm9wdGlvbnMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzY2hlbWFbaV0ub3B0aW9ucy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgc2NoZW1hW2ldLm9wdGlvbnNbal0udmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgaWYgKHNjaGVtYVtpXS5uYW1lID09PSAnY291bnRyeScpIHsgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBzY2hlbWFbaV0ub3B0aW9uc1tqXS52YWx1ZSArICd8JyArIHNjaGVtYVtpXS5vcHRpb25zW2pdLnRleHQpOyB9XHJcblxyXG4gICAgICAgICAgICAgICAgICBvcHRpb24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc2NoZW1hW2ldLm9wdGlvbnNbal0udGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgICBlbGVtLmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlLmRlZmF1bHRPcHRpb25GaWVsZFtzY2hlbWFbaV0ubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgZWxlbS52YWx1ZSA9IG1vZHVsZS5kZWZhdWx0T3B0aW9uRmllbGRbc2NoZW1hW2ldLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNhc2UgJ211bHRpJzpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIGVsZW0udHlwZSA9ICdjaGVja2JveCc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY2FzZSAnZW1haWwnOlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgZWxlbS50eXBlID0gJ2VtYWlsJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY2FzZSAnYnV0dG9uJzpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIGVsZW0udHlwZSA9ICdidXR0b24nO1xyXG4gICAgICAgICAgICBlbGVtLnZhbHVlID0gc2NoZW1hW2ldLmRpc3BsYXk7XHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgLy8gIHdpbmRvdy5vcGVuKGRhdGEuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uUVJDb2RlKTtcclxuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICBlbGVtLnNyYyA9IHNjaGVtYVtpXS52YWx1ZTtcclxuICAgICAgICAgICAgZWxlbS50eXBlID0gJ2ltYWdlJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgZWxlbS50eXBlID0gJ3RleHQnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNjaGVtYVtpXS50aXRsZSkge1xyXG4gICAgICAgICAgZWxlbS50aXRsZSA9IHNjaGVtYVtpXS50aXRsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNjaGVtYVtpXS5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgZWxlbS5kaXNhYmxlZCA9IHNjaGVtYVtpXS5kaXNhYmxlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRBdHRyaWJ1dGUoc2NoZW1hW2ldLCBlbGVtKTtcclxuXHJcbiAgICAgICAgaWYgKHNjaGVtYVtpXS5wbGFjZWhvbGRlcikge1xyXG4gICAgICAgICAgZWxlbS5wbGFjZWhvbGRlciA9IHNjaGVtYVtpXS5wbGFjZWhvbGRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNjaGVtYVtpXS52YWx1ZSkge1xyXG4gICAgICAgICAgaWYgKHNjaGVtYVtpXS50eXBlID09PSAnbXVsdGknKSB7XHJcbiAgICAgICAgICAgIGVsZW0uY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVtLnZhbHVlID0gc2NoZW1hW2ldLnZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2NoZW1hW2ldLnR5cGUgPT09ICdodG1sJykge1xyXG4gICAgICAgICAgdmFyIGRpdkhUTUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGRpdkhUTUwuc2V0QXR0cmlidXRlKCdjbGFzcycsIF9jbGFzc1ByZWZpeCArICctZm9ybS1lbGVtZW50LWNvbnRlbnQnICsgJyBjb250ZW50LScgKyBfaWRQcmVmaXggKyBzY2hlbWFbaV0ubmFtZSk7XHJcbiAgICAgICAgICBkaXZIVE1MLmlubmVySFRNTCA9IHNjaGVtYVtpXS5odG1sO1xyXG4gICAgICAgICAgaWYgKHNjaGVtYVtpXS5ldmVudCkge1xyXG4gICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudChzY2hlbWFbaV0uZXZlbnQsIGRpdkhUTUwsIHNjaGVtYVtpXS5ldmVudENhbGxiYWNrKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZGl2SFRNTCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWFbaV0udHlwZSA9PT0gJ2NhcHRjaGEnKSB7XHJcbiAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBfY2xhc3NQcmVmaXggKyAnLWZvcm0tZWxlbWVudC1jb250ZW50JyArICcgY29udGVudC0nICsgX2lkUHJlZml4ICsgc2NoZW1hW2ldLm5hbWUpO1xyXG4gICAgICAgICAgZGl2LmlubmVySFRNTCA9IHNjaGVtYVtpXS5odG1sO1xyXG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmZvcm1WYWxpZGF0aW9uTWVzc2FnZSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsaWRhdGlvbkRpdkJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25EaXZCbG9jay5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3ZhbGlkYXRpb24tJyArIF9pZFByZWZpeCArIG5hbWUgKyAnLScgKyBzY2hlbWFbaV0ubmFtZSk7XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25EaXZCbG9jay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX2NsYXNzUHJlZml4ICsgJ3ZhbGlkYXRpb24tbWVzc2FnZScgKyAnIHZhbGlkYXRpb24tJyArIF9pZFByZWZpeCArIHNjaGVtYVtpXS5uYW1lKTtcclxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHZhbGlkYXRpb25EaXZCbG9jayk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCduYW1lJywgc2NoZW1hW2ldLm5hbWUpO1xyXG4gICAgICAgICAgaWYgKHNjaGVtYVtpXS5uYW1lICYmIChzY2hlbWFbaV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAncGhvbmVpZCcgfHwgc2NoZW1hW2ldLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3Bob25lJykgJiYgbW9kdWxlLm9wdGlvbnMuZXhpc3RQaG9uZU51bWJlciAmJiBuYW1lID09PSAncmVnaXN0cmF0aW9uJykge1xyXG4gICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnYmx1cicsIGVsZW0sIGNoZWNrUGhvbmVOdW1iZXJBdmFpbGFiaWxpdHkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChzY2hlbWFbaV0ubmFtZSA9PT0gJ2VtYWlsaWQnKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KCdrZXl1cCcsIGVsZW0sIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDMyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdpZCcsIF9pZFByZWZpeCArIG5hbWUgKyAnLScgKyBzY2hlbWFbaV0ubmFtZSk7XHJcbiAgICAgICAgICBpZiAoc2NoZW1hW2ldLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEV2ZW50KHNjaGVtYVtpXS5ldmVudCwgZWxlbSwgc2NoZW1hW2ldLmV2ZW50Q2FsbGJhY2spO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChtb2R1bGUuZXZlbnRzTmFtZVtlbGVtLmlkXSkge1xyXG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gbW9kdWxlLmV2ZW50c05hbWVbZWxlbS5pZF07XHJcbiAgICAgICAgICAgIGlmIChtb2R1bGUudXRpbC5pc0FycmF5KGV2ZW50cykpIHtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IGV2ZW50cy5sZW5ndGg7IGgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50c1toXS5ldmVudCAmJiBldmVudHNbaF0uZXZlbnRDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudChldmVudHNbaF0uZXZlbnQsIGVsZW0sIGV2ZW50c1toXS5ldmVudENhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoZXZlbnRzLmV2ZW50LCBlbGVtLCBldmVudHMuZXZlbnRDYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc2NoZW1hW2ldLnR5cGUgPT09ICdoaWRkZW4nKSB7XHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYVtpXS50eXBlID09PSAnYnV0dG9uJykge1xyXG4gICAgICAgICAgICB2YXIgYnV0dG9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbkRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX2NsYXNzUHJlZml4ICsgJy1mb3JtLWVsZW1lbnQtY29udGVudCcgKyAnIGNvbnRlbnQtJyArIF9pZFByZWZpeCArIHNjaGVtYVtpXS5uYW1lKTtcclxuICAgICAgICAgICAgYnV0dG9uRGl2LmFwcGVuZENoaWxkKGVsZW0pO1xyXG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGJ1dHRvbkRpdik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIF9pZFByZWZpeCArIG5hbWUgKyAnLScgKyBzY2hlbWFbaV0ubmFtZSk7XHJcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IHNjaGVtYVtpXS5kaXNwbGF5O1xyXG5cclxuICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX2NsYXNzUHJlZml4ICsgc2NoZW1hW2ldLnR5cGUgKyAnICcgKyBfaWRQcmVmaXggKyBzY2hlbWFbaV0ubmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChzY2hlbWFbaV0ucnVsZXMpIHtcclxuICAgICAgICAgICAgICBpZiAoc2NoZW1hW2ldLnJ1bGVzLmluZGV4T2YoJ3JlcXVpcmVkJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTmFtZSArPSAnIGxyLXJlcXVpcmVkJztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBjb250YWluZXJEaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsIF9jbGFzc1ByZWZpeCArICctZm9ybS1lbGVtZW50LWNvbnRlbnQnICsgJyBjb250ZW50LScgKyBfaWRQcmVmaXggKyBzY2hlbWFbaV0ubmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2NoZW1hW2ldLnR5cGUgPT09ICdtdWx0aScpIHtcclxuICAgICAgICAgICAgICBjb250YWluZXJEaXYuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgY29udGFpbmVyRGl2LmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjb250YWluZXJEaXYuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgICAgICAgICAgIGNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZChlbGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2NoZW1hW2ldLnN0eWxlICYmIHNjaGVtYVtpXS5zdHlsZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBzY2hlbWFbaV0uc3R5bGUubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckRpdi5zdHlsZVtzY2hlbWFbaV0uc3R5bGVbZ10ua2V5XSA9IHNjaGVtYVtpXS5zdHlsZVtnXS52YWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmZvcm1WYWxpZGF0aW9uTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgIHZhciB2YWxpZGF0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbkRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3ZhbGlkYXRpb24tJyArIF9pZFByZWZpeCArIG5hbWUgKyAnLScgKyBzY2hlbWFbaV0ubmFtZSk7XHJcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbkRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX2NsYXNzUHJlZml4ICsgJ3ZhbGlkYXRpb24tbWVzc2FnZScgKyAnIHZhbGlkYXRpb24tJyArIF9pZFByZWZpeCArIHNjaGVtYVtpXS5uYW1lKTtcclxuICAgICAgICAgICAgICBjb250YWluZXJEaXYuYXBwZW5kQ2hpbGQodmFsaWRhdGlvbkRpdik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5kaXNwbGF5UGFzc3dvcmRTdHJlbmd0aCAmJiAoZWxlbS5uYW1lID09PSAncGFzc3dvcmQnIHx8IGVsZW0ubmFtZSA9PT0gJ25ld3Bhc3N3b3JkJykgJiYgKG5hbWUgPT09ICdyZWdpc3RyYXRpb24nIHx8IG5hbWUgPT09ICdyZXNldHBhc3N3b3JkJyB8fCBuYW1lID09PSAnc2V0cGFzc3dvcmQnIHx8IG5hbWUgPT09ICdjaGFuZ2VwYXNzd29yZCcgfHwgbmFtZSA9PT0gJ3NvY2lhbFJlZ2lzdHJhdGlvbicgfHwgbmFtZSA9PT0gJ2xvZ2luUmVxdWlyZWRGaWVsZHNVcGRhdGUnKSkge1xyXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgICAgICAgdmFyIG1pbkxlbmd0aCA9IChtb2R1bGUub3B0aW9ucy5wYXNzd29yZExlbmd0aCAmJiBtb2R1bGUub3B0aW9ucy5wYXNzd29yZExlbmd0aC5taW4pIHx8IDY7XHJcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcclxuICAgICAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gKG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkTGVuZ3RoICYmIG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkTGVuZ3RoLm1heCkgfHwgMzI7XHJcbiAgICAgICAgICAgICAgaWYgKHNjaGVtYVtpXS5ydWxlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9ydWxlcyA9IHNjaGVtYVtpXS5ydWxlcy5zcGxpdCgnfCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgX3J1bGVzLmxlbmd0aDsgcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChfcnVsZXNbcl0uaW5kZXhPZignbWluX2xlbmd0aCcpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aCA9IF9ydWxlc1tyXS5zdWJzdHJpbmcoMTEsIChfcnVsZXNbcl0ubGVuZ3RoIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9ydWxlc1tyXS5pbmRleE9mKCdtYXhfbGVuZ3RoJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoID0gX3J1bGVzW3JdLnN1YnN0cmluZygxMSwgKF9ydWxlc1tyXS5sZW5ndGggLSAxKSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHZhciBtZXRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRlcicpO1xyXG4gICAgICAgICAgICAgIG1ldGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ21heCcsICc0Jyk7XHJcbiAgICAgICAgICAgICAgbWV0ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBuYW1lICsgJy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcicpO1xyXG4gICAgICAgICAgICAgIHZhciB0ZXh0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgIHRleHRFbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBuYW1lICsgJy1wYXNzd29yZC1zdHJlbmd0aC10ZXh0Jyk7XHJcbiAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG1ldGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRleHRFbGVtZW50KTtcclxuICAgICAgICAgICAgICBtZXRlckNvbmZpZyA9IGdldFBhc3N3b3JkTWV0ZXJDb25maWd1cmF0aW9uKG1pbkxlbmd0aCwgbWF4TGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2tleXVwJywgZWxlbSwgdHJpbUVtYWlsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNvbnRhaW5lckRpdik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBzZXRUb2tlblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIG5hbWUgb2YgdGhlIGZvcm1cclxuICAqIEBkZXNjcmlwdGlvbiBTZXQgdGhlIHRva2VuIGluIHRoZSBjb29raWUuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldFRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBMUk5hbWVTcGFjZS5jb29raWVzLnNldEl0ZW0oTG9naW5SYWRpdXNEZWZhdWx0cy50b2tlbkNvb2tpZSwgdG9rZW4sICcnLCBtb2R1bGUub3B0aW9ucy5hcHBQYXRoKTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zI1xyXG4gICogQGZ1bmN0aW9uIHJlc2V0R29vZ2xlQ2FwdGNoYVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZm9ybVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHJlY2FwdGNoYWlkIFRoZSBJRCBvZiB0aGUgcmVjcGF0Y2ggY29udGFpbmVyXHJcbiAgKiBAZGVzY3JpcHRpb24gUmVzZXQgdGhlIGdvb2dsZSByZWNhcHRjaGEgaW4gdGhlIGZvcm0uXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnJlc2V0R29vZ2xlQ2FwdGNoYSA9IGZ1bmN0aW9uIChuYW1lLCByZWNhcHRjaGFpZCkge1xyXG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbi5Jc0VuYWJsZWQgJiYgbmFtZSAhPT0gJ3JlZ2lzdHJhdGlvbicpIHtcclxuICAgICAgdmFyIGRvbVJlY2FwdGNoYSA9IG1vZHVsZS51dGlsLmVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkLCB0cnVlKTtcclxuICAgICAgaWYgKHdpbmRvdy5ncmVjYXB0Y2hhICYmIGRvbVJlY2FwdGNoYSAmJiBkb21SZWNhcHRjaGEuaW5uZXJIVE1MICE9PSAnJykge1xyXG4gICAgICAgIGdyZWNhcHRjaGEucmVzZXQod2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAcHJpdmF0ZVxyXG4gICogQGZ1bmN0aW9uIGlzQWRkQm90UHJvdGVjdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9uYW1lIG5hbWUgb2YgdGhlIGFjdGlvblxyXG4gICogQHBhcmFtIHtCb29sZWFufSBlbmFibGVkQXV0aEFQSXMgQXV0aCBBUGkgYWhzIGVuYWJsZWQgdGhlIHJlY2FwdGNoYSBvciBub3RcclxuICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWV8ZmFsc2VcclxuICAqIEBkZXNjcmlwdGlvbiBjaGVjayB3aGV0aGVyIHRvIGFkZCBib3QgcHJvdGVjdGlvbiBvciBub3QuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBpc0FkZEJvdFByb3RlY3Rpb24gKF9uYW1lLCBlbmFibGVkQXV0aEFQSXMpIHtcclxuICAgIHZhciBuYW1lID0gX25hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgIHJldHVybiAoKG5hbWUgPT09ICdjaGFuZ2VwYXNzd29yZCcgJiYgZW5hYmxlZEF1dGhBUElzWydQdXRDaGFuZ2VQYXNzd29yZCddKSB8fCAoKG5hbWUgPT09ICdwcm9maWxlZWRpdG9yJyB8fCBuYW1lID09PSAnbG9naW5SZXF1aXJlZEZpZWxkc1VwZGF0ZScgfHwgbmFtZSA9PT0gJ3Byb2dyZXNzaXZlUHJvZmlsaW5nJyB8fCBuYW1lID09PSAnc29jaWFsUmVnaXN0cmF0aW9uJykgJiYgZW5hYmxlZEF1dGhBUElzWydQdXRVcGRhdGVQcm9maWxlJ10pIHx8XHJcbiAgICAgIChuYW1lID09PSAnZm9yZ290cGFzc3dvcmQnICYmICgobW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbiAmJiBlbmFibGVkQXV0aEFQSXNbJ1Bvc3RGb3Jnb3RQYXNzd29yZEJ5UGhvbmUnXSAmJiBlbmFibGVkQXV0aEFQSXNbJ1Bvc3RGb3Jnb3RQYXNzd29yZEJ5RW1haWwnXSkgfHwgKCFtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luICYmIGVuYWJsZWRBdXRoQVBJc1snUG9zdEZvcmdvdFBhc3N3b3JkQnlFbWFpbCddKSkpIHx8XHJcbiAgICAgIChuYW1lID09PSAnbG9naW4nICYmICgobW9kdWxlLm9wdGlvbnMudXNlcm5hbWVMb2dpbiAmJiBlbmFibGVkQXV0aEFQSXNbJ1Bvc3RMb2dpbkJ5VXNlck5hbWVBbmRQYXNzd29yZCddICYmIG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4gJiYgZW5hYmxlZEF1dGhBUElzWydQb3N0TG9naW5CeUVtYWlsQW5kUGFzc3dvcmQnXSAmJiBlbmFibGVkQXV0aEFQSXNbJ1Bvc3RMb2dpbkJ5UGhvbmVBbmRQYXNzd29yZCddKSB8fFxyXG4gICAgICAgIChtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luICYmIGVuYWJsZWRBdXRoQVBJc1snUG9zdExvZ2luQnlFbWFpbEFuZFBhc3N3b3JkJ10gJiYgZW5hYmxlZEF1dGhBUElzWydQb3N0TG9naW5CeVBob25lQW5kUGFzc3dvcmQnXSkgfHxcclxuICAgICAgICAoIW1vZHVsZS5vcHRpb25zLnBob25lTG9naW4gJiYgbW9kdWxlLm9wdGlvbnMudXNlcm5hbWVMb2dpbiAmJiBlbmFibGVkQXV0aEFQSXNbJ1Bvc3RMb2dpbkJ5VXNlck5hbWVBbmRQYXNzd29yZCddKSB8fFxyXG4gICAgICAgICghbW9kdWxlLm9wdGlvbnMudXNlcm5hbWVMb2dpbiAmJiAhbW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbiAmJiBlbmFibGVkQXV0aEFQSXNbJ1Bvc3RMb2dpbkJ5RW1haWxBbmRQYXNzd29yZCddKSkpKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gY3JlYXRlRm9ybVxyXG4gICogQHBhcmFtIHtBcnJheX0gc2NoZW1hIFNjaGVtYSBwcm92aWRlZCB0byBjcmVhdGUgZm9ybVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZm9ybVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBjb250YWluZXIgaW4gd2hpY2ggZm9ybSB0byBiZSBhcHBlbmRlZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1dWNlc3MgY2FsbCBiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGwgYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeE5hbWUgdGhlIGNsYXNzIHByZWZpeCB0byBiZSBhZGRlZCBpbnRvIGZvcm0gZWxlbWVudHNcclxuICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgdGhlIGZvcm0gd2l0aCBwcm92aWRlZCBzY2hlbWEuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNyZWF0ZUZvcm0gPSBmdW5jdGlvbiAoc2NoZW1hLCBuYW1lLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4TmFtZSkge1xyXG4gICAgdmFyIF9pZFByZWZpeCA9IF9jbGFzc1ByZWZpeE5hbWUgfHwgTG9naW5SYWRpdXNEZWZhdWx0cy5pZFByZWZpeDtcclxuICAgIHZhciBfY2xhc3NQcmVmaXggPSBfY2xhc3NQcmVmaXhOYW1lIHx8IExvZ2luUmFkaXVzRGVmYXVsdHMuY2xhc3NQcmVmaXg7XHJcbiAgICB2YXIgcmVjYXB0Y2hhaWQ7XHJcbiAgICBtb2R1bGUuTFJQcmVmaXggPSBfY2xhc3NQcmVmaXhOYW1lICsgJyMjJyArIExvZ2luUmFkaXVzRGVmYXVsdHMuaWRQcmVmaXg7XHJcbiAgICBpZiAoKG1vZHVsZS5vcHRpb25zLmxvZ2luTG9ja2VkVHlwZSA9PT0gJ0NhcHRjaGEnICYmIG5hbWUgIT09ICdyZWdpc3RyYXRpb24nKSB8fCAobW9kdWxlLm9wdGlvbnMub3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uLklzRW5hYmxlZCkpIHtcclxuICAgICAgdmFyIGVuYWJsZWRBdXRoQVBJcyA9IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsUmVjYXB0Y2hhQ29uZmlndXJhdGlvbi5BcGlzO1xyXG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMubG9naW5Mb2NrZWRUeXBlID09PSAnQ2FwdGNoYScgfHwgKGVuYWJsZWRBdXRoQVBJcyAmJiBpc0FkZEJvdFByb3RlY3Rpb24obmFtZSwgZW5hYmxlZEF1dGhBUElzKSkpIHtcclxuICAgICAgICByZWNhcHRjaGFpZCA9IF9jbGFzc1ByZWZpeE5hbWUgKyBMb2dpblJhZGl1c0RlZmF1bHRzLmlkUHJlZml4ICsgJ3JlY2FwdGNoYV93aWRnZXRfJyArIG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBtb2R1bGUudXRpbC5hZGRSZWNhcHRjaGFKUygpO1xyXG4gICAgICAgIG1vZHVsZS51dGlsLmNhcHRjaGFTY2hlbWEocmVjYXB0Y2hhaWQsIHNjaGVtYSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnYmVmb3JlRm9ybVJlbmRlcicsIG5hbWUsIHNjaGVtYSk7XHJcbiAgICBpZiAoIUxvZ2luUmFkaXVzRGVmYXVsdHMuX3V1aWRGb3JtYXQudGVzdChtb2R1bGUub3B0aW9ucy5hcGlLZXkpKSB7XHJcbiAgICAgIG1vZHVsZS5sb2coJ2FwaUtleSBpcyBub3QgaW4gdmFsaWQgZ3VpZCBmb3JtYXQuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlzUmVnRm9ybVNjaGVtYUxvY2sgPSBmYWxzZTtcclxuICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pc1NlY3VyaXR5Rm9ybVNjaGVtYUxvY2sgPSBmYWxzZTtcclxuXHJcbiAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUuc2V0Q3VzdG9tTGFiZWwoc2NoZW1hKTtcclxuICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5zZXRQbGFjZWhvbGRlcihzY2hlbWEpO1xyXG4gICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldEN1c3RvbVRpdGxlKHNjaGVtYSk7XHJcbiAgICAgIGlmIChzY2hlbWEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciB2YWxpZGF0aW9uU2NoZW1hID0gW107XHJcbiAgICAgICAgdmFyIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XHJcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBfaWRQcmVmaXggKyBuYW1lKTtcclxuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnbWV0aG9kJywgJ1BPU1QnKTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZUZ1bmN0aW9uc01vZHVsZS5jcmVhdGVGb3JtRmllbGRzKHNjaGVtYSwgZm9ybSwgbmFtZSwgdmFsaWRhdGlvblNjaGVtYSwgX2NsYXNzUHJlZml4LCBfaWRQcmVmaXgsIG9uRXJyb3IpO1xyXG5cclxuICAgICAgICB2YXIgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICB2YXIgYnV0dG9uTmFtZSA9IG1vZHVsZS5idXR0b25zTmFtZVtuYW1lLnRvTG93ZXJDYXNlKCldIHx8IGRlZmF1bHRCdXR0b25zTmFtZVtuYW1lLnRvTG93ZXJDYXNlKCldO1xyXG4gICAgICAgIHZhciBidXR0b25LZXlOYW1lID0gZGVmYXVsdEJ1dHRvbnNOYW1lW25hbWUudG9Mb3dlckNhc2UoKV07XHJcbiAgICAgICAgdmFyIHN1Ym1pdEJ1dHRvbklkID0gYnV0dG9uS2V5TmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJy0nKTtcclxuICAgICAgICBzdWJtaXQudHlwZSA9ICdzdWJtaXQnO1xyXG4gICAgICAgIHN1Ym1pdC52YWx1ZSA9IGJ1dHRvbk5hbWU7XHJcbiAgICAgICAgc3VibWl0LmlkID0gX2lkUHJlZml4ICsgJ3N1Ym1pdC0nICsgc3VibWl0QnV0dG9uSWQ7XHJcbiAgICAgICAgc3VibWl0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBfY2xhc3NQcmVmaXggKyAnc3VibWl0JyArICcgc3VibWl0LScgKyBfaWRQcmVmaXggKyBzdWJtaXRCdXR0b25JZCk7XHJcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmRpc2FibGVCdXR0b25PbnN1Ym1pdCkge1xyXG4gICAgICAgICAgdmFyIF9jdXJyZW50Rm9ybU5hbWU7XHJcbiAgICAgICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdldmVudENhbGxzJywgZnVuY3Rpb24gKF9fbmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5scnBhc3N3b3JkbGVzc2xvZ2lub3RwICYmICF3aW5kb3cubHJwYXNzd29yZGxlc3Nsb2dpbikge1xyXG4gICAgICAgICAgICAgIF9jdXJyZW50Rm9ybU5hbWUgPSBfX25hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3Rlcignc3RhcnRQcm9jZXNzJywgZnVuY3Rpb24gKGFjdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoX2N1cnJlbnRGb3JtTmFtZSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgIHN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcigneGhyRW5kV2l0aEVycm9yJywgZnVuY3Rpb24gKGFjdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoX2N1cnJlbnRGb3JtTmFtZSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgIHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ3hockVuZFdpdGhTdWNjZXNzJywgZnVuY3Rpb24gKGFjdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoX2N1cnJlbnRGb3JtTmFtZSA9PT0gbmFtZSAmJiBtb2R1bGUub3B0aW9ucy5lbmFibGVTdWJtaXRPblN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICBzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0KTtcclxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMucGFzc3dvcmRsZXNzTG9naW4gJiYgbmFtZSA9PT0gJ2xvZ2luJykge1xyXG4gICAgICAgICAgY3JlYXRlT25lQ2xpY2tCdXR0b24oJ3Bhc3N3b3JkbGVzc2xvZ2luYnV0dG9ubGFiZWwnLCBmb3JtLCBzdWJtaXQsIF9pZFByZWZpeCwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luT1RQICYmIG5hbWUgPT09ICdsb2dpbicpIHtcclxuICAgICAgICAgIGNyZWF0ZU9uZUNsaWNrQnV0dG9uKCdwYXNzd29yZGxlc3NMb2dpbk9UUEJ1dHRvbkxhYmVsJywgZm9ybSwgc3VibWl0LCBfaWRQcmVmaXgsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGZvcm0sIExvZ2luUmFkaXVzRGVmYXVsdHMuaW5uZXJIVE1MKTtcclxuICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ2FmdGVyRm9ybVJlbmRlcicsIG5hbWUsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4LCBmb3JtKTtcclxuICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICB2YXIgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoX2lkUHJlZml4ICsgbmFtZSwgdmFsaWRhdGlvblNjaGVtYSwgZnVuY3Rpb24gKGVycm9ycywgZXZ0KSB7XHJcbiAgICAgICAgICB2YXIgZm9ybU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZm9ybScpO1xyXG4gICAgICAgICAgdmFyIGZvcm1FbGVtZW50c05hbWUgPSAnJztcclxuICAgICAgICAgIGlmIChmb3JtTmFtZVtfaWRQcmVmaXggKyBuYW1lXSkge1xyXG4gICAgICAgICAgICBmb3JtRWxlbWVudHNOYW1lID0gZm9ybU5hbWVbX2lkUHJlZml4ICsgbmFtZV07XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmb3JtTmFtZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBmb3JtTmFtZS5sZW5ndGg7IHQrKykge1xyXG4gICAgICAgICAgICAgIGlmIChmb3JtTmFtZVt0XS5uYW1lID09PSBfaWRQcmVmaXggKyBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtRWxlbWVudHNOYW1lID0gZm9ybU5hbWVbdF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBtb2R1bGUuY3VycmVudExSQ29udGFpbmVyID0gZm9ybUVsZW1lbnRzTmFtZS5wYXJlbnRFbGVtZW50LmlkO1xyXG4gICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdldmVudENhbGxzJywgbmFtZSwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICAgIGlmIChtb2R1bGUubWVyZ2VGb3JtRXJyb3JzICYmIG1vZHVsZS5tZXJnZUZvcm1FcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBlcnJvcnMgPSBtb2R1bGUudXRpbC5tZXJnZU9iamVjdHMoZXJyb3JzLCBtb2R1bGUubWVyZ2VGb3JtRXJyb3JzKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgdmFsaWRhdGlvbkRpdnMgPSBtb2R1bGUudXRpbC5lbGVtZW50c0J5Q2xhc3MoX2NsYXNzUHJlZml4ICsgJ3ZhbGlkYXRpb24tbWVzc2FnZScpO1xyXG4gICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCB2YWxpZGF0aW9uRGl2cy5sZW5ndGg7IG0rKykge1xyXG4gICAgICAgICAgICB2YWxpZGF0aW9uRGl2c1ttXS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhciByZWNhcHRjaGFpZCA9IF9jbGFzc1ByZWZpeE5hbWUgKyBfaWRQcmVmaXggKyAncmVjYXB0Y2hhX3dpZGdldCc7XHJcbiAgICAgICAgICByZWNhcHRjaGFpZCArPSAnXycgKyBuYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICB2YXIgdGVuY2VudENhcHRjaGFJZCA9IG1vZHVsZS51dGlsLmVsZW1lbnRCeUlkKHJlY2FwdGNoYWlkICsgJ190ZW5jZW50Jyk7XHJcblxyXG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmludmlzaWJsZVJlY2FwdGNoYSkge1xyXG4gICAgICAgICAgICB3aW5kb3cub25DYXB0Y2hhU3VibWl0ID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgb25TdWNjZXNzKG1vZHVsZS51dGlsLnNlcmlhbGl6ZShmb3JtKSk7XHJcbiAgICAgICAgICAgICAgZ3JlY2FwdGNoYS5yZXNldCh3aW5kb3dbcmVjYXB0Y2hhaWQgKyAnbHJfcmVjYXB0Y2hhX3dpZGdldHNfaWRwcmVmaXgnXSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxyXG4gICAgICAgICAgaWYgKHRlbmNlbnRDYXB0Y2hhSWQgJiYgdGVuY2VudENhcHRjaGFJZC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScgJiYgKG1vZHVsZS5vcHRpb25zLnRlbmNlbnRDYXB0Y2hhIHx8IChtb2R1bGUub3B0aW9ucy50ZW5jZW50Q2FwdGNoYUFzRmFsbGJhY2sgJiYgIXdpbmRvdy5ncmVjYXB0Y2hhKSkgJiYgZXJyb3JzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRlbmNlbnRDYXB0Y2hhSWQuY2xpY2soKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdhZnRlclZhbGlkYXRpb24nLCBuYW1lKTtcclxuICAgICAgICAgICAgLy8gIGlmIChtb2R1bGUub3B0aW9ucy5mb3JtVmFsaWRhdGlvbk1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBpZiAoKGVycm9yc1tpXS5JZCA9PT0gX2lkUHJlZml4ICsgJycgKyBuYW1lICsgJy1wYXNzd29yZCcgJiYgbmFtZSA9PT0gJ2xvZ2luJyAmJiAoKG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luICYmIHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbiddKSB8fCAobW9kdWxlLm9wdGlvbnMucGFzc3dvcmRsZXNzTG9naW5PVFAgJiYgd2luZG93WydscnBhc3N3b3JkbGVzc2xvZ2lub3RwJ10pKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID09PSAxIHx8IGVycm9ycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgaGFuZGxlRm9ybVJlc3BvbnNlKGZvcm0sIG9uU3VjY2VzcywgcmVjYXB0Y2hhaWQsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnJlc2V0R29vZ2xlQ2FwdGNoYShuYW1lLCByZWNhcHRjaGFpZCk7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZm9ybVZhbGlkYXRpb25NZXNzYWdlICYmIGVycm9yc1tpXS5OYW1lICE9PSAncmVzZXR0b2tlbicpIHtcclxuICAgICAgICAgICAgICAgICAgbW9kdWxlLnV0aWwuZWxlbWVudEJ5SWQoJ3ZhbGlkYXRpb24tJyArIF9pZFByZWZpeCArIG5hbWUgKyAnLScgKyBlcnJvcnNbaV0uTmFtZSkuaW5uZXJIVE1MID0gZXJyb3JzW2ldLk1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghbW9kdWxlLm9wdGlvbnMuZm9ybVZhbGlkYXRpb25NZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgb25FcnJvcihlcnJvcnMpO1xyXG4gICAgICAgICAgICAgIHByaXZhdGVGdW5jdGlvbnNNb2R1bGUucmVzZXRHb29nbGVDYXB0Y2hhKG5hbWUsIHJlY2FwdGNoYWlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaGFuZGxlRm9ybVJlc3BvbnNlKGZvcm0sIG9uU3VjY2VzcywgcmVjYXB0Y2hhaWQsIG5hbWUpO1xyXG4gICAgICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnJlc2V0R29vZ2xlQ2FwdGNoYShuYW1lLCByZWNhcHRjaGFpZCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGV2dCAmJiBldnQucHJldmVudERlZmF1bHQpIHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHZhbGlkRGF0ZUVycm9yTWVzc2FnZTtcclxuICAgICAgICBpZiAobW9kdWxlLnZhbGlkYXRpb25NZXNzYWdlcyAmJiBtb2R1bGUudmFsaWRhdGlvbk1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnZhbGlkYXRpb25NZXNzYWdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3Iuc2V0TWVzc2FnZShtb2R1bGUudmFsaWRhdGlvbk1lc3NhZ2VzW2ldLnJ1bGUsIG1vZHVsZS52YWxpZGF0aW9uTWVzc2FnZXNbaV0ubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGlmIChtb2R1bGUudmFsaWRhdGlvbk1lc3NhZ2VzW2ldLnJ1bGUgPT09ICd2YWxpZF9kYXRlJyB8fCBtb2R1bGUudmFsaWRhdGlvbk1lc3NhZ2VzW2ldLnJ1bGUgPT09ICdjYWxsYmFja192YWxpZF9kYXRlJykge1xyXG4gICAgICAgICAgICAgIHZhbGlkRGF0ZUVycm9yTWVzc2FnZSA9IG1vZHVsZS52YWxpZGF0aW9uTWVzc2FnZXNbaV0ubWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsaWRhdG9yLnJlZ2lzdGVyQ2FsbGJhY2soJ3ZhbGlkX2RhdGUnLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiBpc1ZhbGlkRGF0ZSh2YWx1ZSk7XHJcbiAgICAgICAgfSkuc2V0TWVzc2FnZSgndmFsaWRfZGF0ZScsICh2YWxpZERhdGVFcnJvck1lc3NhZ2UgfHwgJ1RoZSAlcyBmaWVsZCBtdXN0IGNvbnRhaW4gYSB2YWxpZCBkYXRlLicpKTtcclxuXHJcbiAgICAgICAgdmFsaWRhdG9yLnJlZ2lzdGVyQ2FsbGJhY2soJ2N1c3RvbV92YWxpZGF0aW9uJywgZnVuY3Rpb24gKHZhbHVlLCBwYXJtKSB7XHJcbiAgICAgICAgICByZXR1cm4gaXNDdXN0b21WYWxpZGF0aW9uKHZhbHVlLCBwYXJtKTtcclxuICAgICAgICB9KS5zZXRNZXNzYWdlKCdjdXN0b21fdmFsaWRhdGlvbicsICdUaGUgJXMgZmllbGQgaXMgbm90IHZhbGlkLicpO1xyXG5cclxuICAgICAgICBtb2R1bGUuVmFsaWRhdG9yID0gdmFsaWRhdG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMub3B0aW9uYWxSZWNhcHRjaGFDb25maWd1cmF0aW9uLklzRW5hYmxlZCAmJiBuYW1lICE9PSAncmVnaXN0cmF0aW9uJykge1xyXG4gICAgICBtb2R1bGUudXRpbC5yZW5kZXJWMlJlY2FwdGNoYShyZWNhcHRjaGFpZCwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgU2V0TG9naW5SYWRpdXNDb21tb25GdW5jdGlvbnMjXHJcbiAgKiBAZnVuY3Rpb24gaXNWYWxpZFRva2VuXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gdG9rZW5cclxuICAqIEBwYXJhbSB7Y2FsbGJhY2t9ICBvbkVycm9yIGNhbGwgYmFjayBlcnJvciBmdW50aW9uXHJcbiAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlfGZhbHNlXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBjaGVjayB3aGV0aGVyIHRoZSB0b2tlbiBwcm92aWRlZCBpcyB2YWxpZCBvciBub3QuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmlzVmFsaWRUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbiwgb25FcnJvcikge1xyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICBvbkVycm9yKFtcclxuICAgICAgICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0b2tlblZhbGlkJ10pXHJcbiAgICAgIF0pO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyNcclxuICAqIEBmdW5jdGlvbiBjaGVja0ZvckxhdGVzdFByaXZhY3lQb2xpY3lcclxuICAqIEBwYXJhbSB7T2JqZWN0fSB1c2VyUHJvZmlsZSB1c2VyUHJvZmlsZSBpbiBqc29uIGZvcm1hdFxyXG4gICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZXxmYWxzZVxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gY2hlY2sgaW50byB0aGUgcHJvZmlsZSB3aGV0aGVyIG9yIG5vdCB0aGlzIHByb2ZpbGUgaXMgaGF2aW5nIGxhdGVzdCBwcml2YWN5IHBvbGljeSBvciBub3QuXHJcbiAgKi9cclxuICBwcml2YXRlRnVuY3Rpb25zTW9kdWxlLmNoZWNrRm9yTGF0ZXN0UHJpdmFjeVBvbGljeSA9IGZ1bmN0aW9uICh1c2VyUHJvZmlsZSkge1xyXG4gICAgdmFyIHByaXZhY3lQb2xpY2llcyA9IG1vZHVsZS5vcHRpb25zLnByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uLlByaXZhY3lQb2xpY2llcztcclxuICAgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgdmFyIGxhdGVzdFBvbGljeSA9IHt9O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcml2YWN5UG9saWNpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKG5ldyBEYXRlKHByaXZhY3lQb2xpY2llc1tpXS5TdGFydERhdGVUaW1lKS5nZXRUaW1lKCkgPCBjdXJyZW50VGltZSkge1xyXG4gICAgICAgIGlmIChtb2R1bGUudXRpbC5pc0VtcHR5KGxhdGVzdFBvbGljeSkgfHwgKCFtb2R1bGUudXRpbC5pc0VtcHR5KGxhdGVzdFBvbGljeSkgJiYgbmV3IERhdGUobGF0ZXN0UG9saWN5LlN0YXJ0RGF0ZVRpbWUpLmdldFRpbWUoKSA8IG5ldyBEYXRlKHByaXZhY3lQb2xpY2llc1tpXS5TdGFydERhdGVUaW1lKS5nZXRUaW1lKCkpKSB7XHJcbiAgICAgICAgICBsYXRlc3RQb2xpY3kgPSBwcml2YWN5UG9saWNpZXNbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGxhdGVzdFBvbGljeS5WZXJzaW9uID09PSB1c2VyUHJvZmlsZS5Qcml2YWN5UG9saWN5LlZlcnNpb24pO1xyXG4gIH07XHJcbn1cclxuXG4vKipcclxuKiBAcGFyYW0ge09iamVjdH0gbW9kdWxlIGxyIG1vZHVsZSBvYmplY3RcclxuKiBAcGFyYW0ge09iamVjdH0gY29tbW9uRm5zIGxyIGNvbW1vbiBmdW5jdGlvbnMgb2JqZWN0XHJcbiogQGRlc2NyaXB0aW9uIFNldCBnbG9iYWwgTG9naW5SYWRpdXNDb250cm9sbGVycy5cclxuKiBAY29uc3RydWN0b3JcclxuKi9cclxuZnVuY3Rpb24gTG9naW5SYWRpdXNDb250cm9sbGVycyAobW9kdWxlLCBjb21tb25GbnMpIHtcclxuICB2YXIgZGVmYXVsdE1lc3NhZ2VzID0gTG9naW5SYWRpdXNEZWZhdWx0cy5tZXNzYWdlcztcclxuICB2YXIgY29udHJvbGxlcnNNb2R1bGUgPSB0aGlzO1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBzaG93QmFja3VwQ29kZUZvcm1cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZCB0byBob2xkIGRpZmZlcmVudCBmb3Jtc1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIHJlcXVpcmVkRmllbGQgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgYmFja3VwQ29kZSBmb3JtIGFuZCBkaXNwbGF5IGl0LlxyXG4gICovXHJcbiAgZnVuY3Rpb24gc2hvd0JhY2t1cENvZGVGb3JtIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xyXG4gICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0obW9kdWxlLmJhY2t1cENvZGVGb3JtU2NoZW1hLCAnYmFja3VwY29kZScsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29udHJvbGxlcnNNb2R1bGUuYmFja3VwQ29kZUNvbnRyb2xsZXIoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBnZXRTZWN1cml0eVF1ZXN0aW9uc1xyXG4gICogQHBhcmFtIHtBcnJheX0gcmVzcG9uc2Ugc2VydmljZSByZXNwb25jZSBvYmplY3RcclxuICAqIEByZXR1cm4ge0FycmF5fSBzZWNRU2NoZW1hIGFycmF5IG9mIHNlY3VyaXR5IHF1ZXN0aW9ucyBvYmplY3RzXHJcbiAgKiBAZGVzY3JpcHRpb24gR2V0IHNlY3VyaXR5IHF1ZXN0aW9ucyBmcm9tIHNlcnZpY2UgcmVzcG9uc2Ugb2JqZWN0XHJcbiAgKi9cclxuICBmdW5jdGlvbiBnZXRTZWN1cml0eVF1ZXN0aW9ucyAocmVzcG9uc2UpIHtcclxuICAgIHZhciBzZWNRU2NoZW1hID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBzZWNRT2JqZWN0ID0ge307XHJcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5tYXNrU2Vuc2l0aXZlSW5wdXQpIHtcclxuICAgICAgICBzZWNRT2JqZWN0LnR5cGUgPSAncGFzc3dvcmQnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlY1FPYmplY3QudHlwZSA9ICdzdHJpbmcnO1xyXG4gICAgICB9XHJcbiAgICAgIHNlY1FPYmplY3QubmFtZSA9IHJlc3BvbnNlW2ldLlF1ZXN0aW9uSWQ7XHJcbiAgICAgIHNlY1FPYmplY3QuZGlzcGxheSA9IHJlc3BvbnNlW2ldLlF1ZXN0aW9uO1xyXG4gICAgICBzZWNRT2JqZWN0LnJ1bGVzID0gJ3JlcXVpcmVkJztcclxuICAgICAgc2VjUU9iamVjdC5wZXJtaXNzaW9uID0gJ3InO1xyXG4gICAgICBzZWNRU2NoZW1hLnB1c2goc2VjUU9iamVjdCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VjUVNjaGVtYTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAcHJpdmF0ZVxyXG4gICogQGZ1bmN0aW9uIHRyYWRpdGlvbmFsTG9naW5SZWNlaXZlVG9rZW5cclxuICAqIEBwYXJhbSB7T2JqZWN0fSB1c2VyUHJvZmlsZSB1c2VyIHByb2ZpbGUgb2JqZWN0XHJcbiAgKiBAcGFyYW0ge09iamVjdH0gbG9naW5SZXNwb25zZSBzZXJ2aWNlIHJlc3BvbnNlIG9iamVjdFxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgb3RwIGluZm8uIG9iamVjdFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gcmVzcG9uc2libGUgdG8gaGFuZGxlIHRyYWRpdGlvbmFsIGxvZ2luIHByb2Nlc3MuXHJcbiAgKi9cclxuICBmdW5jdGlvbiB0cmFkaXRpb25hbExvZ2luUmVjZWl2ZVRva2VuICh1c2VyUHJvZmlsZSwgbG9naW5SZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSwgbG9naW5SZXNwb25zZS5hY2Nlc3NfdG9rZW4pO1xyXG4gICAgdmFyIHRyYWRpdGlvbmFsTG9naW5IYW5kbGVyID0gZnVuY3Rpb24gKF9TY2hlbWEpIHtcclxuICAgICAgdmFyIHJlZ1NjaGVtYSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX1NjaGVtYSkpO1xyXG4gICAgICByZWdTY2hlbWEgPSByZWdTY2hlbWEuUmVnaXN0cmF0aW9uRm9ybVNjaGVtYTtcclxuICAgICAgaWYgKCF1c2VyUHJvZmlsZS5Jc0RlbGV0ZWQpIHtcclxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuYXV0b0ZpbGxlZEZpZWxkRm9yVHJhZGl0aW9uYWwpIHtcclxuICAgICAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ2JlZm9yZUZvcm1SZW5kZXInLCBmdW5jdGlvbiAobmFtZSwgc2NoZW1hKSB7XHJcbiAgICAgICAgICAgIGlmIChuYW1lID09PSAnbG9naW5SZXF1aXJlZEZpZWxkc1VwZGF0ZScpIHtcclxuICAgICAgICAgICAgICB2YXIgZW1haWxmaWVsZCA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcclxuICAgICAgICAgICAgICBpZiAoZW1haWxmaWVsZCAmJiBlbWFpbGZpZWxkLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBlbWFpbGZpZWxkLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdmFyIHBob25lZmllbGQgPSBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdwaG9uZWlkJyk7XHJcbiAgICAgICAgICAgICAgaWYgKHBob25lZmllbGQgJiYgcGhvbmVmaWVsZC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcGhvbmVmaWVsZC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEgPSBjb21tb25GbnMubWFwU2NoZW1hKHJlZ1NjaGVtYSwgdXNlclByb2ZpbGUsIG1vZHVsZS5vcHRpb25zLmF1dG9GaWxsZWRGaWVsZEZvclRyYWRpdGlvbmFsKTtcclxuICAgICAgICBpZiAobW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29tbW9uRm5zLnNldFBhc3N3b3JkUnVsZShtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEocmVnU2NoZW1hLCAnbmFtZScsICdwYXNzd29yZCcpKTtcclxuICAgICAgICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHJlZ1NjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBhc3N3b3JkJykpO1xyXG4gICAgICAgICAgbW9kdWxlLiRob29rcy5jYWxsKCdyZWdpc3RyYXRpb25TY2hlbWFGaWx0ZXInLCByZWdTY2hlbWEsIHVzZXJQcm9maWxlKTtcclxuICAgICAgICAgIHJlcXVpcmVkRmllbGQodXNlclByb2ZpbGUsIGxvZ2luUmVzcG9uc2UsIGxvZ2luUmVzcG9uc2UuYWNjZXNzX3Rva2VuLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihsb2dpblJlc3BvbnNlLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHVzZXJQcm9maWxlKSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0cmFkaXRpb25hbExvZ2luSGFuZGxlcihtb2R1bGUub3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIGhhbmRsZUZlYXR1cmVzXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gbG9naW5SZXNwb25zZSBzZXJ2aWNlIHJlc3BvbnNlIG9iamVjdFxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgb3RwIGluZm8uIG9iamVjdFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGhhbmRsZSB0cmFkaXRpb25hbCBsb2dpbiBhc2sgZm9yIHJlcXVpcmVkIGZpZWxkcyBwcm9jZXNzLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUuaGFuZGxlRmVhdHVyZXMgPSBmdW5jdGlvbiAobG9naW5SZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgcGFzc3dvcmRFeHBpcnksIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICB2YXIgdXNlclByb2ZpbGUgPSBsb2dpblJlc3BvbnNlLlByb2ZpbGU7XHJcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGRhdGEgPSBtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKTtcclxuICAgIH1cclxuICAgIGlmIChwYXNzd29yZEV4cGlyeSAmJiBtb2R1bGUub3B0aW9ucy5wZXJpb2RpY1Bhc3N3b3JkUmVzZXQgJiYgdXNlclByb2ZpbGUuUGFzc3dvcmRFeHBpcmF0aW9uRGF0ZSAmJiBuZXcgRGF0ZSh1c2VyUHJvZmlsZS5QYXNzd29yZEV4cGlyYXRpb25EYXRlKSA8PSBuZXcgRGF0ZSgpKSB7XHJcbiAgICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLmNoYW5nZVBhc3N3b3JkRm9ybVNjaGVtYVsxXSk7XHJcbiAgICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLmNoYW5nZVBhc3N3b3JkRm9ybVNjaGVtYVsyXSk7XHJcbiAgICAgIHBhc3N3b3JkRXhwaXJ5KHVzZXJQcm9maWxlLCBsb2dpblJlc3BvbnNlKTtcclxuICAgIH0gZWxzZSBpZiAocmVxdWlyZWRGaWVsZCAmJiAobW9kdWxlLm9wdGlvbnMuYXNrUmVxdWlyZWRGaWVsZEZvclRyYWRpdGlvbmFsTG9naW4gfHwgTG9naW5SYWRpdXNEZWZhdWx0cy5hdXRvRmlsbGVkRmllbGRmb3JQYXNzd29yZExlc0xvZ2luKSkge1xyXG4gICAgICB0cmFkaXRpb25hbExvZ2luUmVjZWl2ZVRva2VuKHVzZXJQcm9maWxlLCBsb2dpblJlc3BvbnNlLCBkYXRhLCByZXF1aXJlZEZpZWxkLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4obG9naW5SZXNwb25zZSwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gdmVyaWZ5T1RQQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgb3RwIGluZm8uIG9iamVjdFxyXG4gICogQHBhcmFtIHtPYmplY3R9IHBob25lVG9WZXJpZnkgb2JqZWN0IGhvbGQgcGhvbmVJZCBhbmQgb3RoZXIgaW5mb1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdmVyaWZ5IHRoZSBwcm92aWRlZCBvdHAuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS52ZXJpZnlPVFBDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIHBob25lVG9WZXJpZnksIG9uU3VjY2Vzcywgb25FcnJvciwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpIHtcclxuICAgIHZhciB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9waG9uZS9vdHA/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJm90cD0nICsgZGF0YS5vdHAgKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVdlbGNvbWU7XHJcbiAgICBpZiAoZGF0YS5oYXZlVG9rZW4pIHtcclxuICAgICAgdXJsICs9ICcmYWNjZXNzX3Rva2VuPScgKyBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZGF0YS5vbmV0b3VjaGxvZ2luZmxhZykge1xyXG4gICAgICB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9vbmV0b3VjaGxvZ2luL3Bob25lL3ZlcmlmeT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmb3RwPScgKyBkYXRhLm90cCArICcmc21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlT25lVG91Y2hMb2dpbldlbGNvbWU7XHJcbiAgICB9XHJcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgdXJsLCBwaG9uZVRvVmVyaWZ5LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBvblN1Y2Nlc3MocmVzcG9uc2UsIGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhLm9uZXRvdWNobG9naW5mbGFnICYmICFtb2R1bGUub3B0aW9ucy5hc2tSZXF1aXJlZEZpZWxkc09uUGFzc3dvcmRMZXNzTG9naW4pIHtcclxuICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlLCAnJywgb25TdWNjZXNzLCBvbkVycm9yLCAnJywgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHtcclxuICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuYXV0b0ZpbGxlZEZpZWxkZm9yUGFzc3dvcmRMZXNMb2dpbiA9IHRydWU7XHJcbiAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS5oYW5kbGVGZWF0dXJlcyhyZXNwb25zZSwgZGF0YSwgcmVxdWlyZWRGaWVsZCwgcGFzc3dvcmRFeHBpcnksIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAndmVyaWZ5T1RQJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiB1cGRhdGVTZWN1cml0eVF1ZXN0aW9uQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3QgY29udGFpbmluZyB0aGUgcXVlc3Rpb25zIGFzIGtleSBhbmQgdGhlIGNvcnJlY3QgYW5zd2VyIGFzIHZhbHVlLiBlLmcuIHtcclxuICAgIFwiPCVxdWVzdGlvbmlkJT5cIjogXCI8JWFuc3dlciU+XCIsXHJcbiAgICBcIjwlcXVlc3Rpb25pZCU+XCI6IFwiPCVhbnN3ZXIlPlwifSxcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHVwZGF0ZSB0aGUgQW5zd2VyKHMpIHRvIHRoZSBTZWN1cml0eSBRdWVzdGlvbihzKSBvbiBhIGdpdmVuIGFjY291bnQuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS51cGRhdGVTZWN1cml0eVF1ZXN0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcclxuICAgIHZhciBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0ID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLm9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbnNDb3VudDsgaSsrKSB7XHJcbiAgICAgIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3Rbc2VjdXJpdHlRdWVzdGlvbkFuc3dlck9iamVjdFsnc2VjdXJpdHlRdWVzdGlvbicgKyBpXV0gPSBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0WydzZWN1cml0eUFuc3dlcicgKyBpXTtcclxuICAgICAgZGVsZXRlIHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3RbJ3NlY3VyaXR5UXVlc3Rpb24nICsgaV07XHJcbiAgICAgIGRlbGV0ZSBzZWN1cml0eVF1ZXN0aW9uQW5zd2VyT2JqZWN0WydzZWN1cml0eUFuc3dlcicgKyBpXTtcclxuICAgIH1cclxuICAgIHZhciBzZWN1cml0eVF1ZXN0aW9uT2JqZWN0ID0ge1xyXG4gICAgICAnU2VjdXJpdHlRdWVzdGlvbkFuc3dlcic6IHNlY3VyaXR5UXVlc3Rpb25BbnN3ZXJPYmplY3RcclxuICAgIH07XHJcbiAgICBpZiAoY29tbW9uRm5zLmlzVmFsaWRUb2tlbih0b2tlbiwgb25FcnJvcikpIHtcclxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQ/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4sIHNlY3VyaXR5UXVlc3Rpb25PYmplY3QsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICd1cGRhdGVTZWN1cml0eVF1ZXN0aW9uJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiByZXNldFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGF1dGhlbnRpY2F0b3JUeXBlIGF1dGhlbnRpY2F0b3JUeXBlIGUuZy4gXCJvdHBhdXRoZW50aWNhdG9yXCIgb3IgXCJnb29nbGVhdXRoZW50aWNhdG9yXCJcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB1c2VkIHRvIHJlc2V0IHRoZSBNRkEgY29uZmlndXJhdGlvbnMgb24gdGhlIGFjY291bnQuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5yZXNldFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChhdXRoZW50aWNhdG9yVHlwZSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XHJcbiAgICAvLyB2YXIgYXV0aGVudGljYXRvck9iamVjdCA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoYXV0aGVudGljYXRvclR5cGUpO1xyXG4gICAgdmFyIGF1dGhlbnRpY2F0b3JPYmplY3QgPSB7fTtcclxuICAgIGF1dGhlbnRpY2F0b3JPYmplY3RbYXV0aGVudGljYXRvclR5cGVdID0gdHJ1ZTtcclxuICAgIGlmIChjb21tb25GbnMuaXNWYWxpZFRva2VuKHRva2VuLCBvbkVycm9yKSkge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZGVsZXRlJywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkEvYXV0aGVudGljYXRvcj9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgYXV0aGVudGljYXRvck9iamVjdCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UsIGF1dGhlbnRpY2F0b3JUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICdyZXNldFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZENvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGpzb24gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGVtYWlsIG9mIHRoZSBjdXN0b21lciBlLmcuIHtlbWFpbDogXCJ4eHhAeHh4LmNvbVwifVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gdXNlZCB0byAgc2VuZCBhIGZvcmdvdCBwYXNzd29yZCBlbWFpbCB0byBhIGN1c3RvbWVyLCB0aGUgZW1haWwgd2lsbCBjb250YWluIHRoZSB2ZXJpZmljYXRpb24gdG9rZW4gdG8gdGhlbiBiZSBjb25zdW1lZCB0aGUgcmVzZXRQYXNzd29yZCBmdW5jdGlvbi5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmZvcmdvdFBhc3N3b3JkQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICB2YXIgcmVzZXRQYXNzd29yZFVybCA9IG1vZHVsZS5vcHRpb25zLmZvcmdvdFBhc3N3b3JkVXJsIHx8IG1vZHVsZS5vcHRpb25zLnJlc2V0UGFzc3dvcmRVcmw7XHJcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bhc3N3b3JkP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZyZXNldFBhc3N3b3JkVXJsPScgKyByZXNldFBhc3N3b3JkVXJsICsgJyZlbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yZXNldFBhc3N3b3JkRW1haWxUZW1wbGF0ZSwgZGF0YSwgZnVuY3Rpb24gKGZvcmdvdFBhc3N3b3JkUmVzcG9uc2UpIHtcclxuICAgICAgaWYgKGZvcmdvdFBhc3N3b3JkUmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihmb3Jnb3RQYXNzd29yZFJlc3BvbnNlKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIHBhcnNlRGF0YSA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XHJcbiAgICAgICAgb25TdWNjZXNzKGZvcmdvdFBhc3N3b3JkUmVzcG9uc2UsIHBhcnNlRGF0YSk7XHJcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLm90cEVtYWlsVmVyaWZpY2F0aW9uICYmICFtb2R1bGUub3B0aW9ucy52ZXJpZnlFbWFpbEJ5T1RQKSB7XHJcbiAgICAgICAgICBjb21tb25GbnMucmVzZXRQYXNzd29yZChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXJzZURhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgJ2ZvcmdvdFBhc3N3b3JkJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBsb2dpbkNvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGlucHV0IHBheWxvYWQgdG8gbG9naW4gIChlLmcuIHsgZW1haWxpZDogXCJleGFtcGxlQGV4YW1wbGUuY29tXCIsIHBhc3N3b3JkOiBcIjEyM3h4eDc4OVwiIH0pXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIHJlcXVpcmVkRmllbGQgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiByZXNwb25zaWJsZSB0byBoYW5kbGUgdXNlciBsb2dpbiBwcm9jZXNzLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUubG9naW5Db250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCwgX2NsYXNzUHJlZml4LCB2ZXJpZnlPVFBBcGksIHJlc2VuZE9UUEFwaSkge1xyXG4gICAgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLmVtYWlsVGVtcGxhdGUgfHwgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZTtcclxuXHJcbiAgICB2YXIgdGVtcGxhdGUgPSAnZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25Vcmw7XHJcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbikge1xyXG4gICAgICB0ZW1wbGF0ZSArPSAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVBob25lVmVyaWZpY2F0aW9uO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLnJpc2tCYXNlZEF1dGhlbnRpY2F0aW9uKSB7XHJcbiAgICAgIHRlbXBsYXRlICs9ICcmUmJhT25lY2xpY2tFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFPbmVjbGlja0VtYWlsVGVtcGxhdGUgKyAnJlJiYU9UUFNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFPVFBTbXNUZW1wbGF0ZSArICcmUmJhQ2l0eUVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUNpdHlFbWFpbFRlbXBsYXRlICsgJyZSYmFDb3VudHJ5RW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQ291bnRyeUVtYWlsVGVtcGxhdGUgKyAnJlJiYUJyb3dzZXJFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFCcm93c2VyRW1haWxUZW1wbGF0ZSArICcmUmJhSXBFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yYmFJcEVtYWlsVGVtcGxhdGUgKyAnJlJiYUNpdHlTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhQ2l0eVNtc1RlbXBsYXRlICsgJyZSYmFDb3VudHJ5U21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUNvdW50cnlTbXNUZW1wbGF0ZTtcclxuICAgICAgdGVtcGxhdGUgKz0gJyZSYmFCcm93c2VyU21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnJiYUJyb3dzZXJTbXNUZW1wbGF0ZSArICcmUmJhSXBTbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMucmJhSXBTbXNUZW1wbGF0ZTtcclxuICAgIH1cclxuICAgIGRhdGEgPSBtb2R1bGUudXRpbC5jaGVja1Bob25lT3JFbWFpbExvZ2luKGRhdGEpO1xyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fCBkYXRhIGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcbiAgICAgIGRhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLmR1cGxpY2F0ZUVtYWlsV2l0aFVuaXF1ZVVzZXJuYW1lKSB7XHJcbiAgICAgIGRlbGV0ZSBkYXRhWydlbWFpbCddO1xyXG4gICAgICBkZWxldGUgZGF0YVsncGhvbmVpZCddO1xyXG4gICAgfVxyXG4gICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZsb2dpblVybD0nICsgbW9kdWxlLm9wdGlvbnMubG9naW5VcmwgKyAnJicgKyB0ZW1wbGF0ZTtcclxuICAgIGlmIChkYXRhWydnLXJlY2FwdGNoYS1yZXNwb25zZSddKSB7XHJcbiAgICAgIHVybCArPSAnJmctcmVjYXB0Y2hhLXJlc3BvbnNlPScgKyBkYXRhWydnLXJlY2FwdGNoYS1yZXNwb25zZSddO1xyXG4gICAgICBkZWxldGUgZGF0YVsnZy1yZWNhcHRjaGEtcmVzcG9uc2UnXTtcclxuICAgIH1cclxuICAgIGlmIChkYXRhWydxcV9jYXB0Y2hhX3JhbmRzdHInXSkge1xyXG4gICAgICB1cmwgKz0gJyZxcV9jYXB0Y2hhX3JhbmRzdHI9JyArIGRhdGFbJ3FxX2NhcHRjaGFfcmFuZHN0ciddO1xyXG4gICAgICBkZWxldGUgZGF0YVsncXFfY2FwdGNoYV9yYW5kc3RyJ107XHJcbiAgICB9XHJcbiAgICBpZiAoZGF0YVsncXFfY2FwdGNoYV90aWNrZXQnXSkge1xyXG4gICAgICB1cmwgKz0gJyZxcV9jYXB0Y2hhX3RpY2tldD0nICsgZGF0YVsncXFfY2FwdGNoYV90aWNrZXQnXTtcclxuICAgICAgZGVsZXRlIGRhdGFbJ3FxX2NhcHRjaGFfdGlja2V0J107XHJcbiAgICB9XHJcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIHVybCwgZGF0YSwgZnVuY3Rpb24gKGxvZ2luUmVzcG9uc2UpIHtcclxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnN0YXlMb2dpbikge1xyXG4gICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKCdsci1yZW1lbWJlcm1lJywgZGF0YVsnc3RheUxvZ2luJ10pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChsb2dpblJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcclxuICAgICAgICBpZiAobG9naW5SZXNwb25zZS5FcnJvckNvZGUgPT0gJzk3MCcgJiYgbW9kdWxlLm9wdGlvbnMub3RwRW1haWxWZXJpZmljYXRpb24gJiYgIW1vZHVsZS5vcHRpb25zLnZlcmlmeUVtYWlsQnlPVFApIHtcclxuICAgICAgICAgIGNvbW1vbkZucy5vdHBFbWFpbFZlcmlmaWNhdGlvbihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBkYXRhKTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXHJcbiAgICAgICAgfSBlbHNlIGlmIChsb2dpblJlc3BvbnNlLkVycm9yQ29kZSA9PSAnMTE2NycgJiYgKGxvZ2luUmVzcG9uc2UuUGhvbmVJZCB8fCBkYXRhLnBob25lKSkge1xyXG4gICAgICAgICAgZGVsZXRlIGRhdGEuZW1haWw7XHJcbiAgICAgICAgICBkYXRhLnBob25lID0gbG9naW5SZXNwb25zZS5QaG9uZUlkIHx8IGRhdGEucGhvbmU7XHJcbiAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS5sb2dpbk9UUENvbnRyb2xsZXIoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgJ25vJyk7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxyXG4gICAgICAgIH0gZWxzZSBpZiAobW9kdWxlLm9wdGlvbnMucGhvbmVMb2dpbiAmJiBsb2dpblJlc3BvbnNlLkVycm9yQ29kZSA9PSAnMTA2NicpIHtcclxuICAgICAgICAgIC8vIHZhciBwaG9uZXRvVmVyaWZ5ID0gZGF0YS5zcGxpdCgnJicpWzFdO1xyXG5cclxuICAgICAgICAgIGNvbW1vbkZucy52ZXJpZnlPVFAgPSB2ZXJpZnlPVFBBcGkgfHwgY29tbW9uRm5zLnZlcmlmeU9UUDtcclxuICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAgPSByZXNlbmRPVFBBcGkgfHwgY29tbW9uRm5zLnJlc2VuZE9UUDtcclxuICAgICAgICAgIGNvbW1vbkZucy52ZXJpZnlPVFAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xyXG4gICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGxvZ2luUmVzcG9uc2UpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb250cm9sbGVyc01vZHVsZS5oYW5kbGVGZWF0dXJlcyhsb2dpblJlc3BvbnNlLCBkYXRhLCByZXF1aXJlZEZpZWxkLCBwYXNzd29yZEV4cGlyeSwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICB9XHJcbiAgICB9LCAnbG9naW4nKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIGxvZ2luT1RQQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgaW5wdXQgcGF5bG9hZCB0byBsb2dpbiAgKGUuZy4geyBlbWFpbGlkOiBcImV4YW1wbGVAZXhhbXBsZS5jb21cIiwgcGFzc3dvcmQ6IFwiMTIzeHh4Nzg5XCIgfSlcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBvdHBTZW50IGZsYWcgeWVzIG9yIG5vIHRvIGNvbnRyb2wgb3RwIHNlbmRcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHJlc3BvbnNpYmxlIHRvIGhhbmRsZSBvdHAgc2VuZGluZyBwcm9jZXNzIG9uIGN1c3RvbWVyJ3MgcGhvbmUgbnVtYmVyLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUubG9naW5PVFBDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIG90cFNlbnQpIHtcclxuICAgIGRhdGEgPSBtb2R1bGUudXRpbC5jaGVja1Bob25lT3JFbWFpbExvZ2luKGRhdGEpO1xyXG4gICAgdmFyIHBob25lRGF0YSA9IGRhdGE7XHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnIHx8IGRhdGEgaW5zdGFuY2VvZiBTdHJpbmcpIHtcclxuICAgICAgcGhvbmVEYXRhID0gbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKTtcclxuICAgIH1cclxuICAgIGlmIChwaG9uZURhdGEuZW1haWwgfHwgcGhvbmVEYXRhLnVzZXJuYW1lKSB7XHJcbiAgICAgIGNvbW1vbkZucy5zZW5kSW5zdGFudFNpZ25JbkxpbmsoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdiZWZvcmVGb3JtUmVuZGVyJywgZnVuY3Rpb24gKG5hbWUsIHNjaGVtYSkge1xyXG4gICAgICAgIGlmICghbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHNjaGVtYSwgJ25hbWUnLCAncmVzZW5kb3RwJykpIHtcclxuICAgICAgICAgIHNjaGVtYS5wdXNoKHtcclxuICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgIG5hbWU6ICdyZXNlbmRvdHAnLFxyXG4gICAgICAgICAgICBkaXNwbGF5OiAnUmVzZW5kIE9UUCcsXHJcbiAgICAgICAgICAgIHJ1bGVzOiAnJyxcclxuICAgICAgICAgICAgcGVybWlzc2lvbjogJ3InLFxyXG4gICAgICAgICAgICBldmVudDogJ2NsaWNrJyxcclxuICAgICAgICAgICAgZXZlbnRDYWxsYmFjazogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcnNNb2R1bGUubG9naW5PVFBDb250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICB2YXIgaGFuZGxlT1RQID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzY2hlbWEgPSBtb2R1bGUub3RwU2NoZW1hO1xyXG4gICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNjaGVtYSwgJ290cCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKG90cERhdGEpIHtcclxuICAgICAgICAgIHZhciByZWNhcHRjaGFpZCA9IF9jbGFzc1ByZWZpeCArIExvZ2luUmFkaXVzRGVmYXVsdHMuaWRQcmVmaXggKyAncmVjYXB0Y2hhX3dpZGdldF92ZXJpZnlvdHAnO1xyXG4gICAgICAgICAgY29udHJvbGxlcnNNb2R1bGUudmVyaWZ5SW5zdGFudE9UUChvdHBEYXRhLCBwaG9uZURhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcmVjYXB0Y2hhaWQsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGVycm9ycykpO1xyXG4gICAgICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgIH07XHJcbiAgICAgIGlmIChvdHBTZW50KSB7XHJcbiAgICAgICAgaGFuZGxlT1RQKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIHNtc1RlbXBsYXRlID0gbW9kdWxlLm9wdGlvbnMuc21zVGVtcGxhdGVJbnN0YW50T1RQTG9naW4gfHwgbW9kdWxlLm9wdGlvbnMucGFzc3dvcmRsZXNzTG9naW5TTVNUZW1wbGF0ZTtcclxuICAgICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vb3RwP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZwaG9uZT0nICsgcGhvbmVEYXRhLnBob25lICsgJyYnICsgJ3Ntc1RlbXBsYXRlPScgKyBzbXNUZW1wbGF0ZSwgJycsIGZ1bmN0aW9uIChSZXNwb25zZSkge1xyXG4gICAgICAgICAgaWYgKFJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKFJlc3BvbnNlKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvblN1Y2Nlc3MoUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICBoYW5kbGVPVFAoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAnbG9naW5PVFAnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gbG9naW4yRkFDb250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBqc29uIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGFuZGFyZCBmaWVsZHMgZm9yIGxvZ2luIGxpa2UgdXNlcm5hbWUsIHBhc3N3b3JkIG9yIGVtYWlsIGFuZCBwYXNzd29yZFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlUGhvbmVOdW1iZXJBcGkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHZlcmlmeU9UUEFwaSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzZW5kT1RQQXBpIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBoYW5kbGUgdGhlIHRyYWRpdGlvbmFsIGxvZ2luIHByb2Nlc3MgaWYgeW91IGhhdmUgTUZBIChNdWx0aS1GYWN0b3IgQXV0aGVudGljYXRpb24pIGVuYWJsZWQuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5sb2dpbjJGQUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQsIHVwZGF0ZVBob25lTnVtYmVyQXBpLCB2ZXJpZnlPVFBBcGksIHJlc2VuZE9UUEFwaSkge1xyXG4gICAgbW9kdWxlLkxSQ2hlY2syRkEgPSB0cnVlO1xyXG4gICAgZGF0YSA9IG1vZHVsZS51dGlsLmNoZWNrUGhvbmVPckVtYWlsTG9naW4oZGF0YSk7XHJcbiAgICB2YXIgaGFuZGxlMkZBUmVzcG9uc2UgPSBmdW5jdGlvbiAobG9naW5SZXNwb25zZSwgSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQsIElzR29vZ2xlQXV0aGVudGljYXRvclZlcmlmaWVkKSB7XHJcbiAgICAgIElzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkID0gSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgfHwgJyc7XHJcbiAgICAgIElzR29vZ2xlQXV0aGVudGljYXRvclZlcmlmaWVkID0gSXNHb29nbGVBdXRoZW50aWNhdG9yVmVyaWZpZWQgfHwgJyc7XHJcbiAgICAgIHZhciBzZW5kT1RQQnRuID0gbW9kdWxlLnV0aWwuZ2V0QnV0dG9uQXR0cmlidXRlKCdzZW5kb3RwJywgX2NsYXNzUHJlZml4KTtcclxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmdvb2dsZUF1dGhlbnRpY2F0aW9uICYmICgoIUlzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkICYmIG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB8fCBJc0dvb2dsZUF1dGhlbnRpY2F0b3JWZXJpZmllZCkpIHtcclxuICAgICAgICBjb21tb25GbnMuc2hvd1FSQ29kZShsb2dpblJlc3BvbnNlLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFJc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiAhSXNHb29nbGVBdXRoZW50aWNhdG9yVmVyaWZpZWQgJiYgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHtcclxuICAgICAgICBjb21tb25GbnMudXBkYXRlUGhvbmVOdW1iZXIgPSB1cGRhdGVQaG9uZU51bWJlckFwaSB8fCBjb21tb25GbnMudXBkYXRlUGhvbmVOdW1iZXI7XHJcbiAgICAgICAgY29tbW9uRm5zLnVwZGF0ZVBob25lTnVtYmVyKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsICcnLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXHJcbiAgICAgIH0gZWxzZSBpZiAoKCFJc0dvb2dsZUF1dGhlbnRpY2F0b3JWZXJpZmllZCAmJiBtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbikgfHwgKG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24gJiYgIUlzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkICYmIChsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLk9UUFBob25lTm8gIT09ICcnICYmIGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uT1RQUGhvbmVObyAhPSBudWxsKSkgfHwgSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQpIHtcclxuICAgICAgICBpZiAoSXNHb29nbGVBdXRoZW50aWNhdG9yVmVyaWZpZWQpIHtcclxuICAgICAgICAgIF9jbGFzc1ByZWZpeCA9IF9jbGFzc1ByZWZpeCB8fCBMb2dpblJhZGl1c0RlZmF1bHRzLmNsYXNzUHJlZml4O1xyXG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmdvb2dsZUF1dGhlbnRpY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBmb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKF9jbGFzc1ByZWZpeCArICdzaG93UVJjb2RlJylbMF07XHJcbiAgICAgICAgICAgIGlmIChmb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgIGZvcm1FbGVtZW50LmFwcGVuZENoaWxkKHNlbmRPVFBCdG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtb2R1bGUudXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIHNlbmRPVFBCdG4pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQID0gdmVyaWZ5T1RQQXBpIHx8IGNvbW1vbkZucy52ZXJpZnlPVFA7XHJcbiAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQID0gcmVzZW5kT1RQQXBpIHx8IGNvbW1vbkZucy5yZXNlbmRPVFA7XHJcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQKGxvZ2luUmVzcG9uc2UsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAobG9naW5SZXNwb25zZSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgfHwgSXNHb29nbGVBdXRoZW50aWNhdG9yVmVyaWZpZWQpIHtcclxuICAgICAgICB2YXIgYmFja3VwQ29kZUJ0biA9IG1vZHVsZS51dGlsLmdldEJ1dHRvbkF0dHJpYnV0ZSgnYmFja3VwY29kZWJ1dHRvbicsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgbW9kdWxlLnV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCBiYWNrdXBDb2RlQnRuLCB0cnVlKTtcclxuICAgICAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCBiYWNrdXBDb2RlQnRuLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgIHNob3dCYWNrdXBDb2RlRm9ybShjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICAgICAgICB2YXIgYmFja3VwQ29kZUJhY2tCdG4gPSBtb2R1bGUudXRpbC5nZXRCdXR0b25BdHRyaWJ1dGUoJ2JhY2t1cGNvZGViYWNrYnV0dG9uJywgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICAgIG1vZHVsZS51dGlsLmFkZEhUTUxDb250ZW50KGNvbnRhaW5lciwgYmFja3VwQ29kZUJhY2tCdG4sIHRydWUpO1xyXG4gICAgICAgICAgbW9kdWxlLnV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgYmFja3VwQ29kZUJhY2tCdG4sIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBoYW5kbGUyRkFSZXNwb25zZShsb2dpblJlc3BvbnNlLCBsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLklzT1RQQXV0aGVudGljYXRvclZlcmlmaWVkLCBsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLklzR29vZ2xlQXV0aGVudGljYXRvclZlcmlmaWVkKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtb2R1bGUudXRpbC5hZGRFdmVudCgnY2xpY2snLCBzZW5kT1RQQnRuLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgcGhvbmVObyA9ICdwaG9uZU5vMkZBPScgKyBsb2dpblJlc3BvbnNlLlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uLk9UUFBob25lTm87XHJcblxyXG4gICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFBNYW51YWxseShwaG9uZU5vLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUCA9IHZlcmlmeU9UUEFwaSB8fCBjb21tb25GbnMudmVyaWZ5T1RQO1xyXG4gICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAgPSByZXNlbmRPVFBBcGkgfHwgY29tbW9uRm5zLnJlc2VuZE9UUDtcclxuICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQKGxvZ2luUmVzcG9uc2UsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQKGxvZ2luUmVzcG9uc2UsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luLzJGQS8nO1xyXG4gICAgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLmVtYWlsVGVtcGxhdGUgfHwgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZTtcclxuICAgIHZhciBtZXRob2RUeXBlID0gJ3Bvc3QnO1xyXG4gICAgdmFyIHBvc3RCb2R5O1xyXG4gICAgaWYgKHdpbmRvd1snbHJiYWNrdXBjb2RlJ10pIHtcclxuICAgICAgdXJsID0gdXJsICsgJ2JhY2t1cGNvZGUnICsgJz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIGRhdGE7XHJcbiAgICAgIG1ldGhvZFR5cGUgPSAnZ2V0JztcclxuICAgICAgcG9zdEJvZHkgPSAnJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVybCA9IHVybCArICc/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmxvZ2luVXJsPScgKyBtb2R1bGUub3B0aW9ucy5sb2dpblVybCArICcmZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVdlbGNvbWUgKyAnJnNtc1RlbXBsYXRlMkZBPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZTJGQTtcclxuICAgICAgcG9zdEJvZHkgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xyXG4gICAgfVxyXG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwobWV0aG9kVHlwZSwgdXJsLCBwb3N0Qm9keSwgZnVuY3Rpb24gKGxvZ2luUmVzcG9uc2UpIHtcclxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnN0YXlMb2dpbikge1xyXG4gICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKCdsci1yZW1lbWJlcm1lJywgbW9kdWxlLnV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ3N0YXlMb2dpbicsIGRhdGEpKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAobG9naW5SZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXHJcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4gJiYgbG9naW5SZXNwb25zZS5FcnJvckNvZGUgPT0gJzEwNjYnKSB7XHJcbiAgICAgICAgICB2YXIgcGhvbmV0b1ZlcmlmeSA9ICdwaG9uZT0nICsgbW9kdWxlLnV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXJCeU5hbWUoJ3Bob25lJywgZGF0YSk7XHJcbiAgICAgICAgICBwaG9uZXRvVmVyaWZ5ICs9ICcmbm9QaG9uZVZlcmlmaWVkPWZhbHNlJztcclxuICAgICAgICAgIG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgIG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQID0gdmVyaWZ5T1RQQXBpIHx8IGNvbW1vbkZucy52ZXJpZnlPVFA7XHJcbiAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQID0gcmVzZW5kT1RQQXBpIHx8IGNvbW1vbkZucy5yZXNlbmRPVFA7XHJcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQKHBob25ldG9WZXJpZnksIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAocGhvbmV0b1ZlcmlmeSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihsb2dpblJlc3BvbnNlKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24pIHtcclxuICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVHdvRkFUb2tlbiwgbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuKTtcclxuICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkT1RQQXV0aCwgbG9naW5SZXNwb25zZS5TZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvbi5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCk7XHJcbiAgICAgICAgICBpZiAobG9naW5SZXNwb25zZS5hY2Nlc3NfdG9rZW4gPT09ICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZTJGQVJlc3BvbnNlKGxvZ2luUmVzcG9uc2UsIGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQsIGxvZ2luUmVzcG9uc2UuU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb24uSXNHb29nbGVBdXRoZW50aWNhdG9yVmVyaWZpZWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvKiBpZiAoZGF0YS5zdGF5TG9naW4pIHtcclxuICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoJ2xyLXJlbWVtYmVybWUnLCBkYXRhLnN0YXlMb2dpbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihsb2dpblJlc3BvbnNlLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpOyAgKi9cclxuICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLmhhbmRsZUZlYXR1cmVzKGxvZ2luUmVzcG9uc2UsIGRhdGEsIHJlcXVpcmVkRmllbGQsIHBhc3N3b3JkRXhwaXJ5LCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAnbG9naW4nKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIHJlc2VuZE9UUENvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIG9iamVjdCBjb250YWluaW5nIHRoZSBwaG9uZUlkXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVjYXB0Y2hhaWQgcmVjYXB0Y2hhIGh0bWwgY29udGFpbmVyIGRvbSBpZFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBoYW5kbGUgb3RwIHJlc2VuZCBmZWF0dXJlLiB3aWxsIHJlc2VuZCBvdHAgb24gdXNlciBwaG9uZSBmb3IgQXV0aGVudGljYXRpb24uXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5yZXNlbmRPVFBDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcmVjYXB0Y2hhaWQsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICB2YXIgdGVtcGxhdGVOYW1lID0gZGF0YS51cGRhdGVQaG9uZSA/IG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlVXBkYXRlUGhvbmUgOiBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVBob25lVmVyaWZpY2F0aW9uO1xyXG4gICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bob25lL290cD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmc21zVGVtcGxhdGU9JyArIHRlbXBsYXRlTmFtZTtcclxuICAgIHZhciBtZXRob2QgPSAncG9zdCc7XHJcbiAgICBpZiAoZGF0YS5vbmV0b3VjaGxvZ2luZmxhZykge1xyXG4gICAgICBtZXRob2QgPSAnZ2V0JztcclxuICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGRhdGEgPSBtb2R1bGUudXRpbC5qc29uVG9RdWVyeVN0cmluZyhkYXRhKTtcclxuICAgICAgfVxyXG4gICAgICB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9vbmV0b3VjaGxvZ2luL3Bob25lP2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyYnICsgZGF0YSArICcmc21zdGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlUGhvbmVWZXJpZmljYXRpb247XHJcbiAgICB9XHJcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbChtZXRob2QsIHVybCwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbW9kdWxlLmxvZyhkZWZhdWx0TWVzc2FnZXNbJ290cFNlbnQnXSk7XHJcbiAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgfVxyXG4gICAgfSwgJ3Jlc2VuZE9UUCcpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gcmVzZW5kT1RQMkZBQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGN1c3RvbWVyJ3MgcGhvbmUgbnVtYmVyIHVuZGVyIHRoZSBwaG9uZU5vMkZBIHBhcmFtZXRlci4gZS5nLiB7IHBob25lTm8yRkE6IFwieHh4eHh4eHh4eFwiIH1cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSByZWNhcHRjaGFpZCByZWNhcHRjaGEgaHRtbCBjb250YWluZXIgZG9tIGlkXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHJlc2VuZCB0aGUgT25lIFRpbWUgUGFzc2NvZGUgKE9UUCkgYnkgcGhvbmUgaWYgbmVlZGVkIGR1cmluZyBhIE11bHRpLUZhY3RvciBBdXRoZW50aWNhdGlvbiBwcm9jZXNzLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZW5kT1RQMkZBQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHJlY2FwdGNoYWlkLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdmFyIHR3b0ZhY3RvclRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUd29GQVRva2VuKTtcclxuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcclxuICAgIGlmICh0b2tlbiAmJiAhbW9kdWxlLkxSQ2hlY2tMb2dpbikge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkE/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZTJGQSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb2R1bGUubG9nKGRlZmF1bHRNZXNzYWdlc1snb3RwU2VudCddKTtcclxuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAncmVzZW5kT1RQJyk7XHJcbiAgICB9IGVsc2UgaWYgKHR3b0ZhY3RvclRva2VuKSB7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi8yRkEvcmVzZW5kP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuPScgKyB0d29GYWN0b3JUb2tlbiArICcmc21zVGVtcGxhdGUyRkE9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlMkZBLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb2R1bGUubG9nKGRlZmF1bHRNZXNzYWdlc1snb3RwU2VudCddKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICdyZXNlbmRPVFAnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndHdvZmFUb2tlblZhbGlkJ10pXHJcbiAgICAgIF0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gdmVyaWZ5MkZBT1RQQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEganNvbiBvYmplY3Qgd2hpY2ggaGF2ZSBvdHAgcmVjZWl2ZWQgb24gY3VzdG9tZXIgcGhvbmUgbnVtYmVyIGUuZy4geyBvdHA6IFwieHh4eFwiIH1cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIGxvZ2luIHZpYSBNdWx0aS1mYWN0b3IgYXV0aGVudGljYXRpb24gYnkgcGFzc2luZyB0aGUgT25lIFRpbWUgUGFzc3dvcmQgcmVjZWl2ZWQgdmlhIFNNUy5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnZlcmlmeTJGQU9UUENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xyXG4gICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xyXG4gICAgdmFyIHR3b0ZhY3RvclRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUd29GQVRva2VuKTtcclxuICAgIGlmICh0b2tlbiAmJiAhbW9kdWxlLkxSQ2hlY2tMb2dpbikge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkEvVmVyaWZpY2F0aW9uP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuICsgJyYnICsgZGF0YSArICcmc21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlMkZBV2VsY29tZSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICd2ZXJpZnlPVFAjI3R3b2Zhb3RwJyk7XHJcbiAgICB9IGVsc2UgaWYgKHR3b0ZhY3RvclRva2VuKSB7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9sb2dpbi8yRkEvVmVyaWZpY2F0aW9uP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZTZWNvbmRGYWN0b3JBdXRoZW50aWNhdGlvblRva2VuPScgKyB0d29GYWN0b3JUb2tlbiArICcmJyArIGRhdGEgKyAnJnNtc1RlbXBsYXRlMkZBPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZTJGQVdlbGNvbWUsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXJzTW9kdWxlLmhhbmRsZUZlYXR1cmVzKHJlc3BvbnNlLCBkYXRhLCByZXF1aXJlZEZpZWxkLCBwYXNzd29yZEV4cGlyeSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICd2ZXJpZnlPVFAjI3R3b2Zhb3RwJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvbkVycm9yKFtcclxuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxyXG4gICAgICBdKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIGJhY2t1cENvZGVDb250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBiYWNrdXAgY29kZSBzdHJpbmdcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXF1aXJlZEZpZWxkIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXNzd29yZEV4cGlyeSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIGxvZ2luIGJ5IHVzaW5nIGJhY2t1cCBjb2RlLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUuYmFja3VwQ29kZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCkge1xyXG4gICAgdmFyIHR3b0ZhY3RvclRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUd29GQVRva2VuKTtcclxuICAgIGlmICh0d29GYWN0b3JUb2tlbikge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMkZBL2JhY2t1cGNvZGU/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJlNlY29uZEZhY3RvckF1dGhlbnRpY2F0aW9uVG9rZW49JyArIHR3b0ZhY3RvclRva2VuICsgJyYnICsgZGF0YSArICcmc21zVGVtcGxhdGUyRkE9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlMkZBV2VsY29tZSwgJycsIGZ1bmN0aW9uIChiYWNrdXBDb2RlcmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAoYmFja3VwQ29kZXJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihiYWNrdXBDb2RlcmVzcG9uc2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29udHJvbGxlcnNNb2R1bGUuaGFuZGxlRmVhdHVyZXMoYmFja3VwQ29kZXJlc3BvbnNlLCBkYXRhLCByZXF1aXJlZEZpZWxkLCBwYXNzd29yZEV4cGlyeSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICdsb2dpbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25FcnJvcihbXHJcbiAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0d29mYVRva2VuVmFsaWQnXSlcclxuICAgICAgXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBjaGVja1Bob25lTnVtYmVyQXZhaWxhYmlsaXR5Q29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgcGhvbmUgbnVtYmVyIHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byBjaGVjayBwcm92aWRlZCBwaG9uZSBudW1iZXIgYWxyZWFkeSB1c2VkIG9yIG5ldyBwaG9uZSBudW1iZXIuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5jaGVja1Bob25lTnVtYmVyQXZhaWxhYmlsaXR5Q29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9waG9uZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIGRhdGEsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xyXG4gICAgICB9XHJcbiAgICB9LCAnY2hlY2tQaG9uZScpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gdXBkYXRlMkZBUGhvbmVOdW1iZXJDb250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBwaG9uZSBpZCBqc29uIG9iamVjdCBzdHJpbmdcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkRmllbGQgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhc3N3b3JkRXhwaXJ5IGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB2ZXJpZnlPVFBBcGkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc2VuZE9UUEFwaSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHVwZGF0ZSBleGlzdGluZyBwaG9uZSBudW1iZXIgaW4gMkZBLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUudXBkYXRlMkZBUGhvbmVOdW1iZXJDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkLCB2ZXJpZnlPVFBBcGksIHJlc2VuZE9UUEFwaSkge1xyXG4gICAgdmFyIHR3b0ZhY3RvclRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUd29GQVRva2VuKTtcclxuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcclxuICAgIGlmICh0b2tlbiAmJiAhbW9kdWxlLkxSQ2hlY2tMb2dpbikge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkE/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZTJGQSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQID0gdmVyaWZ5T1RQQXBpIHx8IGNvbW1vbkZucy52ZXJpZnlPVFA7XHJcbiAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQID0gcmVzZW5kT1RQQXBpIHx8IGNvbW1vbkZucy5yZXNlbmRPVFA7XHJcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICd1cGRhdGVQaG9uZScpO1xyXG4gICAgfSBlbHNlIGlmICh0d29GYWN0b3JUb2tlbikge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vMkZBLz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmU2Vjb25kRmFjdG9yQXV0aGVudGljYXRpb25Ub2tlbj0nICsgdHdvRmFjdG9yVG9rZW4gKyAnJnNtc1RlbXBsYXRlMkZBPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZTJGQSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UsIGRhdGEpO1xyXG4gICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUCA9IHZlcmlmeU9UUEFwaSB8fCBjb21tb25GbnMudmVyaWZ5T1RQO1xyXG4gICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUCA9IHJlc2VuZE9UUEFwaSB8fCBjb21tb25GbnMucmVzZW5kT1RQO1xyXG4gICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcbiAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhc3N3b3JkRXhwaXJ5LCByZXF1aXJlZEZpZWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICdsb2dpbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25FcnJvcihbXHJcbiAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0d29mYVRva2VuVmFsaWQnXSlcclxuICAgICAgXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiB1cGRhdGVQaG9uZU51bWJlckNvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIHBob25lIGlkIGpzb24gb2JqZWN0IHN0cmluZ1xyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVxdWlyZWRGaWVsZCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcGFzc3dvcmRFeHBpcnkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHZlcmlmeU9UUEFwaSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzZW5kT1RQQXBpIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gdXBkYXRlIGV4aXN0aW5nIHBob25lIG51bWJlciBkdXJpbmcgbG9naW4gcHJvY2Vzcy5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnVwZGF0ZVBob25lTnVtYmVyQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCwgdmVyaWZ5T1RQQXBpLCByZXNlbmRPVFBBcGkpIHtcclxuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcclxuICAgIGlmIChjb21tb25GbnMuaXNWYWxpZFRva2VuKHRva2VuLCBvbkVycm9yKSkge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcGhvbmU/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVVwZGF0ZVBob25lLCBkYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbW1vbkZucy52ZXJpZnlPVFAgPSB2ZXJpZnlPVFBBcGkgfHwgY29tbW9uRm5zLnZlcmlmeU9UUDtcclxuICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAgPSByZXNlbmRPVFBBcGkgfHwgY29tbW9uRm5zLnJlc2VuZE9UUDtcclxuICAgICAgICAgIGNvbW1vbkZucy52ZXJpZnlPVFAoZGF0YSArICcmaGF2ZVRva2VuPXRydWUnLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBwYXNzd29yZEV4cGlyeSwgcmVxdWlyZWRGaWVsZCk7XHJcblxyXG4gICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUChkYXRhICsgJyZ1cGRhdGVQaG9uZT10cnVlJywgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcGFzc3dvcmRFeHBpcnksIHJlcXVpcmVkRmllbGQpO1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlLCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICd1cGRhdGVQaG9uZScpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZEJ5UGhvbmVDb250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBwaG9uZSBpZCBqc29uIG9iamVjdCBzdHJpbmdcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byByZXNldCBhY2NvdW50IGxvZ2luIHBhc3N3b3JkIGJ5IHVzaW5nIHBob25lIGlkLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZXRQYXNzd29yZEJ5UGhvbmVDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpIHtcclxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9wYXNzd29yZC9vdHA/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVdlbGNvbWUsIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH0sICdyZXNldFBhc3N3b3JkJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZGJ5UGhvbmVDb250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBwaG9uZSBpZCBqc29uIG9iamVjdCBzdHJpbmdcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc2V0UGFzc3dvcmRBcGkgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byBzZXQgbmV3IHBhc3N3b3JkIG9uIGZvcmdvdCBwYXNzd29yZCBvcHRpb24gYnkgdXNpbmcgdXNpbmcgcGhvbmUgaWQuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5mb3Jnb3RQYXNzd29yZGJ5UGhvbmVDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHJlc2V0UGFzc3dvcmRBcGkpIHtcclxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcGFzc3dvcmQvb3RwP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZzbXNUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMuc21zVGVtcGxhdGVGb3Jnb3QsIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XHJcbiAgICAgICAgdmFyIHJlc2V0UGFzc3dvcmQgPSByZXNldFBhc3N3b3JkQXBpIHx8IGNvbW1vbkZucy5yZXNldFBhc3N3b3JkO1xyXG4gICAgICAgIHJlc2V0UGFzc3dvcmQoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgIH1cclxuICAgIH0sICdmb3Jnb3RQYXNzd29yZCcpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gcmVnaXN0cmF0aW9uQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nIGZvciBFeC4gXCJwYXNzd29yZD1YWDMyWFhYJmVtYWlsPVhYWC5sMzQzJTQwbWFpbGF6eS5jb21cIlxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtBcnJheX0gcmVnU2NoZW1hIHJlZyBmb3JtIGZpZWxkcyBqc29uIG9iamVjdHMgYXJyYXlcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHZlcmlmeU9UUEFwaSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzZW5kT1RQQXBpIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGhhbmRsZSB1c2VyIGFjY291bnQgcmVnaXN0cmF0aW9uIHByb2Nlc3MuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5yZWdpc3RyYXRpb25Db250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHJlZ1NjaGVtYSwgdmVyaWZ5T1RQQXBpLCByZXNlbmRPVFBBcGkpIHtcclxuICAgIG1vZHVsZS5MUkNoZWNrUmVnaXN0cmF0aW9uID0gdHJ1ZTtcclxuICAgIHZhciByZWdpc3RyYXRpb25EYXRhID0gZGF0YTtcclxuICAgIGlmICghbW9kdWxlLmxyQXBpRnJhbWV3b3JrKSB7XHJcbiAgICAgIHJlZ2lzdHJhdGlvbkRhdGEgPSBjb21tb25GbnMubWFwUmVnaXN0cmF0aW9uU2NoZW1hKHJlZ1NjaGVtYSwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdmFyIHJlZ2lzdHJhdGlvbkRhdGEgPSBjb21tb25GbnMubWFwUmVnaXN0cmF0aW9uU2NoZW1hKHJlZ1NjaGVtYSwgZGF0YSk7XHJcbiAgICB2YXIgdGVtcGxhdGUgPSAnZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJndlbGNvbWVFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy53ZWxjb21lRW1haWxUZW1wbGF0ZTtcclxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luKSB7XHJcbiAgICAgIHRlbXBsYXRlICs9ICcmc21zVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnNtc1RlbXBsYXRlUGhvbmVWZXJpZmljYXRpb247XHJcbiAgICB9XHJcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMucHJldmVudFZlcmlmaWNhdGlvbkVtYWlsKSB7XHJcbiAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUgKyAnJm9wdGlvbnM9UHJldmVudFZlcmlmaWNhdGlvbkVtYWlsJztcclxuICAgIH1cclxuICAgIHZhciB1cmwgPSAnJztcclxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEgfHwgbW9kdWxlLm9wdGlvbnMudjJSZWNhcHRjaGEgfHwgbW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGEpIHtcclxuICAgICAgdXJsID0gTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvcmVnaXN0ZXIvY2FwdGNoYT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIHRlbXBsYXRlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCFtb2R1bGUub3B0aW9ucy5zb3R0KSB7XHJcbiAgICAgICAgbW9kdWxlLmxvZygndXJsIGlzIG5vdCBzZXQgYXMgc290dCBvcHRpb24gaXMgbm90IGRlZmluZWQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB1cmwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9yZWdpc3Rlcj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIHRlbXBsYXRlO1xyXG4gICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5lbmFibGVIZWFkZXJTb3R0KSB7XHJcbiAgICAgICAgICBtb2R1bGUub3B0aW9ucy5zb3R0ID0gZGVjb2RlVVJJQ29tcG9uZW50KG1vZHVsZS5vcHRpb25zLnNvdHQpO1xyXG4gICAgICAgICAgcmVnaXN0cmF0aW9uRGF0YS5zb3R0Y2hlY2sgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB1cmwgKz0gJyZzb3R0PScgKyBtb2R1bGUudXRpbC5lbmNvZGVkU3RyaW5nKG1vZHVsZS5vcHRpb25zLnNvdHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh1cmwgIT09ICcnKSB7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgdXJsLCByZWdpc3RyYXRpb25EYXRhLCBmdW5jdGlvbiAocmVnUmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVnUmVzcG9uc2UgJiYgbW9kdWxlLnV0aWwuaXNPYmplY3QocmVnUmVzcG9uc2UpKSB7XHJcbiAgICAgICAgICByZWdSZXNwb25zZSA9IG1vZHVsZS51dGlsLmtleXNsb3dlclRvVXBwZXJDYW1lbENhc2UocmVnUmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVnUmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWFnaWMtbnVtYmVyc1xyXG4gICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkVycm9yQ29kZSA9PT0gMTA0OSkge1xyXG4gICAgICAgICAgICBvbkVycm9yKFtcclxuICAgICAgICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ2ludmFsaWRTb3R0J10pXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBtb2R1bGUubG9nKHJlZ1Jlc3BvbnNlLkRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVnUmVzcG9uc2UpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGFkZFNraXBGaWVsZGluU2NoZW1hID0gZnVuY3Rpb24gKHNjaGVtYSkge1xyXG4gICAgICAgICAgICBzY2hlbWEucHVzaCh7XHJcbiAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ3NraXAnLFxyXG4gICAgICAgICAgICAgIGRpc3BsYXk6ICdTa2lwJyxcclxuICAgICAgICAgICAgICBydWxlczogJycsXHJcbiAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ3InLFxyXG4gICAgICAgICAgICAgIGV2ZW50OiAnY2xpY2snLFxyXG4gICAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4ocmVnUmVzcG9uc2UsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4gJiYgZGF0YS5pbmRleE9mKCdwaG9uZWlkJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHZhciBwaG9uZVNjaGVtYSA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSwgJ25hbWUnLCAncGhvbmVpZCcpO1xyXG4gICAgICAgICAgICBpZiAocGhvbmVTY2hlbWEucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLnJlZ2lzdGVyKCdiZWZvcmVGb3JtUmVuZGVyJywgZnVuY3Rpb24gKG5hbWUsIHNjaGVtYSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdvdHAnICYmICFtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdza2lwJykpIHtcclxuICAgICAgICAgICAgICAgICAgYWRkU2tpcEZpZWxkaW5TY2hlbWEoc2NoZW1hKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQID0gdmVyaWZ5T1RQQXBpIHx8IGNvbW1vbkZucy52ZXJpZnlPVFA7XHJcbiAgICAgICAgICAgIGNvbW1vbkZucy5yZXNlbmRPVFAgPSByZXNlbmRPVFBBcGkgfHwgY29tbW9uRm5zLnJlc2VuZE9UUDtcclxuICAgICAgICAgICAgY29tbW9uRm5zLnZlcmlmeU9UUChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUChkYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJzZURhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuZGlzYWJsZWRFbWFpbFZlcmlmaWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJlZ1Jlc3BvbnNlID0gcmVnUmVzcG9uc2UuRGF0YTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSByZWdSZXNwb25zZS5EYXRhO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlZ1Jlc3BvbnNlLklzUG9zdGVkO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBtb2R1bGUub3B0aW9ucy5hc2tSZXF1aXJlZEZpZWxkRm9yVHJhZGl0aW9uYWxMb2dpbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5vdHBFbWFpbFZlcmlmaWNhdGlvbiAmJiAhbW9kdWxlLm9wdGlvbnMudmVyaWZ5RW1haWxCeU9UUCkge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3RlcignYmVmb3JlRm9ybVJlbmRlcicsIGZ1bmN0aW9uIChuYW1lLCBzY2hlbWEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdvdHAnICYmICFtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdza2lwJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRTa2lwRmllbGRpblNjaGVtYShzY2hlbWEpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciBfb25TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UuYWNjZXNzX3Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4ocmVnUmVzcG9uc2UsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjb21tb25GbnMub3RwRW1haWxWZXJpZmljYXRpb24oY29udGFpbmVyLCBfb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhcnNlRGF0YSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlZ1Jlc3BvbnNlLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvLyBjb250cm9sbGVyc01vZHVsZS5sb2dpbkNvbnRyb2xsZXIoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGZ1bmN0aW9uKCkge30sIGZ1bmN0aW9uKCkge30sIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgb25TdWNjZXNzKHJlZ1Jlc3BvbnNlLCBwYXJzZURhdGEpO1xyXG4gICAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5vdHBFbWFpbFZlcmlmaWNhdGlvbiAmJiAhbW9kdWxlLm9wdGlvbnMudmVyaWZ5RW1haWxCeU9UUCkge1xyXG4gICAgICAgICAgICAgICAgY29tbW9uRm5zLm90cEVtYWlsVmVyaWZpY2F0aW9uKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHBhcnNlRGF0YSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAncmVnaXN0cmF0aW9uJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBwZXJpb2RpY2FsUGFzc3dvcmRSZXN0Q29udHJvbGxlclxyXG4gICogQHBhcmFtIHtPYmplY3R9IHJlc2V0RGF0YSBqc29uIG9iamVjdFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyUHJvZmlsZSB1c2VyIHByb2ZpbGUganNvbiBkYXRhIG9iamVjdFxyXG4gICogQHBhcmFtIHtPYmplY3R9IGxvZ2luUmVzcG9uc2UgYWNjb3VudCBsb2dpbiBzZXJ2aWNlIHJlc3BvbnNlIGpzb24gb2JqZWN0XHJcbiAgKiBAcGFyYW0ge09iamVjdH0gbG9naW5EYXRhIGxvZ2luIGNyZWRlbnRpYWxzIG9iamVjdFxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHJlc2V0IHBlcmlvZGljYWwgcGFzc3dvcmQgYW5kIGxvZ2luIHRoZSBhY2NvdW50LlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUucGVyaW9kaWNhbFBhc3N3b3JkUmVzdENvbnRyb2xsZXIgPSBmdW5jdGlvbiAocmVzZXREYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHVzZXJQcm9maWxlLCBsb2dpblJlc3BvbnNlLCBsb2dpbkRhdGEpIHtcclxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9wYXNzd29yZD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBsb2dpblJlc3BvbnNlLmFjY2Vzc190b2tlbiwgcmVzZXREYXRhLCBmdW5jdGlvbiAocmVzZXRQYXNzd29yZFJlZW9uc2UpIHtcclxuICAgICAgaWYgKHJlc2V0UGFzc3dvcmRSZWVvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzZXRQYXNzd29yZFJlZW9uc2UpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihsb2dpblJlc3BvbnNlLCBsb2dpbkRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH0sICdwZXJpb2RpY1Bhc3N3b3JkJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZENvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byBjaGFuZ2UgZXhpc3RpbmcgdXNlciBhY2NvdW50IHBhc3N3b3JkLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUuY2hhbmdlUGFzc3dvcmRDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bhc3N3b3JkL2NoYW5nZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSksIGRhdGEsIGZ1bmN0aW9uIChjaGFuZ2VQYXNzd29yZFJlc3BvbnNlKSB7XHJcbiAgICAgIGlmIChjaGFuZ2VQYXNzd29yZFJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoY2hhbmdlUGFzc3dvcmRSZXNwb25zZSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9uU3VjY2VzcyhjaGFuZ2VQYXNzd29yZFJlc3BvbnNlLCBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpKTtcclxuICAgICAgfVxyXG4gICAgfSwgJ2NoYW5nZVBhc3N3b3JkJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiByZXNlbmRFbWFpbFZlcmlmaWNhdGlvbkNvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byByZXNlbmQgYWNjb3VudCBlbWFpbCB2ZXJpZmljYXRpb24gbGluayBvbiB1c2VyIGVtYWlsIGlkLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZW5kRW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3JlZ2lzdGVyP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZ2ZXJpZmljYXRpb25Vcmw9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvblVybCArICcmZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSwgZGF0YSwgZnVuY3Rpb24gKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UpIHtcclxuICAgICAgaWYgKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb25TdWNjZXNzKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UsIG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSkpO1xyXG4gICAgICB9XHJcbiAgICB9LCAncmVzZW5kVmVyaWZpY2F0aW9uRW1haWwnKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIGFkZEVtYWlsQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nIHdoaWNoIGhvbGQgZW1haWxcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gYWRkIG5ldyBlbWFpbCBpbiB1c2VyIGFjY291bnQgYW5kIGlmIGVtYWlsIHZlcmlmaWNhdGlvbiBoYXMgZW5hYmxlZCB0aGVuIGhhbmRsZSB0aGUgZWFtaWwgdmVyaWZpY2F0aW9uIHByb2Nlc3MgYXMgd2VsbC5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmFkZEVtYWlsQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcclxuICAgIGlmIChjb21tb25GbnMuaXNWYWxpZFRva2VuKHRva2VuLCBvbkVycm9yKSkge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncG9zdCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2VtYWlsP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuICsgJyZ2ZXJpZmljYXRpb25Vcmw9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvblVybCArICcmZW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMuYWRkRW1haWxUZW1wbGF0ZSwgZGF0YSwgZnVuY3Rpb24gKGFkZEVtYWlsUmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAoYWRkRW1haWxSZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoYWRkRW1haWxSZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBvblN1Y2Nlc3MoYWRkRW1haWxSZXNwb25zZSwgbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XHJcbiAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMub3RwRW1haWxWZXJpZmljYXRpb24gJiYgIW1vZHVsZS5vcHRpb25zLnZlcmlmeUVtYWlsQnlPVFApIHtcclxuICAgICAgICAgICAgY29tbW9uRm5zLm90cEVtYWlsVmVyaWZpY2F0aW9uKG1vZHVsZS5jdXJyZW50TFJDb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgJycsIGRhdGEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgJ2FkZEVtYWlsJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiByZW1vdmVFbWFpbENvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byByZW1vdmUgZXhpc3RpbmcgZW1haWwgZnJvbSB1c2VyIGFjY291bnQuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5yZW1vdmVFbWFpbENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgdG9rZW4gPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSk7XHJcbiAgICBpZiAoY29tbW9uRm5zLmlzVmFsaWRUb2tlbih0b2tlbiwgb25FcnJvcikpIHtcclxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2RlbGV0ZScsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2VtYWlsP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuLCBkYXRhLCBmdW5jdGlvbiAocmVtb3ZlRW1haWxSZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZW1vdmVFbWFpbFJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZW1vdmVFbWFpbFJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9uU3VjY2VzcyhyZW1vdmVFbWFpbFJlc3BvbnNlLCBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpKTtcclxuICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5vdHBFbWFpbFZlcmlmaWNhdGlvbiAmJiAhbW9kdWxlLm9wdGlvbnMudmVyaWZ5RW1haWxCeU9UUCkge1xyXG4gICAgICAgICAgICBjb21tb25GbnMub3RwRW1haWxWZXJpZmljYXRpb24obW9kdWxlLmN1cnJlbnRMUkNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCAnJywgZGF0YSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAncmVtb3ZlRW1haWwnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIGNoYW5nZVVzZXJuYW1lQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEganNvbiBvYmplY3Qgc3RyaW5nXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIGNoYW5nZSBleGlzdGluZyB1c2VyIG5hbWUgb2YgdXNlciBhY2NvdW50LlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUuY2hhbmdlVXNlcm5hbWVDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIHRva2VuID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xyXG4gICAgaWYgKGNvbW1vbkZucy5pc1ZhbGlkVG9rZW4odG9rZW4sIG9uRXJyb3IpKSB7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC91c2VybmFtZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgZGF0YSwgZnVuY3Rpb24gKGNoYW5nZVVzZXJuYW1lUmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAoY2hhbmdlVXNlcm5hbWVSZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoY2hhbmdlVXNlcm5hbWVSZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBvblN1Y2Nlc3MoY2hhbmdlVXNlcm5hbWVSZXNwb25zZSwgbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnY2hhbmdlVXNlcm5hbWUnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmRDb250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBqc29uIG9iamVjdCBzdHJpbmcgd2hpY2ggY29udGFpbnMgcmVzZXR0b2tlbiwgcGFzc3dvcmQgYW5kIGNvbmZpcm1wYXNzd29yZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHJlc2V0IHVzZXIgYWNjb3VudCBwYXNzd29yZC5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnJlc2V0UGFzc3dvcmRDb250cm9sbGVyID0gZnVuY3Rpb24gKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpIHtcclxuICAgIGRhdGEgKz0gJyZ3ZWxjb21lRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMud2VsY29tZUVtYWlsVGVtcGxhdGUgKyAnJlJlc2V0UGFzc3dvcmRFbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5yZXNldFBhc3N3b3JkQ29uZmlybWF0aW9uRW1haWxUZW1wbGF0ZTtcclxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9wYXNzd29yZC9yZXNldD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgZGF0YSwgZnVuY3Rpb24gKHJlc2V0UGFzc3dvcmRSZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzZXRQYXNzd29yZFJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzZXRQYXNzd29yZFJlc3BvbnNlKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb25TdWNjZXNzKHJlc2V0UGFzc3dvcmRSZXNwb25zZSwgbW9kdWxlLnV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XHJcbiAgICAgIH1cclxuICAgIH0sICdyZXNldFBhc3N3b3JkJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBlbWFpbFZlcmlmaWNhdGlvbkNvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSB2dG9rZW4gdmVyaWZpY2F0aW9uIHRva2VuIHN0cmluZ1xyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtCb29sZWFufSBmbGFnIHRvIGRldGVybWluZSB3aGljaCBtZXRob2QgdXNlZCB0byBjYWxsIGFwaSAoR0VUIHdpdGggVVJMIG9yIFBVVCB3aXRoIHBhcmFtKVxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB1c2VkIHRvIHZlcmlmeSB1c2VyIGFjY291bnQgZW1haWwgYnkgdXNpbmcgdmVyaWZpY2F0aW9uIHRva2VuLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUuZW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyID0gZnVuY3Rpb24gKHZ0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCwgZmxhZykge1xyXG4gICAgdmFyIG1ldGhvZCA9ICdnZXQnO1xyXG4gICAgaWYgKHZ0b2tlbikge1xyXG4gICAgICAvLyAgdmFyIGVtYWlsVG9rZW5GbGFnID0gZmxhZyA9PSB0cnVlID8gJy9zbWFydGxvZ2luJzonJztcclxuICAgICAgdmFyIHVybCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2VtYWlsP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZ3ZWxjb21lRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMud2VsY29tZUVtYWlsVGVtcGxhdGU7XHJcbiAgICAgIHZhciBwYXJhbXMgPSAnJztcclxuICAgICAgaWYgKGZsYWcpIHtcclxuICAgICAgICBtZXRob2QgPSAncHV0JztcclxuICAgICAgICBwYXJhbXMgPSB2dG9rZW47XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdXJsICs9ICcmdmVyaWZpY2F0aW9udG9rZW49JyArIHZ0b2tlbiArICcmdXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25Vcmw7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGFjdGlvblZhbHVlID0gJyMjb3RwJztcclxuICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnZlcmlmeUVtYWlsQnlPVFApIHtcclxuICAgICAgICBhY3Rpb25WYWx1ZSA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKG1ldGhvZCwgdXJsLCBwYXJhbXMsIGZ1bmN0aW9uIChlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmxvZ2luT25FbWFpbFZlcmlmaWNhdGlvbikge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbFxyXG4gICAgICAgICAgICBpZiAoZW1haWxWZXJpZmljYXRpb25SZXNwb25zZS5EYXRhID09IG51bGwpIHtcclxuICAgICAgICAgICAgICBvblN1Y2Nlc3MoZW1haWxWZXJpZmljYXRpb25SZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4oZW1haWxWZXJpZmljYXRpb25SZXNwb25zZS5EYXRhLCAnJywgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLmxvZ291dE9uVmVyaWZ5RW1haWwpIHtcclxuICAgICAgICAgICAgICBjb21tb25GbnMubG9nb3V0KG9uU3VjY2VzcyhlbWFpbFZlcmlmaWNhdGlvblJlc3BvbnNlKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgb25TdWNjZXNzKGVtYWlsVmVyaWZpY2F0aW9uUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAndmVyaWZ5RW1haWwnICsgYWN0aW9uVmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGZsYWcpIHtcclxuICAgICAgICBvbkVycm9yKFtkZWZhdWx0TWVzc2FnZXNbJ25vdEZvdW5kJ11dKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvbkVycm9yKFtkZWZhdWx0TWVzc2FnZXNbJ3ZUb2tlbkVycm9yJ11dKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gZGVsZXRlVXNlckNvbmZpcm1Db250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdnRva2VuIHZlcmlmaWNhdGlvbiB0b2tlbiBzdHJpbmdcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVzZWQgdG8gY29uZmlybSB1c2VyIGFjY291bnQgZGVsZXRlLiBJdCBoYW5kbGUgY29uZmlybWF0aW9uIGNhbGwgb2YgdXNlciBkZWxldGlvbi5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmRlbGV0ZVVzZXJDb25maXJtQ29udHJvbGxlciA9IGZ1bmN0aW9uICh2dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgaWYgKHZ0b2tlbikge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC9kZWxldGU/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmRlbGV0ZXRva2VuPScgKyB2dG9rZW4sICcnLCBmdW5jdGlvbiAoZGVsZXRlQ29uZmlybVJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1SZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IoZGVsZXRlQ29uZmlybVJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9uU3VjY2VzcyhkZWxldGVDb25maXJtUmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgJ2RlbGV0ZVVzZXJDb25maXJtJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvbkVycm9yKFtkZWZhdWx0TWVzc2FnZXNbJ3ZUb2tlbkVycm9yJ11dKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIGNoZWNrRW1haWxBdmFpbGFiaWxpdHlDb250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSBqc29uIG9iamVjdCBzdHJpbmcgd2hpY2ggaG9sZCBlbWFpbFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgcHJvdmlkZWQgZW1haWwgaGFzIGFscmVhZHkgcmVnaXN0ZXJlZCBvciBub3QuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5jaGVja0VtYWlsQXZhaWxhYmlsaXR5Q29udHJvbGxlciA9IGZ1bmN0aW9uIGNoZWNrRW1haWxBdmFpbGFiaWxpdHlDb250cm9sbGVyIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9lbWFpbD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIGRhdGEsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xyXG4gICAgICB9XHJcbiAgICB9LCAnY2hlY2tFbWFpbCcpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gY2hlY2tVc2VyTmFtZUF2YWlsYWJpbGl0eUNvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZyB3aGljaCBob2xkIHVzZXJuYW1lXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBjaGVjayBwcm92aWRlZCB1c2VyIG5hbWUgaGFzIGFscmVhZHkgcmVnaXN0ZXJlZCBvciBub3QuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5jaGVja1VzZXJOYW1lQXZhaWxhYmlsaXR5Q29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC91c2VybmFtZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIGRhdGEsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xyXG4gICAgICB9XHJcbiAgICB9LCAnY2hlY2tVc2VybmFtZScpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZEJ5U2VjdXJpdHlRdWVzdGlvbkNvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZyBjb250YWluaW5nIHRoZSB2YWx1ZSBvZiBlaXRoZXIgZW1haWwvdXNlcm5hbWUvcGhvbmUgZm9yIHRoZSBhY2NvdW50LCBhbG9uZyB3aXRoIHRoZSBkZXNpcmVkIHBhc3Nzd29yZCBhbmQgdGhlIHF1ZXN0aW9uIGFuZCBhbnN3ZXIuXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCByZXNldCB1c2VyIGFjY291bnQgcGFzc3dvcmQgYnkgdXNpbmcgc2VjdXJpdHkgcXVlc3Rpb24uXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5yZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciBzZWN1cml0eU9iaiA9IG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSk7XHJcbiAgICB2YXIgc2VjdXJpdHlBbnN3ZXJBcnJheSA9IHt9O1xyXG4gICAgZm9yICh2YXIgb2JqIGluIHNlY3VyaXR5T2JqKSB7XHJcbiAgICAgIGlmIChvYmogIT09ICdlbWFpbCcgJiYgb2JqICE9PSAndXNlcm5hbWUnICYmIG9iaiAhPT0gJ3Bob25lJyAmJiBvYmogIT09ICdwYXNzd29yZCcpIHtcclxuICAgICAgICBzZWN1cml0eUFuc3dlckFycmF5W29ial0gPSBzZWN1cml0eU9ialtvYmpdO1xyXG4gICAgICAgIGRlbGV0ZSBzZWN1cml0eU9ialtvYmpdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBzZWN1cml0eU9iai5zZWN1cml0eWFuc3dlciA9IHNlY3VyaXR5QW5zd2VyQXJyYXk7XHJcblxyXG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3Bhc3N3b3JkL3NlY3VyaXR5YW5zd2VyLz9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgc2VjdXJpdHlPYmosIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH0sICdyZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBnZXRTZWN1cml0eVF1ZXN0aW9uc0NvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gb2JqZWN0IHN0cmluZyBjb250YWluaW5nIHRoZSB2YWx1ZSBvZiBlaXRoZXIgZW1haWwvdXNlcm5hbWUvcGhvbmUgZm9yIHRoZSBhY2NvdW50LlxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gc2NoZW1hQ2FsbGJhY2sgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBnZXQgdXNlciBhY2NvdW50IHNlY3VyaXR5IHF1ZXN0aW9ucy5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmdldFNlY3VyaXR5UXVlc3Rpb25zQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWFDYWxsYmFjaywgb25FcnJvcikge1xyXG4gICAgdmFyIHVybCA9ICcvYXV0aC9zZWN1cml0eXF1ZXN0aW9uLyc7XHJcbiAgICBpZiAoZGF0YS5pbmRleE9mKCd1c2VybmFtZScpICE9PSAtMSkgeyB1cmwgKz0gJ3VzZXJuYW1lP2FwaUtleT0nOyB9IGVsc2UgaWYgKGRhdGEuaW5kZXhPZigncGhvbmUnKSAhPT0gLTEpIHsgdXJsICs9ICdwaG9uZT9hcGlLZXk9JzsgfSBlbHNlIHsgdXJsICs9ICdlbWFpbD9hcGlLZXk9JzsgfVxyXG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgdXJsICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyYnICsgZGF0YSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNjaGVtYUNhbGxiYWNrKGdldFNlY3VyaXR5UXVlc3Rpb25zKHJlc3BvbnNlKSk7XHJcbiAgICAgIH1cclxuICAgIH0sICdzZWN1cml0eVF1ZXN0aW9uJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBnZXRCYWNrdXBDb2RlQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBnZXQgdXNlciBhY2NvdW50IGJhY2t1cCBjb2RlIGZ1cnRoZXIgd2hpY2ggY2FuIGJlIHVzZSBmb3IgbG9naW4uXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5nZXRCYWNrdXBDb2RlQ29udHJvbGxlciA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQvMkZBL2JhY2t1cGNvZGU/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4sICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnYmFja3VwQ29kZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25FcnJvcihbXHJcbiAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0d29mYVRva2VuVmFsaWQnXSlcclxuICAgICAgXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiByZXNldEJhY2t1cENvZGVDb250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rZW4gPGFjY2Vzc190b2tlbj5cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHJlc2V0IHVzZXIgYWNjb3VudCBiYWNrdXAgY29kZSBmdXJ0aGVyIHdoaWNoIGNhbiBiZSB1c2UgZm9yIGxvZ2luLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUucmVzZXRCYWNrdXBDb2RlQ29udHJvbGxlciA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQvMkZBL2JhY2t1cGNvZGUvcmVzZXQ/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4sICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnYmFja3VwQ29kZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25FcnJvcihbXHJcbiAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0d29mYVRva2VuVmFsaWQnXSlcclxuICAgICAgXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBnZXRTb2NpYWxEYXRhQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGVuZHBvaW50IHNlcnZpY2UgZW5kcG9pbnQgdXJsIHN0cmluZyBlLmcuIC9hcGkvdjIvbWVzc2FnZVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHBhcmFtUXVlcnlTdHJpbmcganNvbiBvYmplY3Qgc3RyaW5nIGUuZy4gJmFjY2Vzc190b2tlbj90bz1leGFtcGxlJTQwZXhhbXBsZS5jb20/c3ViamVjdD13ZWxjb21lP21lc3NhZ2U9aGVsbG9cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZ2V0IHVzZXIgYWNjb3VudCBzb2NpYWwgZGF0YSBmcm9tIGFwaS5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmdldFNvY2lhbERhdGFDb250cm9sbGVyID0gZnVuY3Rpb24gKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGVuZHBvaW50LCBwYXJhbVF1ZXJ5U3RyaW5nKSB7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgZW5kcG9pbnQgKz0gJz9hY2Nlc3NfdG9rZW49JyArIHRva2VuO1xyXG4gICAgICBpZiAocGFyYW1RdWVyeVN0cmluZykge1xyXG4gICAgICAgIGVuZHBvaW50ID0gZW5kcG9pbnQgKyAnJicgKyBwYXJhbVF1ZXJ5U3RyaW5nO1xyXG4gICAgICB9XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLnNvY2lhbEFwaURvbWFpbiArIGVuZHBvaW50LCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgJ3NvY2lhbEFQSScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25FcnJvcihbXHJcbiAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0d29mYVRva2VuVmFsaWQnXSlcclxuICAgICAgXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBwb3N0U29jaWFsRGF0YUNvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlbiA8YWNjZXNzX3Rva2VuPlxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBlbmRwb2ludCBzZXJ2aWNlIGVuZHBvaW50IHVybCBzdHJpbmcgIGUuZy4gL2FwaS92Mi9tZXNzYWdlXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gcGFyYW1RdWVyeVN0cmluZyBqc29uIG9iamVjdCBzdHJpbmcgZS5nLiAmYWNjZXNzX3Rva2VuP3RvPWV4YW1wbGUlNDBleGFtcGxlLmNvbT9zdWJqZWN0PXdlbGNvbWU/bWVzc2FnZT1oZWxsb1xyXG4gICogQHBhcmFtIHtTdHJpbmd9IHBvc3RCb2R5SnNvbiBUaGUgZGVzaXJlZCBKU09OIGZvciB0aGUgUE9TVCBib2R5IGlmIHRoZXJlIGFyZSBhbnksIG90aGVyd2lzZSBsZWF2ZSB0aGlzIGJsYW5rXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNhbGwgYW55IEFQSSBmcm9tIHRoZSBTb2NpYWwgQVBJcyB0aGF0IHJlcXVpcmUgdGhlIFwiUE9TVFwiIG1ldGhvZC5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnBvc3RTb2NpYWxEYXRhQ29udHJvbGxlciA9IGZ1bmN0aW9uICh0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBlbmRwb2ludCwgcGFyYW1RdWVyeVN0cmluZywgcG9zdEJvZHlKc29uKSB7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgZW5kcG9pbnQgKz0gJz9hY2Nlc3NfdG9rZW49JyArIHRva2VuO1xyXG4gICAgICBpZiAocGFyYW1RdWVyeVN0cmluZykge1xyXG4gICAgICAgIGVuZHBvaW50ID0gZW5kcG9pbnQgKyAnJicgKyBwYXJhbVF1ZXJ5U3RyaW5nO1xyXG4gICAgICB9XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwb3N0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5zb2NpYWxBcGlEb21haW4gKyBlbmRwb2ludCwgcG9zdEJvZHlKc29uLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnc29jaWFsQVBJJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvbkVycm9yKFtcclxuICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxyXG4gICAgICBdKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbU9iamVjdENvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlbiA8YWNjZXNzX3Rva2VuPlxyXG4gICogQHBhcmFtIHtPYmplY3R9IGN1c3RvbU9iamVjdEpTT04gSlNPTiB0aGF0IGRlc2NyaWJlcyB0aGUgb2JqZWN0IHlvdSB3b3VsZCBsaWtlIHRvIHN0b3JlXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgYSBjdXN0b20gb2JqZWN0LlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUuY3JlYXRlQ3VzdG9tT2JqZWN0Q29udHJvbGxlciA9IGZ1bmN0aW9uICh0b2tlbiwgY3VzdG9tT2JqZWN0SlNPTiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3Bvc3QnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9jdXN0b21vYmplY3Q/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJm9iamVjdG5hbWU9JyArIG1vZHVsZS5vcHRpb25zLmN1c3RvbU9iamVjdE5hbWUsIGN1c3RvbU9iamVjdEpTT04sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICdjcmVhdGVDdXN0b21PYmplY3QnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndHdvZmFUb2tlblZhbGlkJ10pXHJcbiAgICAgIF0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAcHJpdmF0ZVxyXG4gICogQGZ1bmN0aW9uIGhhbmRsZUN1c3RvbU9iamVjdEJ5SWRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgYWpheCBjYWxsIG1ldGhvZCBuYW1lXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rZW4gPGFjY2Vzc190b2tlbj5cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBvYmplY3RyZWNvcmRpZCBjdXN0b20gb2JqZWN0IHJlY29yZCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gaGFuZGxlIGN1c3RvbSBvYmplY3Qgb3BlcmF0aW9uKGdldCwgZGVsZXRlKSBieSB1c2luZyBvYmplY3RyZWNvcmQgaWQuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBoYW5kbGVDdXN0b21PYmplY3RCeUlkIChtZXRob2QsIHRva2VuLCBvYmplY3RyZWNvcmRpZCwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwobWV0aG9kLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9jdXN0b21vYmplY3QvJyArIG9iamVjdHJlY29yZGlkICsgJz9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiArICcmb2JqZWN0bmFtZT0nICsgbW9kdWxlLm9wdGlvbnMuY3VzdG9tT2JqZWN0TmFtZSwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICdDdXN0b21PYmplY3QnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndHdvZmFUb2tlblZhbGlkJ10pXHJcbiAgICAgIF0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBnZXRDdXN0b21PYmplY3RCeUlkQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gb2JqZWN0cmVjb3JkaWQgY3VzdG9tIG9iamVjdCByZWNvcmQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGdldCBjdXN0b20gb2JqZWN0IGJ5IHVzaW5nIGl0cyBpZC5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmdldEN1c3RvbU9iamVjdEJ5SWRDb250cm9sbGVyID0gZnVuY3Rpb24gKHRva2VuLCBvYmplY3RyZWNvcmRpZCwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBoYW5kbGVDdXN0b21PYmplY3RCeUlkKCdnZXQnLCB0b2tlbiwgb2JqZWN0cmVjb3JkaWQsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBnZXRDdXN0b21PYmplY3RzQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gdXNlZCB0byBnZXQgYWxsIG9mIHRoZSBjdXN0b20gb2JqZWN0cyBhc3NvY2lhdGVkIHRvIGEgY3VzdG9tZXIgYnkgdXNpbmcgdGhlIGFjY2Vzc190b2tlbi5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLmdldEN1c3RvbU9iamVjdHNDb250cm9sbGVyID0gZnVuY3Rpb24gKHRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIGlmICh0b2tlbikge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvY3VzdG9tb2JqZWN0P2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuICsgJyZvYmplY3RuYW1lPScgKyBtb2R1bGUub3B0aW9ucy5jdXN0b21PYmplY3ROYW1lLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgJ2dldEN1c3RvbU9iamVjdCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25FcnJvcihbXHJcbiAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0d29mYVRva2VuVmFsaWQnXSlcclxuICAgICAgXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiB1cGRhdGVDdXN0b21PYmplY3RDb250cm9sbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rZW4gPGFjY2Vzc190b2tlbj5cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBvYmplY3RyZWNvcmRpZCBjdXN0b20gb2JqZWN0IHJlY29yZCBpZFxyXG4gICogQHBhcmFtIHtPYmplY3R9IGN1c3RvbU9iamVjdEpTT04gSlNPTiB0aGF0IGRlc2NyaWJlcyB0aGUgb2JqZWN0IHlvdSB3b3VsZCBsaWtlIHRvIHN0b3JlXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdXBkYXRlVHlwZSAoT3B0aW9uYWwpIFlvdSBjYW4gcGFzcyBlaXRoZXIgJ3JlcGxhY2UnIChpdCB3aWxsIGZ1bGx5IHJlcGxhY2UgdGhlIGN1c3RvbSBvYmplY3Qgd2l0aCBuZXcgcHJvdmlkZWQganNvbikgb3IgJ3BhcnRpYWxyZXBsYWNlJyAoaXQgd2lsbCBwZXJmb3JtIGFuIHVwc2VydCB0eXBlIG9wZXJhdGlvbilcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVwZGF0ZSB5b3VyIGN1c3RvbSBvYmplY3RzIGJ5IHByb3ZpZGluZyB0aGUgYWNjZXNzX3Rva2VuIGFuZCB0aGUgb2JqZWN0cmVjb3JkaWQuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS51cGRhdGVDdXN0b21PYmplY3RDb250cm9sbGVyID0gZnVuY3Rpb24gKHRva2VuLCBvYmplY3RyZWNvcmRpZCwgY3VzdG9tT2JqZWN0SlNPTiwgdXBkYXRlVHlwZSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgdmFyIGZpZWxkID0gJyc7XHJcbiAgICAgIGlmICh1cGRhdGVUeXBlKSB7XHJcbiAgICAgICAgZmllbGQgPSAnJnVwZGF0ZXR5cGU9JyArIHVwZGF0ZVR5cGU7XHJcbiAgICAgIH1cclxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2N1c3RvbW9iamVjdC8nICsgb2JqZWN0cmVjb3JkaWQgKyAnP2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRva2VuICsgJyZvYmplY3RuYW1lPScgKyBtb2R1bGUub3B0aW9ucy5jdXN0b21PYmplY3ROYW1lICsgZmllbGQsIGN1c3RvbU9iamVjdEpTT04sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICd1cGRhdGVDdXN0b21PYmplY3QnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndHdvZmFUb2tlblZhbGlkJ10pXHJcbiAgICAgIF0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gZGVsZXRlQ3VzdG9tT2JqZWN0Q29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRva2VuIDxhY2Nlc3NfdG9rZW4+XHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gb2JqZWN0cmVjb3JkaWQgY3VzdG9tIG9iamVjdCByZWNvcmQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVwZGF0ZSB5b3VyIGN1c3RvbSBvYmplY3RzIGJ5IHByb3ZpZGluZyB0aGUgYWNjZXNzX3Rva2VuIGFuZCB0aGUgb2JqZWN0cmVjb3JkaWQuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5kZWxldGVDdXN0b21PYmplY3RDb250cm9sbGVyID0gZnVuY3Rpb24gKHRva2VuLCBvYmplY3RyZWNvcmRpZCwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBoYW5kbGVDdXN0b21PYmplY3RCeUlkKCdkZWxldGUnLCB0b2tlbiwgb2JqZWN0cmVjb3JkaWQsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiB1cGRhdGVEYXRhXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2VPYmplY3Qgc2VydmljZSBqc29uIG9iamVjdCB3aGljaCBob2xkIHVzZXIgcHJvZmlsZSBvYmplY3RcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtPYmplY3R9IGRhdGEgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgZmllbGRzIGFuZCB0aGVpciB2YWx1ZXMgb2YgdGhlIHByb2ZpbGUgdGhhdCB5b3UgYXJlIHVwZGF0aW5nXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtBcnJheX0gc2NoZW1hIHNjaGVtYSBmb3IgdGhlIGZpZWxkcyBiZWluZyBwcm92aWRlZC4gWW91IGNhbiBsZWF2ZSBzY2hlbWEgYXMgYW4gZW1wdHkgYXJyYXkgdW5sZXNzIHlvdSdyZSB1cGRhdGluZyBjb21wbGV4IGFycmF5c1xyXG4gICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbk5hbWUgYWN0aW9uIG5hbWUgdXNlciB3YW50cyBFeCwgJ3VwZGF0ZURhdGEnXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdGVtcFRva2VuIHRlbXBvcmFyeSB0b2tlblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZSBmb3IgdXNlciBhY2NvdW50IHVwZGF0ZXMuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS51cGRhdGVEYXRhID0gZnVuY3Rpb24gKHJlc3BvbnNlT2JqZWN0LCBjb250YWluZXIsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBzY2hlbWEsIGFjdGlvbk5hbWUsIHRlbXBUb2tlbikge1xyXG4gICAgdmFyIHVzZXJQcm9maWxlID0gcmVzcG9uc2VPYmplY3QuUHJvZmlsZSB8fCByZXNwb25zZU9iamVjdC5EYXRhO1xyXG4gICAgdmFyIHByb2ZpbGVEYXRhID0gZGF0YTtcclxuICAgIGlmICghbW9kdWxlLmxyQXBpRnJhbWV3b3JrKSB7XHJcbiAgICAgIHByb2ZpbGVEYXRhID0gY29tbW9uRm5zLm1hcFJlZ2lzdHJhdGlvblNjaGVtYShzY2hlbWEsIGRhdGEsIHVzZXJQcm9maWxlKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWNjZXNzVG9rZW4gPSByZXNwb25zZU9iamVjdC5hY2Nlc3NfdG9rZW47XHJcbiAgICB0ZW1wVG9rZW4gPSB0ZW1wVG9rZW4gfHwgbW9kdWxlLnNldEhvc3RlZFRva2VuO1xyXG4gICAgYWN0aW9uTmFtZSA9IGFjdGlvbk5hbWUgfHwgJ3VwZGF0ZURhdGEnO1xyXG4gICAgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLmVtYWlsVGVtcGxhdGUgfHwgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZTtcclxuICAgIGlmIChPYmplY3Qua2V5cyhwcm9maWxlRGF0YSkubGVuZ3RoID4gMCkge1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgncHV0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBhY2Nlc3NUb2tlbiArICcmdmVyaWZpY2F0aW9uVXJsPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25VcmwgKyAnJmVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLnZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUsIHByb2ZpbGVEYXRhLCBmdW5jdGlvbiAocmVnUmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVnUmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlZ1Jlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBoYW5kbGVVcGRhdGVEYXRhUmVzcG9uc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGlzZW1haWw7XHJcbiAgICAgICAgICAgIHZhciBpc3Bob25lO1xyXG4gICAgICAgICAgICBpc2VtYWlsID0gcHJvZmlsZURhdGFbJ2VtYWlsaWQnXSB8fCBwcm9maWxlRGF0YVsnZW1haWwnXTtcclxuICAgICAgICAgICAgaXNwaG9uZSA9IHByb2ZpbGVEYXRhWydwaG9uZSddIHx8IHByb2ZpbGVEYXRhWydwaG9uZWlkJ107XHJcbiAgICAgICAgICAgIHZhciBwaG9uZVNjaGVtYSA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3Bob25laWQnKTtcclxuICAgICAgICAgICAgdmFyIHBob25lcmVxID0gKHBob25lU2NoZW1hICYmIChwaG9uZVNjaGVtYS5ydWxlcy5pbmRleE9mKCdyZXF1aXJlZCcpICE9PSAtMSkpO1xyXG4gICAgICAgICAgICB2YXIgZW1haWxTY2hlbWEgPSBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdlbWFpbGlkJyk7XHJcbiAgICAgICAgICAgIHZhciBlbWFpbHJlcSA9IChlbWFpbFNjaGVtYSAmJiAoZW1haWxTY2hlbWEucnVsZXMuaW5kZXhPZigncmVxdWlyZWQnKSAhPT0gLTEpKTtcclxuICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRVaWROYW1lLCB1c2VyUHJvZmlsZS5VaWQpO1xyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gucmVwbGFjZSgnPycsICcnKSk7XHJcbiAgICAgICAgICAgIGlmICgoKChpc3Bob25lID09PSB1bmRlZmluZWQgfHwgaXNwaG9uZSkgJiYgdXNlclByb2ZpbGUuUGhvbmVJZFZlcmlmaWVkICYmIGlzZW1haWwgPT09IHVuZGVmaW5lZCkgfHwgKChpc2VtYWlsID09PSB1bmRlZmluZWQgfHwgaXNlbWFpbCkgJiYgdXNlclByb2ZpbGUuRW1haWxWZXJpZmllZCAmJiBpc3Bob25lID09PSB1bmRlZmluZWQpKSB8fCAoKChpc3Bob25lICYmICFwaG9uZXJlcSkgfHwgaXNwaG9uZSA9PT0gdW5kZWZpbmVkKSAmJiAobW9kdWxlLm9wdGlvbnMuZGlzYWJsZWRFbWFpbFZlcmlmaWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uKSkpIHtcclxuICAgICAgICAgICAgICBpZiAoaXNlbWFpbCAmJiAhdXNlclByb2ZpbGUuRW1haWxWZXJpZmllZCAmJiBxdWVyeVN0cmluZy5yZXR1cm5fdXJsICYmIHF1ZXJ5U3RyaW5nLnJldHVybl91cmwudG9Mb3dlckNhc2UoKS5pbmRleE9mKCcvc2FtbC8nKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgICAgICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ2VtYWlsTm90VmVyaWZpZWQnXSlcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVnUmVzcG9uc2UuSXNQb3N0ZWQ7XHJcbiAgICAgICAgICAgICAgICByZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4gPSBhY2Nlc3NUb2tlbjtcclxuICAgICAgICAgICAgICAgIC8vIG9uU3VjY2VzcyhyZWdSZXNwb25zZSwgdXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGRhdGEpKVxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIGlmIChMb2dpblJhZGl1c0RlZmF1bHRzLmlzU1NPSW5pdEZpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRUb2tlbihhY2Nlc3NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzcGhvbmUgJiYgdXNlclByb2ZpbGUgJiYgIXVzZXJQcm9maWxlLlBob25lSWRWZXJpZmllZCkge1xyXG4gICAgICAgICAgICAgIC8vIHZhciBwaG9uZU9iaiA9IHtcclxuICAgICAgICAgICAgICAvLyAgICdwaG9uZSc6IG1vZHVsZS51dGlsLmdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lKCdwaG9uZWlkJywgZGF0YSlcclxuICAgICAgICAgICAgICAvLyB9O1xyXG4gICAgICAgICAgICAgIHZhciBfb25TdWNjZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgICAgICAgICB2YXIgZm5zID0gbmV3IFNldExvZ2luUmFkaXVzQ29tbW9uRnVuY3Rpb25zKG1vZHVsZSk7XHJcbiAgICAgICAgICAgICAgICBmbnMudmVyaWZ5T1RQKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgICAgICAgZm5zLnJlc2VuZE9UUChkYXRhICsgJyZub1Bob25lVmVyaWZpZWQ9ZmFsc2UnLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIF9vblN1Y2Nlc3MoKTtcclxuICAgICAgICAgICAgICAvLyB2YXIgcmVjYXB0Y2hhaWQgPSBfY2xhc3NQcmVmaXggKyBMb2dpblJhZGl1c0RlZmF1bHRzLmlkUHJlZml4ICsgXCJyZWNhcHRjaGFfd2lkZ2V0X3ZlcmlmeW90cFwiO1xyXG4gICAgICAgICAgICAgIC8vIGNvbnRyb2xsZXJzTW9kdWxlLnJlc2VuZE9UUENvbnRyb2xsZXIocGhvbmVPYmosIF9vblN1Y2Nlc3MsIG9uRXJyb3IsIHJlY2FwdGNoYWlkLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNlbWFpbCAmJiBlbWFpbHJlcSAmJiAhdXNlclByb2ZpbGUuRW1haWxWZXJpZmllZCAmJiAhKG1vZHVsZS5vcHRpb25zLmRpc2FibGVkRW1haWxWZXJpZmljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMub3B0aW9uYWxFbWFpbFZlcmlmaWNhdGlvbikpIHtcclxuICAgICAgICAgICAgICBvbkVycm9yKFtcclxuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1snZW1haWxOb3RWZXJpZmllZCddKVxyXG4gICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIG9uU3VjY2VzcyhyZWdSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGlmICh0ZW1wVG9rZW4pIHtcclxuICAgICAgICAgICAgaGFuZGxlVXBkYXRlRGF0YVJlc3BvbnNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICByZXNwb25zZU9iamVjdC5EYXRhID0gcmVzcG9uc2VPYmplY3QuUHJvZmlsZTtcclxuICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2VPYmplY3QuUHJvZmlsZTtcclxuICAgICAgICAgICAgICBpZiAocmVnUmVzcG9uc2UuRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VPYmplY3QuRGF0YSA9IHJlZ1Jlc3BvbnNlLkRhdGE7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlT2JqZWN0LCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGhhbmRsZVVwZGF0ZURhdGFSZXNwb25zZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHJlZ1Jlc3BvbnNlLkRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJlZ1Jlc3BvbnNlLlByb2ZpbGUgPSByZWdSZXNwb25zZS5EYXRhO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlZ1Jlc3BvbnNlLkRhdGE7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVnUmVzcG9uc2UuSXNQb3N0ZWQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChyZWdSZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlZ1Jlc3BvbnNlLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MocmVnUmVzcG9uc2UsIG1vZHVsZS51dGlsLnBhcnNlUXVlcnlTdHJpbmcoZGF0YSkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBhY3Rpb25OYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlT2JqZWN0LCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gb25lVG91Y2hMb2dpbkNvbnRyb2xsZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIGpzb24gc3RyaW5nIHdoaWNoIGhvbGQgZW1haWwgYW5kIG5hbWUgaW5mbyBleC4gXCJuYW1lPVhYWCZlbWFpbD1YWFhYWC5sJTQwbWFpbGF6eS5jb21cIlxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQHBhcmFtIHtCb29sZWFufSB1c2VVcGRhdGVkQVBJIHRvIGRldGVybWluZSB1c2UgdXBkYXRlZCBBUEkgb3Igbm90XHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGhhbmRsZSB1c2VyIGFjY291bnQgbG9naW4gdmlhIG9uZSB0b3VjaCBsb2dpbiBwcm9jZXNzLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUub25lVG91Y2hMb2dpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgdXNlVXBkYXRlZEFQSSkge1xyXG4gICAgdmFyIGZvcm1hdHRlZERhdGEgPSBtb2R1bGUudXRpbC5jaGVja1Bob25lT3JFbWFpbExvZ2luKGRhdGEpO1xyXG4gICAgdmFyIHBhcnNlZERhdGEgPSBtb2R1bGUudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKGZvcm1hdHRlZERhdGEpO1xyXG4gICAgdmFyIG1ldGhvZCA9IHVzZVVwZGF0ZWRBUEkgPyAnUE9TVCcgOiAnR0VUJztcclxuICAgIHZhciByZWZpZWxkID0gZnVuY3Rpb24gKHVzZXJQcm9maWxlLCBsb2dpblJlc3BvbnNlLCBhY2Nlc3NUb2tlbiwgZm9ybWF0dGVkRGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnbG9naW5SZXF1aXJlZEZpZWxkc1VwZGF0ZScsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGZvcm1hdHRlZERhdGEpIHtcclxuICAgICAgICB2YXIgcmVzcG9uc2VPYmplY3QgPSB7fTtcclxuICAgICAgICByZXNwb25zZU9iamVjdC5Qcm9maWxlID0gdXNlclByb2ZpbGU7XHJcbiAgICAgICAgcmVzcG9uc2VPYmplY3QuYWNjZXNzX3Rva2VuID0gYWNjZXNzVG9rZW47XHJcbiAgICAgICAgY29udHJvbGxlcnNNb2R1bGUudXBkYXRlRGF0YShyZXNwb25zZU9iamVjdCwgY29udGFpbmVyLCBmb3JtYXR0ZWREYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEsICdsb2dpbicsIHRydWUpO1xyXG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShlcnJvcnMpKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIHBheWxvYWREYXRhID0gJyc7XHJcbiAgICBpZiAocGFyc2VkRGF0YS5waG9uZSkge1xyXG4gICAgICB2YXIgb25lVG91Y2hQaG9uZVVSTCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL29uZXRvdWNobG9naW4vcGhvbmU/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnNtc3RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZU9uZVRvdWNoTG9naW47XHJcbiAgICAgIGlmICh1c2VVcGRhdGVkQVBJKSB7XHJcbiAgICAgICAgcGF5bG9hZERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJzZWREYXRhKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvbmVUb3VjaFBob25lVVJMID0gb25lVG91Y2hQaG9uZVVSTCArICcmJyArIGZvcm1hdHRlZERhdGE7XHJcbiAgICAgIH1cclxuICAgICAgbW9kdWxlLnV0aWwuYWpheENhbGwobWV0aG9kLCBvbmVUb3VjaFBob25lVVJMLCBwYXlsb2FkRGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQKGZvcm1hdHRlZERhdGEgKyAnJm9uZXRvdWNobG9naW5mbGFnPXRydWUnLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCAnJywgcmVmaWVsZCk7XHJcbiAgICAgICAgICBjb21tb25GbnMucmVzZW5kT1RQKGZvcm1hdHRlZERhdGEgKyAnJm9uZXRvdWNobG9naW5mbGFnPXRydWUnLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCAnJywgcmVmaWVsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnb25lVG91Y2hMb2dpbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcclxuICAgICAgdmFyIGNsaWVudEd1aWQgPSBtb2R1bGUudXRpbC5yYW5kb21TdHJpbmcoMTYpO1xyXG4gICAgICB2YXIgZW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLm5vUmVnaXN0cmF0aW9uRW1haWxUZW1wbGF0ZSB8fCBtb2R1bGUub3B0aW9ucy5vbmV0b3VjaExvZ2luRW1haWxUZW1wbGF0ZTtcclxuICAgICAgdmFyIG9uZVRvdWNoRW1haWxVUkwgPSBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9vbmV0b3VjaGxvZ2luL2VtYWlsP2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZvbmV0b3VjaGxvZ2luZW1haWx0ZW1wbGF0ZT0nICsgZW1haWxUZW1wbGF0ZSArICcmd2VsY29tZWVtYWlsdGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLndlbGNvbWVFbWFpbFRlbXBsYXRlICsgJyZyZWRpcmVjdFVybD0nICsgbW9kdWxlLm9wdGlvbnMub25ldG91Y2hMb2dpblJlZGlyZWN0VXJsO1xyXG4gICAgICBpZiAodXNlVXBkYXRlZEFQSSkge1xyXG4gICAgICAgIHBheWxvYWREYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VkRGF0YSwge1xyXG4gICAgICAgICAgJ2NsaWVudEd1aWQnOiBjbGllbnRHdWlkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb25lVG91Y2hFbWFpbFVSTCA9IG9uZVRvdWNoRW1haWxVUkwgKyAnJicgKyBmb3JtYXR0ZWREYXRhICsgJyZjbGllbnRHdWlkPScgKyBjbGllbnRHdWlkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbChtZXRob2QsIG9uZVRvdWNoRW1haWxVUkwsIHBheWxvYWREYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5Jc1Bvc3RlZCkge1xyXG4gICAgICAgICAgICBvblN1Y2Nlc3MocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlT25lVG91Y2hMb2dpblN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuYXNrUmVxdWlyZWRGaWVsZHNPblBhc3N3b3JkTGVzc0xvZ2luKSB7XHJcbiAgICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmF1dG9GaWxsZWRGaWVsZGZvclBhc3N3b3JkTGVzTG9naW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcnNNb2R1bGUuaGFuZGxlRmVhdHVyZXMocmVzcG9uc2UsIGZvcm1hdHRlZERhdGEsIHJlZmllbGQsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZXNwb25zZSwgJycsIG9uU3VjY2Vzcywgb25FcnJvciwgJycsIHRydWUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29tbW9uRm5zLnBpbmdGb3JTbWFydExvZ2luKGNsaWVudEd1aWQsIGhhbmRsZU9uZVRvdWNoTG9naW5TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sICdvbmVUb3VjaExvZ2luJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiBzbWFydExvZ2luQ29udHJvbGxlclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlICdlbWFpbCcgcGFyYW1ldGVyIEV4LiB7ZW1haWw6XCJ4eXpAZ21haWwuY29tXCJ9XHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbXBsZW1lbnQgU21hcnQgTG9naW4uXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5zbWFydExvZ2luQ29udHJvbGxlciA9IGZ1bmN0aW9uIChkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICB2YXIgY2xpZW50R3VpZCA9IG1vZHVsZS51dGlsLnJhbmRvbVN0cmluZygxNik7XHJcbiAgICB2YXIgcmVkaXJlY3RVcmwgPSBtb2R1bGUub3B0aW9ucy5hdXRvTG9naW5SZWRpcmVjdFVybCB8fCBtb2R1bGUub3B0aW9ucy5zbWFydExvZ2luUmVkaXJlY3RVcmw7XHJcbiAgICB2YXIgZW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLmF1dG9Mb2dpbkVtYWlsVGVtcGxhdGUgfHwgbW9kdWxlLm9wdGlvbnMuc21hcnRMb2dpbkVtYWlsVGVtcGxhdGU7XHJcbiAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vc21hcnRsb2dpbj9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmJyArIGRhdGEgKyAnJmNsaWVudEd1aWQ9JyArIGNsaWVudEd1aWQgKyAnJnNtYXJ0bG9naW5lbWFpbHRlbXBsYXRlPScgKyBlbWFpbFRlbXBsYXRlICsgJyZ3ZWxjb21lZW1haWx0ZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMud2VsY29tZUVtYWlsVGVtcGxhdGUgKyAnJnJlZGlyZWN0VXJsPScgKyByZWRpcmVjdFVybCwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5Jc1Bvc3RlZCkge1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgICAgIHZhciBoYW5kbGVTbWFydExvZ2luU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZXNwb25zZSwgJycsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgY29tbW9uRm5zLnBpbmdGb3JTbWFydExvZ2luKGNsaWVudEd1aWQsIGhhbmRsZVNtYXJ0TG9naW5TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sICdzbWFydExvZ2luJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiB2ZXJpZnlJbnN0YW50T1RQXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gb3RwRGF0YSBvbmUgdGltZSBwYXNzd29yZCBzdHJpbmdcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBwaG9uZURhdGEganNvbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgJ2VtYWlsJyAncGhvbmUnLCAndXNlcm5hbWUnXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHJlY2FwdGNoYWlkIHJlY2FwdGNoYSBodG1sIGRvbSBjb250YWluZXIgaWRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBkb20gZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB2ZXJpZnkgcGhvbmUgb3RwIGFuZCBsb2dpbiB1c2VyIGFjY291bnQgYWZ0ZXIgc3VjY2Vzc2Z1bCB2ZXJpZmljYXRpb24gb2Ygb3RwLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUudmVyaWZ5SW5zdGFudE9UUCA9IGZ1bmN0aW9uIChvdHBEYXRhLCBwaG9uZURhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgcmVjYXB0Y2hhaWQsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICB2YXIgcGFyYW1zID0gJ3Bob25lPScgKyBwaG9uZURhdGEucGhvbmUgKyAnJicgKyBvdHBEYXRhO1xyXG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ3B1dCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2xvZ2luL3Bhc3N3b3JkbGVzc2xvZ2luL290cC92ZXJpZnk/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJnNtc1RlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5zbXNUZW1wbGF0ZVdlbGNvbWUsIHBhcmFtcywgZnVuY3Rpb24gKGxvZ2luUmVzcG9uc2UpIHtcclxuICAgICAgaWYgKGxvZ2luUmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihsb2dpblJlc3BvbnNlKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29tbW9uRm5zLmxvZ2luSGFuZGxlVG9rZW4obG9naW5SZXNwb25zZSwgb3RwRGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfSwgJ2xvZ2luIyNvdHAnKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIHNvY2lhbExvZ2luUmVjZWl2ZVRva2VuXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rIDxhY2Nlc3NfdG9rZW4+XHJcbiAgKiBAcGFyYW0ge09iamVjdH0gY29udGFpbmVyIGh0bWwgZG9tIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gb25NaXNzaW5nRmllbGQgY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiB0aGUgYXV0b21hdGVkIHByb2Nlc3Mgb2YgZ2V0dGluZyB0aGUgc29jaWFsIHByb2ZpbGUgZGF0YSB3YXMgbm90IGFibGUgdG8gZmlsbCBvdXQgYWxsIG9mIHRoZSByZXF1aXJlZCBmaWVsZHNcclxuICAqIEBwYXJhbSB7QXJyYXl9IHJlZ1NjaGVtYSBhcnJheSBvZiB1c2VyIHJlZy4gZmllbGRzIG9iamVjdHNcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgSW1wbGVtZW50IHNvY2FpbCBsb2dpbiBwcm9jZXNzIHdpdGggYWNjZXNzIHRva2VuIGFuZCBwcm9tcHQgbWlzc2luZyBmaWVsZHMgaWYgaXRzIHRoZXJlLlxyXG4gICovXHJcbiAgY29udHJvbGxlcnNNb2R1bGUuc29jaWFsTG9naW5SZWNlaXZlVG9rZW4gPSBmdW5jdGlvbiAodG9rLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBvbk1pc3NpbmdGaWVsZCwgcmVnU2NoZW1hKSB7XHJcbiAgICBtb2R1bGUuY3VycmVudExSQ29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IG1vZHVsZS5vcHRpb25zLmVtYWlsVGVtcGxhdGUgfHwgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZTtcclxuICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lLCB0b2spO1xyXG4gICAgdmFyIHNvY2lhbFByb2ZpbGVIYW5kbGVyID0gZnVuY3Rpb24gKF9yZWdTY2hlbWEpIHtcclxuICAgICAgdmFyIHJlZ1NjaGVtYSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3JlZ1NjaGVtYSkpO1xyXG4gICAgICBtb2R1bGUudXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2sgKyAnJnZlcmlmaWNhdGlvblVybD0nICsgbW9kdWxlLm9wdGlvbnMudmVyaWZpY2F0aW9uVXJsICsgJyZlbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy52ZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlLCAnJywgZnVuY3Rpb24gKHVzZXJQcm9maWxlKSB7XHJcbiAgICAgICAgaWYgKHVzZXJQcm9maWxlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcih1c2VyUHJvZmlsZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb2R1bGUuTFJDaGVja0xvZ2luID0gdHJ1ZTtcclxuICAgICAgICAgIGlmICghdXNlclByb2ZpbGUuSXNEZWxldGVkKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNwb25zZU9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgICByZXNwb25zZU9iamVjdC5Qcm9maWxlID0gdXNlclByb2ZpbGU7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlT2JqZWN0LmFjY2Vzc190b2tlbiA9IHRvaztcclxuXHJcbiAgICAgICAgICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHJlZ1NjaGVtYSwgJ25hbWUnLCAncGFzc3dvcmQnKSk7XHJcbiAgICAgICAgICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUobW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKHJlZ1NjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBhc3N3b3JkJykpO1xyXG4gICAgICAgICAgICB2YXIgYXV0b0ZpbGxlZEZpZWxkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5hdXRvRmlsbGVkRmllbGRGb3JTb2NpYWwpIHtcclxuICAgICAgICAgICAgICBhdXRvRmlsbGVkRmllbGQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ2JlZm9yZUZvcm1SZW5kZXInLCBmdW5jdGlvbiAobmFtZSwgc2NoZW1hKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ3NvY2lhbFJlZ2lzdHJhdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGVtYWlsZmllbGQgPSBtb2R1bGUudXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdlbWFpbGlkJyk7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChlbWFpbGZpZWxkICYmIGVtYWlsZmllbGQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbGZpZWxkLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB2YXIgcGhvbmVmaWVsZCA9IG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ3Bob25laWQnKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKHBob25lZmllbGQgJiYgcGhvbmVmaWVsZC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBob25lZmllbGQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEgPSBjb21tb25GbnMubWFwU2NoZW1hKHJlZ1NjaGVtYSwgdXNlclByb2ZpbGUsIGF1dG9GaWxsZWRGaWVsZCk7XHJcbiAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgncmVnaXN0cmF0aW9uU2NoZW1hRmlsdGVyJywgcmVnU2NoZW1hLCB1c2VyUHJvZmlsZSk7XHJcbiAgICAgICAgICAgIHZhciBzYWZhcmlMb2dpbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKCdMUlRyYWRpdGlvbmFsTG9naW4nKTtcclxuICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2UucmVtb3ZlQnJvd3NlclN0b3JhZ2UoJ0xSVHJhZGl0aW9uYWxMb2dpbicpO1xyXG4gICAgICAgICAgICBpZiAobW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEubGVuZ3RoID4gMCAmJiAhc2FmYXJpTG9naW4pIHtcclxuICAgICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3NvY2lhbExvZ2luRm9ybVJlbmRlcicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLCAnc29jaWFsUmVnaXN0cmF0aW9uJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyc01vZHVsZS51cGRhdGVEYXRhKHJlc3BvbnNlT2JqZWN0LCBjb250YWluZXIsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSwgJ3NvY2lhbExvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgICAgICAgICAgICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9uTWlzc2luZ0ZpZWxkKHRvaywgbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEsIHVzZXJQcm9maWxlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdmFyIHBob25lU2NoZW1hID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKF9yZWdTY2hlbWEsICduYW1lJywgJ3Bob25laWQnKTtcclxuICAgICAgICAgICAgICB2YXIgcGhvbmVyZXEgPSAocGhvbmVTY2hlbWEgJiYgKHBob25lU2NoZW1hLnJ1bGVzLmluZGV4T2YoJ3JlcXVpcmVkJykgIT09IC0xKSk7XHJcbiAgICAgICAgICAgICAgdmFyIGlzcGhvbmUgPSBwaG9uZXJlcSA/ICghIXVzZXJQcm9maWxlLlBob25lSWRWZXJpZmllZCkgOiB1c2VyUHJvZmlsZS5QaG9uZUlkVmVyaWZpZWQ7XHJcbiAgICAgICAgICAgICAgdmFyIGVtYWlsU2NoZW1hID0gbW9kdWxlLnV0aWwuZmluZEluU2NoZW1hKF9yZWdTY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcclxuICAgICAgICAgICAgICB2YXIgZW1haWxyZXEgPSAoZW1haWxTY2hlbWEgJiYgKGVtYWlsU2NoZW1hLnJ1bGVzLmluZGV4T2YoJ3JlcXVpcmVkJykgIT09IC0xKSk7XHJcblxyXG4gICAgICAgICAgICAgIHZhciBpc2VtYWlsID0gZW1haWxyZXEgPyAoISF1c2VyUHJvZmlsZS5FbWFpbFZlcmlmaWVkKSA6IHVzZXJQcm9maWxlLkVtYWlsVmVyaWZpZWQ7XHJcblxyXG4gICAgICAgICAgICAgIGlmICgoKGlzcGhvbmUgfHwgIXBob25lcmVxKSAmJiAoaXNlbWFpbCB8fCAhZW1haWxyZXEpKSB8fCAoKGlzcGhvbmUgfHwgIXBob25lcmVxKSAmJiAobW9kdWxlLm9wdGlvbnMuZGlzYWJsZWRFbWFpbFZlcmlmaWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbEVtYWlsVmVyaWZpY2F0aW9uKSkpIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVWlkTmFtZSwgdXNlclByb2ZpbGUuVWlkKTtcclxuICAgICAgICAgICAgICAgIGlmIChMb2dpblJhZGl1c0RlZmF1bHRzLmlzU1NPSW5pdEZpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRUb2tlbih0b2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25TdWNjZXNzKHJlc3BvbnNlT2JqZWN0KTtcclxuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlT2JqZWN0LCAnJywgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGxcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyUHJvZmlsZS5FbWFpbCAhPSBudWxsICYmICF1c2VyUHJvZmlsZS5FbWFpbFZlcmlmaWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1snZW1haWxOb3RWZXJpZmllZCddKVxyXG4gICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBwaG9uZU9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAncGhvbmUnOiB1c2VyUHJvZmlsZS5QaG9uZUlkXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sncGhvbmVOb3RWZXJpZmllZCddKVxyXG4gICAgICAgICAgICAgICAgICBdLCBwaG9uZU9iaik7XHJcblxyXG4gICAgICAgICAgICAgICAgICB2YXIgX29uU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGUuc29jaWFsTG9naW5GbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMudmVyaWZ5T1RQKCdwaG9uZT0nICsgdXNlclByb2ZpbGUuUGhvbmVJZCwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uRm5zLnJlc2VuZE9UUCgncGhvbmU9JyArIHVzZXJQcm9maWxlLlBob25lSWQgKyAnJm5vUGhvbmVWZXJpZmllZD1mYWxzZScsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICB2YXIgcmVjYXB0Y2hhaWQgPSBfY2xhc3NQcmVmaXggKyBMb2dpblJhZGl1c0RlZmF1bHRzLmlkUHJlZml4ICsgJ3JlY2FwdGNoYV93aWRnZXRfdmVyaWZ5b3RwJztcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcnNNb2R1bGUucmVzZW5kT1RQQ29udHJvbGxlcihwaG9uZU9iaiwgX29uU3VjY2Vzcywgb25FcnJvciwgcmVjYXB0Y2hhaWQsIGNvbnRhaW5lciwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1snYmxvY2tlZFVzZXInXSlcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnc29jaWFsTG9naW4nKTtcclxuICAgIH07XHJcbiAgICByZWdTY2hlbWEgPSAocmVnU2NoZW1hICYmIHJlZ1NjaGVtYS5sZW5ndGggPiAwKSA/IHJlZ1NjaGVtYSA6IG1vZHVsZS5vcHRpb25zLlJlZ2lzdHJhdGlvbkZvcm1TY2hlbWE7XHJcbiAgICBzb2NpYWxQcm9maWxlSGFuZGxlcihyZWdTY2hlbWEpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzQ29udHJvbGxlcnMjXHJcbiAgKiBAZnVuY3Rpb24gYWNjb3VudExpbmtpbmdSZWNlaXZlVG9rZW5cclxuICAqIEBwYXJhbSB7U3RyaW5nfSB0b2sgPGFjY2Vzc190b2tlbj5cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHByb3ZpZGUgb3B0aW9uIHRvIGxpbmsgdGhlIHNvY2lhbCBhY2NvdW50cyB0byB1c2VyIGFjY291bnQuXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5hY2NvdW50TGlua2luZ1JlY2VpdmVUb2tlbiA9IGZ1bmN0aW9uICh0b2ssIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3NvY2lhbGlkZW50aXR5P2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRvaywgJycsIGZ1bmN0aW9uIChyZXNwb25zZU9iamVjdCkge1xyXG4gICAgICBpZiAocmVzcG9uc2VPYmplY3QuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZU9iamVjdCkpO1xyXG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlT2JqZWN0LlVpZCAhPT0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRVaWROYW1lKSkge1xyXG4gICAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdwdXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9zb2NpYWxpZGVudGl0eT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSksICdjYW5kaWRhdGV0b2tlbj0nICsgdG9rLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAnbGlua0FjY291bnQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvblN1Y2Nlc3Moe1xyXG4gICAgICAgICAgSXNQb3N0ZWQ6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSwgJ2xpbmtBY2NvdW50Jyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiB2YWxpZGF0ZVRva2VuXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdG9rIDxhY2Nlc3NfdG9rZW4+XHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBhbGxvd3MgeW91IHRvIHZhbGlkYXRlIGFuIGFjY2Vzc190b2tlbi5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnZhbGlkYXRlVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgaWYgKHRva2VuKSB7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2Nlc3NfdG9rZW4vVmFsaWRhdGU/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4sICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAndmFsaWRhdGVUb2tlbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25FcnJvcihbXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ3R3b2ZhVG9rZW5WYWxpZCddKVxyXG4gICAgICBdKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c0NvbnRyb2xsZXJzI1xyXG4gICogQGZ1bmN0aW9uIGludmFsaWRhdGVUb2tlblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHRvayA8YWNjZXNzX3Rva2VuPlxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgYWxsb3dzIHlvdSB0byBpbnZhbGlkYXRlIGEgdG9rZW4uXHJcbiAgKi9cclxuICBjb250cm9sbGVyc01vZHVsZS5pbnZhbGlkYXRlVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgaWYgKHRva2VuKSB7XHJcbiAgICAgIG1vZHVsZS51dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2Nlc3NfdG9rZW4vSW5WYWxpZGF0ZT9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICdpbnZhbGlkYXRlVG9rZW4nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgIHNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0d29mYVRva2VuVmFsaWQnXSlcclxuICAgICAgXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNDb250cm9sbGVycyNcclxuICAqIEBmdW5jdGlvbiB1cGRhdGVQcml2YWN5UG9saWN5XHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gYWNjZXNzVG9rZW4gPGFjY2Vzc190b2tlbj5cclxuICAqIEBwYXJhbSB7T2JqZWN0fSByZXN1bHQgUHJpdmFjeVBvbGljeSBzZXJ2aWNlIHJlc3BvbnNlIG9iamVjdFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBmbGFnIHdpbGwgZGV0ZXJtaW5lIGhvdyBzZXQgZGF0YSB2YXJhaWJsZVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGRvbSBlbGVtZW50IGlmXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHVwZGF0ZSBQcml2YWN5UG9saWN5IGFuZCBsb2dpbiB0b3VzZXIgYWNjb3VudC5cclxuICAqL1xyXG4gIGNvbnRyb2xsZXJzTW9kdWxlLnVwZGF0ZVByaXZhY3lQb2xpY3kgPSBmdW5jdGlvbiAoYWNjZXNzVG9rZW4sIHJlc3VsdCwgb25TdWNjZXNzLCBvbkVycm9yLCBmbGFnLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgbW9kdWxlLnV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3ByaXZhY3lwb2xpY3kvYWNjZXB0P2FwaWtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIGFjY2Vzc1Rva2VuLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGRhdGE7XHJcbiAgICAgICAgaWYgKGZsYWcpIHtcclxuICAgICAgICAgIGRhdGEgPSByZXNwb25zZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGF0YSA9IHJlc3VsdC5EYXRhIHx8IHt9O1xyXG4gICAgICAgICAgZGF0YS5hY2Nlc3NfdG9rZW4gPSBhY2Nlc3NUb2tlbjtcclxuICAgICAgICAgIGRhdGEuUHJvZmlsZSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgZGF0YS5Qcm9maWxlID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YS5Qcm9maWxlLCB7XHJcbiAgICAgICAgICAgICdJc0xhdGVzdFByaXZhY3lQb2xpY3knOiB0cnVlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gb25TdWNjZXNzKGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhLlByb2ZpbGUpIHtcclxuICAgICAgICAgIGlmICgoZGF0YS5Qcm9maWxlLlJlZ2lzdHJhdGlvblByb3ZpZGVyKS50b0xvd2VyQ2FzZSgpID09PSAnZW1haWwnKSB7XHJcbiAgICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKGRhdGEsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXJzID0gbmV3IExvZ2luUmFkaXVzQ29udHJvbGxlcnMobW9kdWxlLCBjb21tb25GbnMpO1xyXG4gICAgICAgICAgICBjb250cm9sbGVycy5zb2NpYWxMb2dpblJlY2VpdmVUb2tlbihhY2Nlc3NUb2tlbiwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAndXBkYXRlUHJpdmFjeVBvbGljeScpO1xyXG4gIH07XHJcbn1cclxuXG4vKipcclxuKiBAcGFyYW0ge09iamVjdH0gbHJPcHRpb25zIGxyIGNvbW1vbiBvcHRpb25zIG9iamVjdFxyXG4qIEBkZXNjcmlwdGlvbiBTZXQgZ2xvYmFsIExvZ2luUmFkaXVzVjIuXHJcbiogQGNvbnN0cnVjdG9yXHJcbiovXHJcbnZhciBMb2dpblJhZGl1c1YyID0gZnVuY3Rpb24gKGxyT3B0aW9ucykge1xyXG4gIHRoaXMuZ2xvYmFsID0gd2luZG93O1xyXG4gIC8vICB2YXIgY29udGV4dCA9IHRoaXM7XHJcbiAgdmFyIG1vZHVsZSA9IHRoaXM7XHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgdmFyIGNvbW1vbkZucyA9IG5ldyBTZXRMb2dpblJhZGl1c0NvbW1vbkZ1bmN0aW9ucyhtb2R1bGUpO1xyXG4gIHZhciBjb250cm9sbGVycyA9IG5ldyBMb2dpblJhZGl1c0NvbnRyb2xsZXJzKG1vZHVsZSwgY29tbW9uRm5zKTtcclxuXHJcbiAgdmFyIGRlZmF1bHRCdXR0b25zTmFtZSA9IExvZ2luUmFkaXVzRGVmYXVsdHMuYnV0dG9uTmFtZXM7XHJcbiAgdmFyIGRlZmF1bHRNZXNzYWdlcyA9IExvZ2luUmFkaXVzRGVmYXVsdHMubWVzc2FnZXM7XHJcblxyXG4gIHZhciBfdXVpZEZvcm1hdCA9IExvZ2luUmFkaXVzRGVmYXVsdHMuX3V1aWRGb3JtYXQ7XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gIHZhciBsclRva2VuID0gaGFzaC5nZXQoJ2xyLXRva2VuJyk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBpZiAobHJUb2tlbiAmJiB3aW5kb3cub3BlbmVyICYmIHdpbmRvdy5vcGVuZXIuaHRtbDVwYXNzVG9rZW4pIHtcclxuICAgICAgd2luZG93Lm9wZW5lci5odG1sNXBhc3NUb2tlbihsclRva2VuKTtcclxuICAgICAgZG9jdW1lbnQud3JpdGUoXCI8c3R5bGUgdHlwZT0ndGV4dC9jc3MnPmJvZHkgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0gPC9zdHlsZT5cIik7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICBoYXNoLnJlbW92ZSgnbHItdG9rZW4nKTtcclxuICAgICAgd2luZG93LmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAvLyBjb250aW51ZSByZWdhcmRsZXNzIG9mIGVycm9yXHJcbiAgfVxyXG4gIHZhciB1dGlsaXRpZXMgPSBuZXcgTFJOYW1lU3BhY2UuVXRpbGl0aWVzKCk7XHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgbW9kdWxlLnV0aWwgPSBuZXcgTG9naW5SYWRpdXNVdGlsaXR5KG1vZHVsZSwgbHJPcHRpb25zKTtcclxuICBtb2R1bGUuc3RvcmFnZSA9IG5ldyBMUk5hbWVTcGFjZS5TdG9yYWdlKG1vZHVsZSwgTG9naW5SYWRpdXNEZWZhdWx0cyk7XHJcbiAgLy8gYWRkZWQgZm9yIGN1c3RvbWVyIHVzZWNhc2UgZmFsbGJhY2tcclxuICB2YXIgdXRpbCA9IG1vZHVsZS51dGlsID0gT2JqZWN0LmFzc2lnbih1dGlsaXRpZXMsIG1vZHVsZS51dGlsLCBtb2R1bGUuc3RvcmFnZSk7XHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBmdW5jdGlvbiB0cmFja0V2ZW50XHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgW29wdGlvbmFsLCBkZWZhdWx0IGlzIHBhZ2VWaWV3XSBwb3NzaWJsZSB2YWx1ZXMgLT4gcGFnZVZpZXcsIGNsaWNrLCBob3ZlciwgbG9naW4sIHNpZ251cCwgbG9nb3V0LCBzaGFyZSBhbmQgYW55IG90aGVyIGN1c3RvbSBldmVudCB5b3Ugd2FudFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHByb3ZpZGVyIFtvcHRpb25hbCwgZGVmYXVsdCBpcyBudWxsXSB1c2VyJ3MgbG9naW4gcHJvdmlkZXJcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBjdXN0b21GaWVsZHMgW29wdGlvbmFsLCBkZWZhdWx0IGlzIG51bGxdIHRoaXMgd2lsbCBvYmplY3QsIGxpa2UgeyBcImNmX29yZGVyaWRcIiA6IFwiNTM0NTUyXCIsIFwiY2ZfcHJvZHVjdElkXCIgOlwiNDEyNDEyNDEyXCIgfVxyXG4gICogQGRlc2NyaXB0aW9uIENhbiB1c2UgY3VzdG9tIGV2ZW50cyBieSB1c2luZyB0aGlzIGZ1bmN0aW9uLlxyXG4gICovXHJcbiAgdGhpcy50cmFja0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBwcm92aWRlciwgY3VzdG9tRmllbGRzKSB7XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5hbm9ueW1vdXNMb2dpbikge1xyXG4gICAgICAgIHZhciB1c2VySWQgPSBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFVpZE5hbWUpO1xyXG4gICAgICAgIG1vZHVsZS5hbm9ueW1vdXMudHJhY2soZXZlbnQsIHVzZXJJZCwgcHJvdmlkZXIsIGN1c3RvbUZpZWxkcyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbW9kdWxlLmxvZygnQW5vbnltb3VzIGxvZ2luIGZlYXR1cmUgaXMgbm90IGVuYWJsZWQuJyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBtb2R1bGUuZ2V0QXBwQ29uZmlndXJhdGlvbihjYWxsYmFjayk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNVdGlsaXR5I1xyXG4gICogQGZ1bmN0aW9uIHVuTGlua0FjY291bnRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBwcm92aWRlciB1c2VyJ3MgbG9naW4gcHJvdmlkZXJcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBwcm92aWRlcklkIHVzZXIncyBsb2dpbiBwcm92aWRlciBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gdW5saW5rT25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IHVubGlua09uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdW5saW5rIHNvY2lhbCBhY2NvdW50LlxyXG4gICovXHJcbiAgdXRpbC51bkxpbmtBY2NvdW50ID0gZnVuY3Rpb24gKHByb3ZpZGVyLCBwcm92aWRlcklkLCB1bmxpbmtPblN1Y2Nlc3MsIHVubGlua09uRXJyb3IpIHtcclxuICAgIHVubGlua09uU3VjY2VzcyA9IHVubGlua09uU3VjY2VzcyB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XHJcbiAgICB1bmxpbmtPbkVycm9yID0gdW5saW5rT25FcnJvciB8fCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH07XHJcbiAgICBpZiAocHJvdmlkZXIgJiYgcHJvdmlkZXJJZCkge1xyXG4gICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAncHJvdmlkZXInOiBwcm92aWRlcixcclxuICAgICAgICAncHJvdmlkZXJpZCc6IHByb3ZpZGVySWRcclxuICAgICAgfTtcclxuICAgICAgdmFyIHRvayA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcclxuICAgICAgaWYgKCF0b2spIHtcclxuICAgICAgICB1bmxpbmtPbkVycm9yKFtcclxuICAgICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndG9rZW5WYWxpZCddKVxyXG4gICAgICAgIF0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHV0aWwuYWpheENhbGwoJ2RlbGV0ZScsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL3NvY2lhbElkZW50aXR5P2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZhY2Nlc3NfdG9rZW49JyArIHRvaywgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICAgIHVubGlua09uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVzcG9uc2UpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVubGlua09uU3VjY2VzcyhyZXNwb25zZSwgZGF0YSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgJ3VuTGlua0FjY291bnQnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gIExvZ2luUmFkaXVzSG9va3NNb2RlbChtb2R1bGUpO1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBhZGRSZW1lbWJlck1lU2NoZW1hXHJcbiAgKiBAcGFyYW0ge0FycmF5fSBTY2hlbWEgYXJyYXkgb2Ygc2NoZW1hIGZpZWxkIG9iamVjdHNcclxuICAqIEByZXR1cm4ge0FycmF5fSBTY2hlbWEgYXJyYXkgb2Ygc2NoZW1hIGZpZWxkIG9iamVjdHNcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgYWRkIHJlbWVtYmVyIG1lIG9uIHVzZXIgYWNjb3VudCBTY2hlbWEuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBhZGRSZW1lbWJlck1lU2NoZW1hIChTY2hlbWEpIHtcclxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5zdGF5TG9naW4pIHtcclxuICAgICAgdmFyIGFkZHJlbWVtYmVyTWVDaGVjayA9IHRydWU7XHJcbiAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgU2NoZW1hLmxlbmd0aDsgdCsrKSB7XHJcbiAgICAgICAgaWYgKFNjaGVtYVt0XS5uYW1lID09PSAnc3RheUxvZ2luJykge1xyXG4gICAgICAgICAgYWRkcmVtZW1iZXJNZUNoZWNrID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChhZGRyZW1lbWJlck1lQ2hlY2spIHtcclxuICAgICAgICB2YXIgcmVtZW1iZXJNZU9iaiA9IHtcclxuICAgICAgICAgIHR5cGU6ICdtdWx0aScsXHJcbiAgICAgICAgICBuYW1lOiAnc3RheUxvZ2luJyxcclxuICAgICAgICAgIGRpc3BsYXk6ICdSZW1lbWJlciBtZScsXHJcbiAgICAgICAgICBydWxlczogbnVsbCxcclxuICAgICAgICAgIHBlcm1pc3Npb246ICd3J1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIFNjaGVtYS5wdXNoKHJlbWVtYmVyTWVPYmopO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU2NoZW1hO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gcGFzc3dvcmRsZXNzTG9naW5WZXJpZmljYXRpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSB2dG9rZW4gdmVyaWZpY2F0aW9uIHRva2VuXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCB2ZXJpZnkgcGFzc3dvcmRsZXNzIGxvZ2luIGFuZCBsb2dpbiBpbnRvIGFjY291bnQgYWZ0ZXIgdmVyaWZpY2F0aW9uLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gcGFzc3dvcmRsZXNzTG9naW5WZXJpZmljYXRpb24gKHZ0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcclxuICAgIGlmICh2dG9rZW4pIHtcclxuICAgICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvbG9naW4vcGFzc3dvcmRsZXNzbG9naW4vZW1haWwvdmVyaWZ5P2FwaUtleT0nICsgbW9kdWxlLm9wdGlvbnMuYXBpS2V5ICsgJyZ2ZXJpZmljYXRpb250b2tlbj0nICsgdnRva2VuICsgJyZ3ZWxjb21lRW1haWxUZW1wbGF0ZT0nICsgbW9kdWxlLm9wdGlvbnMud2VsY29tZUVtYWlsVGVtcGxhdGUsICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbW1vbkZucy5sb2dpbkhhbmRsZVRva2VuKHJlc3BvbnNlLCAnJywgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgJ3Bhc3N3b3JkbGVzc0xvZ2luJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBwYXNzd29yZGxlc3NMb2dpblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW1wbGVtZW50IHBhc3N3b3JkbGVzcyBsb2dpbiBwcm9jZXNzLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gcGFzc3dvcmRsZXNzTG9naW4gKG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICB2YXIgdnRva2VuID0gdXRpbC5nZXRIYXNoUGFyYW0oJ3Z0b2tlbicpO1xyXG4gICAgdmFyIHZ0eXBlID0gdXRpbC5nZXRIYXNoUGFyYW0oJ3Z0eXBlJyk7XHJcbiAgICBpZiAoKHZ0eXBlID09PSAnb25lY2xpY2tzaWduaW4nIHx8IHZ0eXBlID09PSAncGFzc3dvcmRsZXNzbG9naW4nKSAmJiAhbW9kdWxlLnBhc3N3b3JkbGVzc0xvZ2luRmxhZykge1xyXG4gICAgICBtb2R1bGUucGFzc3dvcmRsZXNzTG9naW5GbGFnID0gdHJ1ZTtcclxuICAgICAgcGFzc3dvcmRsZXNzTG9naW5WZXJpZmljYXRpb24odnRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBhY2NlcHRQcml2YWN5UG9saWN5XHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgcHJvbXB0IHVzZXIgdG8gYWNjZXB0IHByaXZhY3kgcG9saWN5LlxyXG4gICovXHJcbiAgZnVuY3Rpb24gYWNjZXB0UHJpdmFjeVBvbGljeSAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLnByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uLklzRW5hYmxlZCkge1xyXG4gICAgICB2YXIgdG9rID0gbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpO1xyXG4gICAgICBpZiAoIXRvaykge1xyXG4gICAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0b2tlblZhbGlkJ10pXHJcbiAgICAgICAgXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIHByaXZhY3lTY2hlbWEgPSBtb2R1bGUucHJpdmFjeVBvbGljeVNjaGVtYS5zbGljZSgpO1xyXG4gICAgICAgIHByaXZhY3lTY2hlbWFbMF0ucnVsZXMgPSBtb2R1bGUub3B0aW9ucy5wcml2YWN5UG9saWN5Q29uZmlndXJhdGlvbi5Nb2RlID09PSAnU3RyaWN0JyA/ICdyZXF1aXJlZCcgOiAnJztcclxuICAgICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShwcml2YWN5U2NoZW1hLCAncHJpdmFjeVBvbGljeVVwZGF0ZScsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZVByaXZhY3lQb2xpY3kodG9rLCAnJywgb25TdWNjZXNzLCBvbkVycm9yLCB0cnVlLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShlcnJvcnMpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBsb2dpblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgdXNlciBsb2dpbiBmb3JtLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gbG9naW4gKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpIHtcclxuICAgIHZhciB2dG9rZW4gPSB1dGlsLmdldEhhc2hQYXJhbSgndnRva2VuJyk7XHJcbiAgICB2YXIgdnR5cGUgPSB1dGlsLmdldEhhc2hQYXJhbSgndnR5cGUnKTtcclxuICAgIG1vZHVsZS5jdXJyZW50TFJDb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICBpZiAoKHZ0eXBlID09PSAnb25lY2xpY2tzaWduaW4nIHx8IHZ0eXBlID09PSAncGFzc3dvcmRsZXNzbG9naW4nKSAmJiAhbW9kdWxlLnBhc3N3b3JkbGVzc0xvZ2luRmxhZykge1xyXG4gICAgICBtb2R1bGUucGFzc3dvcmRsZXNzTG9naW5GbGFnID0gdHJ1ZTtcclxuICAgICAgcGFzc3dvcmRsZXNzTG9naW5WZXJpZmljYXRpb24odnRva2VuLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGxvZ2luU2NoZW1hID0gbW9kdWxlLmxvZ2luRm9ybVNjaGVtYTtcclxuICAgIG1vZHVsZS5sb2dpbkFjdGlvbiA9IHRydWU7XHJcbiAgICBnZXRMb2dpbkVtYWlsTGFiZWwobG9naW5TY2hlbWEpO1xyXG4gICAgbG9naW5TY2hlbWEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFkZFJlbWVtYmVyTWVTY2hlbWEobG9naW5TY2hlbWEpKSk7XHJcbiAgICBjb21tb25GbnMuc2V0UGFzc3dvcmRSdWxlKGxvZ2luU2NoZW1hWzFdLCBtb2R1bGUubG9naW5BY3Rpb24pO1xyXG4gICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0obG9naW5TY2hlbWEsICdsb2dpbicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGxvZ2luRGF0YSkge1xyXG4gICAgICBtb2R1bGUuTFJDaGVja0xvZ2luID0gdHJ1ZTtcclxuICAgICAgaWYgKHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbiddKSB7XHJcbiAgICAgICAgY29tbW9uRm5zLnNlbmRJbnN0YW50U2lnbkluTGluayhsb2dpbkRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHdpbmRvd1snbHJwYXNzd29yZGxlc3Nsb2dpbm90cCddKSB7XHJcbiAgICAgICAgY29tbW9uRm5zLnNlbmRJbnN0YW50U2lnbkluT3RwKGxvZ2luRGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgLy8gY29udHJvbGxlcnMubG9naW5PVFBDb250cm9sbGVyKGxvZ2luRGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIF9yZXF1aXJlZEZpZWxkID0gZnVuY3Rpb24gKHVzZXJQcm9maWxlLCBsb2dpblJlc3BvbnNlLCBhY2Nlc3NUb2tlbiwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICAgICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSwgJ2xvZ2luUmVxdWlyZWRGaWVsZHNVcGRhdGUnLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNwb25zZU9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgICByZXNwb25zZU9iamVjdC5Qcm9maWxlID0gdXNlclByb2ZpbGU7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlT2JqZWN0LmFjY2Vzc190b2tlbiA9IGFjY2Vzc1Rva2VuO1xyXG4gICAgICAgICAgICBjb250cm9sbGVycy51cGRhdGVEYXRhKHJlc3BvbnNlT2JqZWN0LCBjb250YWluZXIsIGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSwgJ2xvZ2luJywgdHJ1ZSk7XHJcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZXJyb3JzKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfcGFzc3dvcmRFeHBpcnkgPSBmdW5jdGlvbiAodXNlclByb2ZpbGUsIGxvZ2luUmVzcG9uc2UpIHtcclxuICAgICAgICAgIC8vIHRoaXMgZXZlbnQgZmlyZXMgb25seSB3aGVuIHBlcmlvZGljIHBhc3N3b3JkIHJlc2V0IGVuYWJsZWRcclxuICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKG1vZHVsZS5jaGFuZ2VQYXNzd29yZEZvcm1TY2hlbWEsICdjaGFuZ2VwYXNzd29yZCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKHJlc2V0RGF0YSkge1xyXG4gICAgICAgICAgICBjb250cm9sbGVycy5wZXJpb2RpY2FsUGFzc3dvcmRSZXN0Q29udHJvbGxlcihyZXNldERhdGEsIG9uU3VjY2Vzcywgb25FcnJvciwgdXNlclByb2ZpbGUsIGxvZ2luUmVzcG9uc2UsIGxvZ2luRGF0YSk7XHJcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIHx8IG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXJzLmxvZ2luMkZBQ29udHJvbGxlcihsb2dpbkRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIF9wYXNzd29yZEV4cGlyeSwgX3JlcXVpcmVkRmllbGQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb250cm9sbGVycy5sb2dpbkNvbnRyb2xsZXIobG9naW5EYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX3Bhc3N3b3JkRXhwaXJ5LCBfcmVxdWlyZWRGaWVsZCwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcclxuICAgICAgb25FcnJvcihjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShlcnJvcnMpKTtcclxuICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBzaG93UmVnaXN0cmF0aW9uRm9ybVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAcGFyYW0ge0FycmF5fSByZWdTY2hlbWEgYXJyYXkgb2YgcmVnLiBmb3JtIGZpZWxkcyBvYmplY3RzXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIHNob3cgdXNlciByZWdpc3RyYXRpb24gZm9ybS5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIHNob3dSZWdpc3RyYXRpb25Gb3JtIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCByZWdTY2hlbWEpIHtcclxuICAgIG1vZHVsZS4kaG9va3MuY2FsbCgncmVnaXN0cmF0aW9uU2NoZW1hRmlsdGVyJywgcmVnU2NoZW1hKTtcclxuICAgIHZhciByZWNhcHRjaGFpZCA9IF9jbGFzc1ByZWZpeCArIExvZ2luUmFkaXVzRGVmYXVsdHMuaWRQcmVmaXggKyAncmVjYXB0Y2hhX3dpZGdldF9yZWdpc3RyYXRpb24nO1xyXG4gICAgdXRpbC5jYXB0Y2hhU2NoZW1hKHJlY2FwdGNoYWlkLCByZWdTY2hlbWEpO1xyXG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLnByaXZhY3lQb2xpY3lDb25maWd1cmF0aW9uLklzRW5hYmxlZCkge1xyXG4gICAgICB2YXIgcHJpdmFjeVNjaGVtYSA9IG1vZHVsZS5wcml2YWN5UG9saWN5U2NoZW1hLnNsaWNlKCk7XHJcbiAgICAgIHByaXZhY3lTY2hlbWFbMF0ucnVsZXMgPSBtb2R1bGUub3B0aW9ucy5wcml2YWN5UG9saWN5Q29uZmlndXJhdGlvbi5Nb2RlID09PSAnU3RyaWN0JyA/ICdyZXF1aXJlZCcgOiAnJztcclxuICAgICAgcmVnU2NoZW1hLnB1c2gocHJpdmFjeVNjaGVtYVswXSk7XHJcbiAgICB9XHJcbiAgICByZWdTY2hlbWEucHVzaCh7XHJcbiAgICAgIHR5cGU6ICdodG1sJyxcclxuICAgICAgbmFtZTogJ3Rlcm1zYW5kY29uZGl0aW9uJyxcclxuICAgICAgaHRtbDogbW9kdWxlLm9wdGlvbnMudGVybXNBbmRDb25kaXRpb25IdG1sIHx8ICcnXHJcbiAgICB9KTtcclxuICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUodXRpbC5maW5kSW5TY2hlbWEocmVnU2NoZW1hLCAnbmFtZScsICdwYXNzd29yZCcpKTtcclxuICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUodXRpbC5maW5kSW5TY2hlbWEocmVnU2NoZW1hLCAnbmFtZScsICdjb25maXJtcGFzc3dvcmQnKSk7XHJcbiAgICBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSA9IHJlZ1NjaGVtYTtcclxuICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHJlZ1NjaGVtYSwgJ3JlZ2lzdHJhdGlvbicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29udHJvbGxlcnMucmVnaXN0cmF0aW9uQ29udHJvbGxlcihkYXRhLCBjb250YWluZXIsIGZ1bmN0aW9uIChsb2dpblJlc3BvbnNlLCBmb3JtRGF0YSkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuZ3JlY2FwdGNoYSAmJiBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYSkge1xyXG4gICAgICAgICAgZ3JlY2FwdGNoYS5yZXNldCh3aW5kb3dbcmVjYXB0Y2hhaWQgKyAnbHJfcmVjYXB0Y2hhX3dpZGdldHNfaWRwcmVmaXgnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9uU3VjY2Vzcyhsb2dpblJlc3BvbnNlLCBmb3JtRGF0YSk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcclxuICAgICAgICBpZiAod2luZG93LmdyZWNhcHRjaGEgJiYgbW9kdWxlLm9wdGlvbnMudjJSZWNhcHRjaGEpIHtcclxuICAgICAgICAgIGdyZWNhcHRjaGEucmVzZXQod2luZG93W3JlY2FwdGNoYWlkICsgJ2xyX3JlY2FwdGNoYV93aWRnZXRzX2lkcHJlZml4J10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvbkVycm9yKGVycm9ycyk7XHJcbiAgICAgIH0sIF9jbGFzc1ByZWZpeCwgcmVnU2NoZW1hKTtcclxuICAgIH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcclxuICAgICAgaWYgKHdpbmRvdy5ncmVjYXB0Y2hhICYmIG1vZHVsZS5vcHRpb25zLnYyUmVjYXB0Y2hhKSB7XHJcbiAgICAgICAgZ3JlY2FwdGNoYS5yZXNldCh3aW5kb3dbcmVjYXB0Y2hhaWQgKyAnbHJfcmVjYXB0Y2hhX3dpZGdldHNfaWRwcmVmaXgnXSk7XHJcbiAgICAgIH1cclxuICAgICAgb25FcnJvcihlcnJvcnMpO1xyXG4gICAgfSwgX2NsYXNzUHJlZml4KTtcclxuICAgIHV0aWwucmVuZGVyVjJSZWNhcHRjaGEocmVjYXB0Y2hhaWQsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gcmVnaXN0cmF0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSB1c2VyIHJlZ2lzdHJhdGlvbiBmb3JtIGFuZCBzaG93LlxyXG4gICovXHJcbiAgZnVuY3Rpb24gcmVnaXN0cmF0aW9uIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICB2YXIgb25SZWdpc3RyYXRpb25Mb2FkZWQgPSBmdW5jdGlvbiAoX3JlZ1NjaGVtYSkge1xyXG4gICAgICB2YXIgcmVnU2NoZW1hID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfcmVnU2NoZW1hKSk7XHJcbiAgICAgIHZhciBjb2RlU2NoZW1hID0gW107XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZ1NjaGVtYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChyZWdTY2hlbWFbaV0pIHtcclxuICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5zaG93U3BsaXRGb3JtICYmIHJlZ1NjaGVtYVtpXS5EYXRhU291cmNlICYmIHJlZ1NjaGVtYVtpXS5EYXRhU291cmNlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciByZWNvcmRPYmogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlZ1NjaGVtYVtpXSkpO1xyXG4gICAgICAgICAgICB2YXIgY29kZU9iaiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodXRpbC5maW5kSW5TY2hlbWEocmVnU2NoZW1hLCAnbmFtZScsICdjZl8nICsgcmVnU2NoZW1hW2ldLkRhdGFTb3VyY2UgKyAnQ29kZScpKSk7XHJcbiAgICAgICAgICAgIHJlY29yZE9iai5uYW1lID0gJ3JlY29yZGlkJztcclxuICAgICAgICAgICAgY29kZU9iai5uYW1lID0gJ2NvZGUnO1xyXG4gICAgICAgICAgICBjb2RlU2NoZW1hLnB1c2gocmVjb3JkT2JqKTtcclxuICAgICAgICAgICAgY29kZVNjaGVtYS5wdXNoKGNvZGVPYmopO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNvZGVTY2hlbWEubGVuZ3RoID4gMCAmJiBtb2R1bGUub3B0aW9ucy5zaG93U3BsaXRGb3JtKSB7XHJcbiAgICAgICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0oY29kZVNjaGVtYSwgJ3ZhbGlkYXRlY29kZScsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIHV0aWwuYWpheENhbGwoJ3Bvc3QnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9yZWdpc3RyYXRpb25kYXRhL3ZhbGlkYXRlY29kZT9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLklzVmFsaWQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgIHNob3dSZWdpc3RyYXRpb25Gb3JtKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgsIHJlZ1NjaGVtYSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgb25FcnJvcihyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sICdyZWdpc3RyYXRpb24nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbkVuYWJsZWQgJiYgbW9kdWxlLm9wdGlvbnMuU2VjdXJpdHlRdWVzdGlvbnMpIHtcclxuICAgICAgICAgIGdldFNlY3VyaXR5UXVlc3Rpb25TY2hlbWEocmVnU2NoZW1hLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2hvd1JlZ2lzdHJhdGlvbkZvcm0oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgcmVnU2NoZW1hKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHV0aWwuYWRkUmVjYXB0Y2hhSlMoKTtcclxuICAgIG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hID0gKG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hICYmIG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hLmxlbmd0aCA+IDApID8gbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEgOiBtb2R1bGUub3B0aW9ucy5SZWdpc3RyYXRpb25Gb3JtU2NoZW1hO1xyXG4gICAgb25SZWdpc3RyYXRpb25Mb2FkZWQobW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gZm9yZ290UGFzc3dvcmRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIGZvcmdvdFBhc3N3b3JkIGZvcm0gYW5kIHNob3cuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZCAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdmFyIHNjaGVtYSA9IG1vZHVsZS5mb3Jnb3RQYXNzd29yZEZvcm1TY2hlbWE7XHJcbiAgICBnZXRMb2dpbkVtYWlsTGFiZWwoc2NoZW1hKTtcclxuICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNjaGVtYSwgJ2ZvcmdvdHBhc3N3b3JkJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICBkYXRhID0gdXRpbC5jaGVja1Bob25lT3JFbWFpbExvZ2luKGRhdGEpO1xyXG4gICAgICBpZiAoZGF0YS5pbmRleE9mKCdwaG9uZUFwaT0xJykgIT09IC0xKSB7XHJcbiAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5MUlBob25lTm8gPSBkYXRhO1xyXG4gICAgICAgIGNvbnRyb2xsZXJzLmZvcmdvdFBhc3N3b3JkYnlQaG9uZUNvbnRyb2xsZXIoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29udHJvbGxlcnMuZm9yZ290UGFzc3dvcmRDb250cm9sbGVyKGRhdGEsIGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICB9XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgY2hhbmdlUGFzc3dvcmQgZm9ybSBhbmQgc2hvdyBJdC5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICB2YXIgc2NoZW1hID0gbW9kdWxlLmNoYW5nZVBhc3N3b3JkRm9ybVNjaGVtYTtcclxuICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUodXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICduZXdwYXNzd29yZCcpKTtcclxuICAgIGNvbW1vbkZucy5zZXRQYXNzd29yZFJ1bGUodXRpbC5maW5kSW5TY2hlbWEoc2NoZW1hLCAnbmFtZScsICdjb25maXJtbmV3cGFzc3dvcmQnKSk7XHJcbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShzY2hlbWEsICdjaGFuZ2VwYXNzd29yZCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29udHJvbGxlcnMuY2hhbmdlUGFzc3dvcmRDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiByZXNlbmRFbWFpbFZlcmlmaWNhdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgcmVzZW5kRW1haWxWZXJpZmljYXRpb24gZm9ybSBhbmQgc2hvdyBJdC5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIHJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShtb2R1bGUuZW1haWxTY2hlbWEsICdyZXNlbmRFbWFpbFZlcmlmaWNhdGlvbicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29udHJvbGxlcnMucmVzZW5kRW1haWxWZXJpZmljYXRpb25Db250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBhZGRFbWFpbFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgYWRkRW1haWwgZm9ybSBhbmQgc2hvdyBJdC5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIGFkZEVtYWlsIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShtb2R1bGUuYWRkRW1haWxTY2hlbWEsICdhZGRlbWFpbCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29udHJvbGxlcnMuYWRkRW1haWxDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiByZW1vdmVFbWFpbFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgcmVtb3ZlRW1haWwgZm9ybSBhbmQgc2hvdyBJdC5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIHJlbW92ZUVtYWlsIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShtb2R1bGUuZW1haWxTY2hlbWEsICdyZW1vdmVlbWFpbCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29udHJvbGxlcnMucmVtb3ZlRW1haWxDb250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBjaGFuZ2VVc2VybmFtZVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgY2hhbmdlVXNlcm5hbWUgZm9ybSBhbmQgc2hvdyBJdC5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIGNoYW5nZVVzZXJuYW1lIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KSB7XHJcbiAgICBjb21tb25GbnMuY3JlYXRlRm9ybShtb2R1bGUuY2hhbmdlVXNlcm5hbWVGb3JtU2NoZW1hLCAnY2hhbmdlVXNlcm5hbWUnLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzLmNoYW5nZVVzZXJuYW1lQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xyXG4gICAgICBvbkVycm9yKGVycm9ycyk7XHJcbiAgICB9LCBfY2xhc3NQcmVmaXgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gZW1haWxWZXJpZmljYXRpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb250YWluZXIgaHRtbCBlbGVtZW50IGlkXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IF9jbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIGVtYWlsVmVyaWZpY2F0aW9uLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gZW1haWxWZXJpZmljYXRpb24gKG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpIHtcclxuICAgIHZhciBoYW5kbGVWZXJpZnlFbWFpbCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIHZhciB2dG9rZW4gPSB1dGlsLmdldEhhc2hQYXJhbSgndnRva2VuJyk7XHJcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy52ZXJpZnlFbWFpbEJ5T1RQKSB7XHJcbiAgICAgICAgdmFyIGZkYXRhID0ge307XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgIGZkYXRhID0gdXRpbC5tZXJnZU9wdGlvbnMoZmRhdGEsIHV0aWwucGFyc2VRdWVyeVN0cmluZyhkYXRhKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZkYXRhLm90cCA9IHZ0b2tlbjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZmRhdGEuZW1haWwgPSB1dGlsLmdldFF1ZXJ5UGFyYW1ldGVyQnlOYW1lKCdlbWFpbCcpLnJlcGxhY2UoLyAvZywgJysnKTtcclxuICAgICAgICAgIGNvbnRyb2xsZXJzLmVtYWlsVmVyaWZpY2F0aW9uQ29udHJvbGxlcihmZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCwgdHJ1ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBtb2R1bGUubG9nKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnRyb2xsZXJzLmVtYWlsVmVyaWZpY2F0aW9uQ29udHJvbGxlcih2dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKGNvbnRhaW5lciAmJiBtb2R1bGUub3B0aW9ucy5sb2dpbkxvY2tlZFR5cGUgPT09ICdDYXB0Y2hhJykge1xyXG4gICAgICB2YXIgc2NoZW1hID0gW107XHJcbiAgICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ2FmdGVyRm9ybVJlbmRlcicsIGZ1bmN0aW9uIChuYW1lLCBjb250YWluZXIsIF9jbGFzc1ByZWZpeCwgZm9ybSkge1xyXG4gICAgICAgIGlmIChmb3JtICYmIGZvcm0ubmFtZSA9PT0gJ2xvZ2lucmFkaXVzLXZlcmlmeWVtYWlsJyAmJiBmb3JtWzBdLmlkID09PSAnbG9naW5yYWRpdXMtc3VibWl0LXZlcmlmeScpIHtcclxuICAgICAgICAgIGZvcm1bMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShzY2hlbWEsICd2ZXJpZnllbWFpbCcsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBoYW5kbGVWZXJpZnlFbWFpbChkYXRhKTtcclxuICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xyXG4gICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgICAgfSwgX2NsYXNzUHJlZml4KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVWZXJpZnlFbWFpbCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gZGVsZXRlVXNlclxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZGVsZXRlIFVzZXIuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBkZWxldGVVc2VyIChvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcclxuICAgIHZhciB2dG9rZW4gPSBtb2R1bGUuc2Vzc2lvbkRhdGEuZ2V0VG9rZW4oKTtcclxuICAgIGlmICh2dG9rZW4pIHtcclxuICAgICAgdXRpbC5hamF4Q2FsbCgnZGVsZXRlJywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB2dG9rZW4gKyAnJmRlbGV0ZVVybD0nICsgbW9kdWxlLm9wdGlvbnMuZGVsZXRlVXJsICsgJyZlbWFpbFRlbXBsYXRlPScgKyBtb2R1bGUub3B0aW9ucy5kZWxldGVVc2VyRW1haWxUZW1wbGF0ZSwge30sIGZ1bmN0aW9uIChyZWdSZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZWdSZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgIG9uRXJyb3IoY29tbW9uRm5zLmxvZ2luUmFkaXVzRXJyb3JUb2pzRXJyb3IocmVnUmVzcG9uc2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb25TdWNjZXNzKHJlZ1Jlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sICdkZWxldGVVc2VyJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvbkVycm9yKFtkZWZhdWx0TWVzc2FnZXNbJ3ZUb2tlbkVycm9yJ11dKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXHJcbiAgKiBAcHJpdmF0ZVxyXG4gICogQGZ1bmN0aW9uIGRlbGV0ZVVzZXJDb25maXJtXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3Mgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25FcnJvciBlcnJvciBjYWxsYmFjayBmdW5jdGlvblxyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBDb25maXJtIGRlbGV0ZSBVc2VyLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gZGVsZXRlVXNlckNvbmZpcm0gKG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgdmFyIHZ0b2tlbiA9IHV0aWwuZ2V0SGFzaFBhcmFtKCd2dG9rZW4nKTtcclxuICAgIGNvbnRyb2xsZXJzLmRlbGV0ZVVzZXJDb25maXJtQ29udHJvbGxlcih2dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgfVxyXG4gIC8vIHZhciBzb2NpYWxMb2dpbkFQSSA9IGZhbHNlO1xyXG5cclxuICAvLyBmdW5jdGlvbiBzb2NpYWxMb2dpbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xyXG4gIC8vICAgd2luZG93Lmh0bWw1cGFzc1Rva2VuID0gZnVuY3Rpb24gKHRvaykge1xyXG4gIC8vICAgICBpZiAoIXNvY2lhbExvZ2luQVBJKSB7XHJcbiAgLy8gICAgICAgc29jaWFsTG9naW5BUEkgPSB0cnVlO1xyXG4gIC8vICAgICAgIGNvbnRhaW5lciA9IExvZ2luUmFkaXVzRGVmYXVsdHMuc29jaWFsUmVnRm9ybUlkIHx8IGNvbnRhaW5lcjtcclxuICAvLyAgICAgICB2YXIgY3VycmVudEFjdGlvbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKCdMUlNldFNhZmFyaVRva2VuJyk7XHJcbiAgLy8gICAgICAgaWYgKGN1cnJlbnRBY3Rpb24pIHtcclxuICAvLyAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnZ2V0Q3VycmVudEFjdGlvbk9wdGlvbnMnLCBjdXJyZW50QWN0aW9uKTtcclxuICAvLyAgICAgICAgIG9uU3VjY2VzcyA9IExSU2FmYXJpb25TdWNjZXNzIHx8IG9uU3VjY2VzcztcclxuICAvLyAgICAgICAgIG9uRXJyb3IgPSBMUlNhZmFyaW9uRXJyb3IgfHwgb25FcnJvcjtcclxuICAvLyAgICAgICB9XHJcbiAgLy8gICAgICAgY29udHJvbGxlcnMuc29jaWFsTG9naW5SZWNlaXZlVG9rZW4odG9rLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcclxuICAvLyAgICAgfVxyXG4gIC8vICAgfTtcclxuICAvLyAgIHZhciBsclRva2VuID0gdXRpbC5nZXRIYXNoUGFyYW0oJ2xyLXRva2VuJyk7XHJcbiAgLy8gICBpZiAobHJUb2tlbikge1xyXG4gIC8vICAgICB3aW5kb3cuaHRtbDVwYXNzVG9rZW4obHJUb2tlbik7XHJcbiAgLy8gICB9XHJcblxyXG4gIC8vICAgbW9kdWxlLmxvZ2luUmFkaXVzSHRtbDVQYXNzVG9rZW4gPSB3aW5kb3cuaHRtbDVwYXNzVG9rZW47XHJcbiAgLy8gICBpZiAoIW1vZHVsZS5vcHRpb25zLmlzTW9iaWxlICYmICFtb2R1bGUub3B0aW9ucy5ub0NhbGxiYWNrRm9yU29jaWFsTG9naW4pIHtcclxuICAvLyAgICAgdXRpbC5hZGRFdmVudCgnbWVzc2FnZScsIHdpbmRvdywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgLy8gICAgICAgaWYgKGV2ZW50Lm9yaWdpbi5pbmRleE9mKG1vZHVsZS5vcHRpb25zLmN1c3RvbURvbWFpbikgPT09IC0xICYmIGV2ZW50Lm9yaWdpbi5pbmRleE9mKExvZ2luUmFkaXVzRGVmYXVsdHMuaHViRG9tYWluKSA9PT0gLTEpIHtcclxuICAvLyAgICAgICAgIHJldHVybjtcclxuICAvLyAgICAgICB9XHJcbiAgLy8gICAgICAgY29udGFpbmVyID0gTG9naW5SYWRpdXNEZWZhdWx0cy5zb2NpYWxSZWdGb3JtSWQgfHwgY29udGFpbmVyO1xyXG4gIC8vICAgICAgIGlmICh0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZycgJiYgX3V1aWRGb3JtYXQudGVzdChldmVudC5kYXRhKSkge1xyXG4gIC8vICAgICAgICAgY29udHJvbGxlcnMuc29jaWFsTG9naW5SZWNlaXZlVG9rZW4oZXZlbnQuZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgLy8gICAgICAgfVxyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH0gZWxzZSB7XHJcbiAgLy8gICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ3NvY2lhbENhbGxzJywgZnVuY3Rpb24gKHByb3ZpZGVyLCBjbGllbnRHdWlkKSB7XHJcbiAgLy8gICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbikge1xyXG4gIC8vICAgICAgICAgdmFyIG9uSGFuZGxlU21hcnRMb2dpblN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAvLyAgICAgICAgICAgaWYgKHJlc3BvbnNlLmFjY2Vzc190b2tlbikge1xyXG4gIC8vICAgICAgICAgICAgIGNvbnRyb2xsZXJzLnNvY2lhbExvZ2luUmVjZWl2ZVRva2VuKHJlc3BvbnNlLmFjY2Vzc190b2tlbiwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgLy8gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgLy8gICAgICAgICAgICAgb25TdWNjZXNzKHJlc3BvbnNlKTtcclxuICAvLyAgICAgICAgICAgfVxyXG4gIC8vICAgICAgICAgfTtcclxuICAvLyAgICAgICAgIGNvbW1vbkZucy5waW5nRm9yU21hcnRMb2dpbihjbGllbnRHdWlkLCBvbkhhbmRsZVNtYXJ0TG9naW5TdWNjZXNzLCBmdW5jdGlvbiAoKSB7IC8qIGRvIG5vdGhpbmcuICovIH0pO1xyXG4gIC8vICAgICAgIH1cclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBiYWNrdXBDb2RlQnV0dG9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBfY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSBiYWNrdXBDb2RlQnV0dG9uLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gYmFja3VwQ29kZUJ1dHRvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkE/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCByZXNwb25zZS5Jc0dvb2dsZUF1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xyXG4gICAgICAgIHZhciBiYWNrdXBDb2RlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBiYWNrdXBDb2RlQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcclxuICAgICAgICB2YXIgYnV0dG9uTmFtZSA9IG1vZHVsZS5idXR0b25zTmFtZVsnYmFja3VwQ29kZScudG9Mb3dlckNhc2UoKV0gfHwgZGVmYXVsdEJ1dHRvbnNOYW1lWydiYWNrdXBDb2RlJ107XHJcbiAgICAgICAgYmFja3VwQ29kZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgYnV0dG9uTmFtZSk7XHJcbiAgICAgICAgdXRpbC5hZGRIVE1MQ29udGVudChjb250YWluZXIsIGJhY2t1cENvZGVCdXR0b24pO1xyXG4gICAgICAgIHV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgYmFja3VwQ29kZUJ1dHRvbiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICBtb2R1bGUuYXBpLmdldEJhY2t1cENvZGUobW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXHJcbiAgKiBAcHJpdmF0ZVxyXG4gICogQGZ1bmN0aW9uIHJlc2V0QmFja3VwQ29kZUJ1dHRvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgcmVzZXRCYWNrdXBDb2RlIEJ1dHRvbi5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIHJlc2V0QmFja3VwQ29kZUJ1dHRvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudC8yRkE/YXBpa2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgbW9kdWxlLnN0b3JhZ2UuZ2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUpLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCB8fCByZXNwb25zZS5Jc0dvb2dsZUF1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xyXG4gICAgICAgIHZhciByZXNldEJhY2t1cENvZGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIHJlc2V0QmFja3VwQ29kZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XHJcbiAgICAgICAgdmFyIGJ1dHRvbk5hbWUgPSBtb2R1bGUuYnV0dG9uc05hbWVbJ3Jlc2V0QmFja3VwQ29kZScudG9Mb3dlckNhc2UoKV0gfHwgZGVmYXVsdEJ1dHRvbnNOYW1lWydyZXNldEJhY2t1cENvZGUnXTtcclxuICAgICAgICByZXNldEJhY2t1cENvZGVCdXR0b24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGJ1dHRvbk5hbWUpO1xyXG4gICAgICAgIHV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCByZXNldEJhY2t1cENvZGVCdXR0b24pO1xyXG4gICAgICAgIHV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgcmVzZXRCYWNrdXBDb2RlQnV0dG9uLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgIG1vZHVsZS5hcGkucmVzZXRCYWNrdXBDb2RlKG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKSwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBjcmVhdGVUd29GYWN0b3JBdXRoZW50aWNhdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgVHdvRmFjdG9yQXV0aGVudGljYXRpb24oMkZBKSBidXR0b24uXHJcbiAgKi9cclxuICBmdW5jdGlvbiBjcmVhdGVUd29GYWN0b3JBdXRoZW50aWNhdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeF8pIHtcclxuICAgIHZhciB0d29GYWN0b3JCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgdHdvRmFjdG9yQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcclxuICAgIHZhciBidXR0b25OYW1lID0gbW9kdWxlLmJ1dHRvbnNOYW1lWydjcmVhdGVUd29GYWN0b3JBdXRoZW50aWNhdGlvbicudG9Mb3dlckNhc2UoKV0gfHwgZGVmYXVsdEJ1dHRvbnNOYW1lWydjcmVhdGV0d29mYWN0b3JhdXRoZW50aWNhdGlvbiddO1xyXG4gICAgdHdvRmFjdG9yQnV0dG9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBidXR0b25OYW1lKTtcclxuICAgIHZhciBfY2xhc3NQcmVmaXggPSBfY2xhc3NQcmVmaXhfIHx8IExvZ2luUmFkaXVzRGVmYXVsdHMuY2xhc3NQcmVmaXg7XHJcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoX2NsYXNzUHJlZml4ICsgJ3Byb2ZpbGVlZGl0b3InKVswXSkge1xyXG4gICAgICBpZiAobW9kdWxlLm9wdGlvbnMuc2hvd1R3b0ZhY3Rvck9uUHJvZmlsZSkge1xyXG4gICAgICAgIHZhciBmb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKF9jbGFzc1ByZWZpeCArICdwcm9maWxlZWRpdG9yJylbMF07XHJcbiAgICAgICAgZm9ybUVsZW1lbnQuYXBwZW5kQ2hpbGQodHdvRmFjdG9yQnV0dG9uKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChtb2R1bGUub3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbiB8fCBtb2R1bGUub3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB7XHJcbiAgICAgIHV0aWwuYWRkSFRNTENvbnRlbnQoY29udGFpbmVyLCB0d29GYWN0b3JCdXR0b24pO1xyXG4gICAgfVxyXG4gICAgdXRpbC5hZGRFdmVudCgnY2xpY2snLCB0d29GYWN0b3JCdXR0b24sIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBpZiAoIW1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24gJiYgIW1vZHVsZS5vcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKSB7XHJcbiAgICAgICAgbW9kdWxlLmxvZygnVHdvIEZhY3RvciBBdXRoZW50aWNhdGlvbiB3aWxsIG5vdCB3b3JrLCBwbGVhc2Ugc2V0IGluIGNvbW1vbk9waXRvbnMgZWl0aGVyIHR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uIG9yIG9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB1dGlsLmFqYXhDYWxsKCdnZXQnLCBMb2dpblJhZGl1c0RlZmF1bHRzLmFwaURvbWFpbiArICcvYXV0aC9hY2NvdW50LzJGQT9hcGlrZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyBtb2R1bGUuc3RvcmFnZS5nZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSksICcnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgIG1vZHVsZS5MUkNoZWNrMkZBID0gdHJ1ZTtcclxuICAgICAgICAgIG1vZHVsZS5MUkNoZWNrTG9naW4gPSBmYWxzZTtcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRPVFBBdXRoLCByZXNwb25zZS5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCk7XHJcbiAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkR0FBdXRoLCByZXNwb25zZS5Jc0dvb2dsZUF1dGhlbnRpY2F0b3JWZXJpZmllZCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgSXNPVFBBdXRoZW50aWNhdG9yVmVyaWZpZWQgPSByZXNwb25zZS5Jc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZDtcclxuXHJcbiAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5nb29nbGVBdXRoZW50aWNhdGlvbikge1xyXG4gICAgICAgICAgICAgIGNvbW1vbkZucy5zaG93UVJDb2RlKHJlc3BvbnNlLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4KTtcclxuICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmlubmVySFRNTCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFJc09UUEF1dGhlbnRpY2F0b3JWZXJpZmllZCkge1xyXG4gICAgICAgICAgICAgIGNvbW1vbkZucy51cGRhdGVQaG9uZU51bWJlcihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgX2NsYXNzUHJlZml4LCAndXBkYXRlUGhvbmUyRkEnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjb21tb25GbnMuY2hhbmdlTnVtYmVyRm9ybShjb250YWluZXIsICcnLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgTG9naW5SYWRpdXNEZWZhdWx0cy5pbm5lckhUTUwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgJ2NyZWF0ZVR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gcHJvZmlsZUVkaXRvclxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gX2NsYXNzUHJlZml4IGNzcyBjbGFzcyBwcmVmaXggc3RyaW5nXHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGluaXRpYWxpemUgcHJvZmlsZUVkaXRvciBmb3JtIGFuZCBzaG93LlxyXG4gICovXHJcbiAgZnVuY3Rpb24gcHJvZmlsZUVkaXRvciAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdmFyIHRvayA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcclxuICAgIGlmICghdG9rKSB7XHJcbiAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgIGNvbW1vbkZucy5zZXRNYXBwZWRNZXNzYWdlKGRlZmF1bHRNZXNzYWdlc1sndG9rZW5WYWxpZCddKVxyXG4gICAgICBdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBoYW5kbGVQcm9maWxlRWRpdG9yID0gZnVuY3Rpb24gKHNjaGVtYSkge1xyXG4gICAgICAgIHV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2FjY291bnQ/YXBpS2V5PScgKyBtb2R1bGUub3B0aW9ucy5hcGlLZXkgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rLCAnJywgZnVuY3Rpb24gKHVzZXJQcm9maWxlKSB7XHJcbiAgICAgICAgICB2YXIgX3Byb2ZpbGVTY2hlbWEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNjaGVtYSkpO1xyXG4gICAgICAgICAgX3Byb2ZpbGVTY2hlbWEgPSBjb21tb25GbnMubWFwU2NoZW1hKF9wcm9maWxlU2NoZW1hLCB1c2VyUHJvZmlsZSwgJ3Byb2ZpbGVlZGl0b3InKTtcclxuICAgICAgICAgIHZhciBlZGl0b3JTY2hlbWEgPSBbXTtcclxuICAgICAgICAgIHZhciB2aWV3ZXJTY2hlbWEgPSBbXTtcclxuICAgICAgICAgIHZhciByZXNwb25zZU9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgcmVzcG9uc2VPYmplY3QuUHJvZmlsZSA9IHVzZXJQcm9maWxlO1xyXG4gICAgICAgICAgcmVzcG9uc2VPYmplY3QuYWNjZXNzX3Rva2VuID0gdG9rO1xyXG5cclxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX3Byb2ZpbGVTY2hlbWEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKF9wcm9maWxlU2NoZW1hW2pdLm5hbWUgJiYgX3Byb2ZpbGVTY2hlbWFbal0ubmFtZS5pbmRleE9mKCdlbWFpbGlkJykgPT09IC0xICYmIF9wcm9maWxlU2NoZW1hW2pdLm5hbWUuaW5kZXhPZigncGhvbmVpZCcpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgIGVkaXRvclNjaGVtYS5wdXNoKF9wcm9maWxlU2NoZW1hW2pdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKF9wcm9maWxlU2NoZW1hW2pdLnBlcm1pc3Npb24gJiYgX3Byb2ZpbGVTY2hlbWFbal0ucGVybWlzc2lvbiAhPT0gJ2gnKSB7XHJcbiAgICAgICAgICAgICAgdmlld2VyU2NoZW1hLnB1c2goX3Byb2ZpbGVTY2hlbWFbal0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0oZWRpdG9yU2NoZW1hLCAncHJvZmlsZWVkaXRvcicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgY29udHJvbGxlcnMudXBkYXRlRGF0YShyZXNwb25zZU9iamVjdCwgY29udGFpbmVyLCBkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCwgZWRpdG9yU2NoZW1hLCAncHJvZmlsZUVkaXRvcicpO1xyXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xyXG4gICAgICAgICAgICBvbkVycm9yKGVycm9ycyk7XHJcbiAgICAgICAgICB9LCBfY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24gfHwgbW9kdWxlLm9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24pIHtcclxuICAgICAgICAgICAgY3JlYXRlVHdvRmFjdG9yQXV0aGVudGljYXRpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBtb2R1bGUuJGhvb2tzLmNhbGwoJ3JlbmRlclByb2ZpbGVFZGl0b3JIb29rJywgdXNlclByb2ZpbGUsIHZpZXdlclNjaGVtYSk7XHJcbiAgICAgICAgfSwgJ3Byb2ZpbGVFZGl0b3InKTtcclxuICAgICAgfTtcclxuICAgICAgLy8gIGlmIChtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSB8fCBtb2R1bGUub3B0aW9ucyAhPSAnJykge1xyXG4gICAgICBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSA9IChtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSAmJiBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYS5sZW5ndGggPiAwKSA/IG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hIDogbW9kdWxlLm9wdGlvbnMuUmVnaXN0cmF0aW9uRm9ybVNjaGVtYTtcclxuICAgICAgaWYgKG1vZHVsZS5wcm9ncmVzc2l2ZVByb2ZpbGluZy5zaG93SW5FZGl0b3IpIHtcclxuICAgICAgICBtb2R1bGUucHJvZ3Jlc3NpdmVQcm9maWxpbmcuZmV0Y2hTY2hlbWEoZnVuY3Rpb24gKHByb2dyZWVzc2l2ZVNjaGVtYU9iamVjdCkge1xyXG4gICAgICAgICAgdmFyIGZpbmFsU2NoZW1hID0gbW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEuc2xpY2UoKTtcclxuICAgICAgICAgIGlmIChwcm9ncmVlc3NpdmVTY2hlbWFPYmplY3QgJiYgcHJvZ3JlZXNzaXZlU2NoZW1hT2JqZWN0LlByb2ZpbGluZ1N0ZXBzKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmVzc2l2ZVNjaGVtYSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2dyZWVzc2l2ZVNjaGVtYU9iamVjdC5Qcm9maWxpbmdTdGVwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIHByb2dyZXNzaXZlU2NoZW1hID0gcHJvZ3Jlc3NpdmVTY2hlbWEuY29uY2F0KHByb2dyZWVzc2l2ZVNjaGVtYU9iamVjdC5Qcm9maWxpbmdTdGVwc1tpXS5TY2hlbWEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsU2NoZW1hID0gZmluYWxTY2hlbWEuY29uY2F0KHByb2dyZXNzaXZlU2NoZW1hKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGhhbmRsZVByb2ZpbGVFZGl0b3IoZmluYWxTY2hlbWEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGhhbmRsZVByb2ZpbGVFZGl0b3IobW9kdWxlLnJlZ2lzdHJhdGlvbkZvcm1TY2hlbWEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBhY2NvdW50TGlua2luZ1xyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGVOYW1lIHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHNvY2lhbCBhY2NvdW50IExpbmtpbmcgYW5kIHJlbmRlciBsaW5rZWQgc29jaWFsIGFjY291bnRzLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gYWNjb3VudExpbmtpbmcgKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCB0ZW1wbGF0ZU5hbWUpIHtcclxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5kaXNhYmxlQWNjb3VudExpbmtpbmcpIHtcclxuICAgICAgbW9kdWxlLmxvZyhkZWZhdWx0TWVzc2FnZXNbJ2Rpc2FibGVkQWNjb3VudExpbmtpbmcnXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgY29udGFpbmVySWRzID0gY29udGFpbmVyLnNwbGl0KCcsJyk7XHJcbiAgICAgIHZhciB0b2tlbiA9IG1vZHVsZS5zdG9yYWdlLmdldEJyb3dzZXJTdG9yYWdlKExvZ2luUmFkaXVzRGVmYXVsdHMuc3RvcmVkVG9rZW5OYW1lKTtcclxuICAgICAgaWYgKCF0b2tlbikge1xyXG4gICAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd0b2tlblZhbGlkJ10pXHJcbiAgICAgICAgXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdXRpbC5hamF4Q2FsbCgnZ2V0JywgTG9naW5SYWRpdXNEZWZhdWx0cy5hcGlEb21haW4gKyAnL2F1dGgvYWNjb3VudD9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tlbiwgJycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5FcnJvckNvZGUpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLkVtYWlsVmVyaWZpZWQgfHwgcmVzcG9uc2UuUGhvbmVJZFZlcmlmaWVkKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHByb3ZpZGVycyA9IHt9O1xyXG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5JZGVudGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVzcG9uc2UuSWRlbnRpdGllcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICBwcm92aWRlcnNbcmVzcG9uc2UuSWRlbnRpdGllc1tpXS5Qcm92aWRlcl0gPSByZXNwb25zZS5JZGVudGl0aWVzW2ldLklEO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcklkcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbW1vbkZucy5yZW5kZXJDdXN0b21JbnRlcmZhY2UoY29udGFpbmVyLCBwcm92aWRlcnMsIHRlbXBsYXRlTmFtZSwgJycsIHRydWUpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21tb25GbnMucmVuZGVyQ3VzdG9tSW50ZXJmYWNlKGNvbnRhaW5lciwgcHJvdmlkZXJzLCBtb2R1bGUub3B0aW9ucy5saW5rZWRBY2NvdW50c1RlbXBsYXRlICsgJywnICsgbW9kdWxlLm9wdGlvbnMubm90TGlua2VkQWNjb3VudHNUZW1wbGF0ZSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB3aW5kb3cuaHRtbDVwYXNzVG9rZW4gPSBmdW5jdGlvbiAodG9rKSB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVycy5hY2NvdW50TGlua2luZ1JlY2VpdmVUb2tlbih0b2ssIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBpZiAoIW1vZHVsZS5vcHRpb25zLmlzTW9iaWxlICYmICFtb2R1bGUub3B0aW9ucy5ub0NhbGxiYWNrRm9yU29jaWFsTG9naW4pIHtcclxuICAgICAgICAgICAgICAgIHV0aWwuYWRkRXZlbnQoJ21lc3NhZ2UnLCB3aW5kb3csIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoZXZlbnQub3JpZ2luLmluZGV4T2YobW9kdWxlLm9wdGlvbnMuY3VzdG9tRG9tYWluKSA9PT0gLTEgJiYgZXZlbnQub3JpZ2luLmluZGV4T2YoTG9naW5SYWRpdXNEZWZhdWx0cy5odWJEb21haW4pID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmRhdGEgPT09ICdzdHJpbmcnICYmIF91dWlkRm9ybWF0LnRlc3QoZXZlbnQuZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVycy5hY2NvdW50TGlua2luZ1JlY2VpdmVUb2tlbihldmVudC5kYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlLiRob29rcy5yZWdpc3Rlcignc29jaWFsQ2FsbHMnLCBmdW5jdGlvbiAocHJvdmlkZXIsIGNsaWVudEd1aWQpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLm5vQ2FsbGJhY2tGb3JTb2NpYWxMb2dpbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvbkhhbmRsZVNtYXJ0TG9naW5TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuYWNjZXNzX3Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJzLmFjY291bnRMaW5raW5nUmVjZWl2ZVRva2VuKHJlc3BvbnNlLmFjY2Vzc190b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBjb21tb25GbnMucGluZ0ZvclNtYXJ0TG9naW4oY2xpZW50R3VpZCwgb25IYW5kbGVTbWFydExvZ2luU3VjY2VzcywgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9KTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG9uRXJyb3IoW1xyXG4gICAgICAgICAgICAgICAgY29tbW9uRm5zLnNldE1hcHBlZE1lc3NhZ2UoZGVmYXVsdE1lc3NhZ2VzWyd1bnZlcmlmaWVkVXNlciddKVxyXG4gICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvbkVycm9yKGNvbW1vbkZucy5sb2dpblJhZGl1c0Vycm9yVG9qc0Vycm9yKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgJ2xpbmtBY2NvdW50Jyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXHJcbiAgKiBAcHJpdmF0ZVxyXG4gICogQGZ1bmN0aW9uIGdldFNlY3VyaXR5UXVlc3Rpb25TY2hlbWFcclxuICAqIEBwYXJhbSB7QXJyYXl9IHJlZ1NjaGVtYSBhcnJheSBvZiByZWcgZm9ybSBmaWVsZHMgb2JqZWN0c1xyXG4gICogQHBhcmFtIHtCb29sZWFufSByZWdpc3RyYXRpb24gZmxhZyBpZiByZWdpc3RyYXRpb24gdHJ1ZSB0aGVuIFNlY3VyaXR5IFF1ZXN0aW9ucyB3aWxsIGFkZCByZWdTY2hlbWEgYW5kIHJlbmRlclxyXG4gICogQHJldHVybiB7QXJyYXl9IHNlY1FTY2hlbWEgU2VjdXJpdHkgUXVlc3Rpb25zIGFycmF5XHJcbiAgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB3aWxsIGdldCBTZWN1cml0eSBRdWVzdGlvbnMgZnJvbSBhcGkuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBnZXRTZWN1cml0eVF1ZXN0aW9uU2NoZW1hIChyZWdTY2hlbWEsIHJlZ2lzdHJhdGlvbikge1xyXG4gICAgdmFyIHNlY1FTY2hlbWEgPSBbXTtcclxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5TZWN1cml0eVF1ZXN0aW9ucykge1xyXG4gICAgICB2YXIgb3B0aW9uc0FycmF5ID0gW107XHJcbiAgICAgIHZhciBzZWxlY3RlZE9wdGlvbnMgPSBbXTtcclxuICAgICAgdmFyIGNoYW5nZUNiID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBuZXcgUmVnRXhwKCdzZWN1cml0eVF1ZXN0aW9uJyk7XHJcbiAgICAgICAgdmFyIGVsZW1JbmRleCA9IGV2ZW50LnRhcmdldC5pZC5zcGxpdCgnc2VjdXJpdHlRdWVzdGlvbicpWzFdO1xyXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uc1tlbGVtSW5kZXhdID0gZXZlbnQudGFyZ2V0LnNlbGVjdGVkSW5kZXg7XHJcbiAgICAgICAgdmFyIGVsbXMgPSB1dGlsLmZpbmRFbGVtZW50QnlSZWdleCgnaWQnLCBwYXR0ZXJuLCAnc2VsZWN0Jyk7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBlbG1zLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBsID0gMTsgbCA8IGVsbXNba10ub3B0aW9ucy5sZW5ndGg7IGwrKykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb25zLmluZGV4T2YoZWxtc1trXS5vcHRpb25zW2xdLmluZGV4KSA+IC0xICYmIGVsbXNba10ub3B0aW9uc1tsXS5pbmRleCAhPT0gZWxtc1trXS5vcHRpb25zLnNlbGVjdGVkSW5kZXgpIHtcclxuICAgICAgICAgICAgICBlbG1zW2tdLm9wdGlvbnNbbF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBlbG1zW2tdLm9wdGlvbnNbbF0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbW9kdWxlLm9wdGlvbnMuU2VjdXJpdHlRdWVzdGlvbnMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICB2YXIgb3B0aW9uT2JqZWN0ID0ge307XHJcbiAgICAgICAgb3B0aW9uT2JqZWN0LnRleHQgPSBtb2R1bGUub3B0aW9ucy5TZWN1cml0eVF1ZXN0aW9uc1trXS5RdWVzdGlvbjtcclxuICAgICAgICBvcHRpb25PYmplY3QudmFsdWUgPSBtb2R1bGUub3B0aW9ucy5TZWN1cml0eVF1ZXN0aW9uc1trXS5RdWVzdGlvbklkO1xyXG4gICAgICAgIG9wdGlvbnNBcnJheS5wdXNoKG9wdGlvbk9iamVjdCk7XHJcbiAgICAgICAgc2VsZWN0ZWRPcHRpb25zLnB1c2goMCk7XHJcbiAgICAgIH1cclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtb2R1bGUub3B0aW9ucy5zZWN1cml0eVF1ZXN0aW9uc0NvdW50OyBqKyspIHtcclxuICAgICAgICB2YXIgc2VjUU9iamVjdCA9IHt9O1xyXG4gICAgICAgIHNlY1FPYmplY3QudHlwZSA9ICdvcHRpb24nO1xyXG4gICAgICAgIHNlY1FPYmplY3Qub3B0aW9ucyA9IG9wdGlvbnNBcnJheTtcclxuICAgICAgICBzZWNRT2JqZWN0Lm5hbWUgPSAnc2VjdXJpdHlRdWVzdGlvbicgKyBqO1xyXG4gICAgICAgIHNlY1FPYmplY3QuZGlzcGxheSA9ICdTZWN1cml0eSBRdWVzdGlvbic7XHJcbiAgICAgICAgc2VjUU9iamVjdC5ldmVudCA9ICdjaGFuZ2UnO1xyXG4gICAgICAgIHNlY1FPYmplY3QuZXZlbnRDYWxsYmFjayA9IGNoYW5nZUNiO1xyXG4gICAgICAgIGlmIChyZWdpc3RyYXRpb24pIHtcclxuICAgICAgICAgIHNlY1FPYmplY3QucnVsZXMgPSAnb3B0aW9uYWwnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWNRT2JqZWN0LnJ1bGVzID0gJ3JlcXVpcmVkJztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VjUU9iamVjdC5wZXJtaXNzaW9uID0gJ3InO1xyXG4gICAgICAgIGlmIChyZWdpc3RyYXRpb24pIHtcclxuICAgICAgICAgIHJlZ1NjaGVtYS5wdXNoKHNlY1FPYmplY3QpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWNRU2NoZW1hLnB1c2goc2VjUU9iamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzZWNBT2JqZWN0ID0ge307XHJcbiAgICAgICAgaWYgKG1vZHVsZS5vcHRpb25zLm1hc2tTZW5zaXRpdmVJbnB1dCkge1xyXG4gICAgICAgICAgc2VjQU9iamVjdC50eXBlID0gJ3Bhc3N3b3JkJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VjQU9iamVjdC50eXBlID0gJ3N0cmluZyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlY0FPYmplY3QubmFtZSA9ICdzZWN1cml0eUFuc3dlcicgKyBqO1xyXG4gICAgICAgIHNlY0FPYmplY3QuZGlzcGxheSA9ICdBbnN3ZXInO1xyXG4gICAgICAgIGlmIChyZWdpc3RyYXRpb24pIHtcclxuICAgICAgICAgIHNlY0FPYmplY3QucnVsZXMgPSAnb3B0aW9uYWwnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWNBT2JqZWN0LnJ1bGVzID0gJ3JlcXVpcmVkJztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VjQU9iamVjdC5wZXJtaXNzaW9uID0gJ3InO1xyXG4gICAgICAgIGlmIChyZWdpc3RyYXRpb24pIHtcclxuICAgICAgICAgIHJlZ1NjaGVtYS5wdXNoKHNlY0FPYmplY3QpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWNRU2NoZW1hLnB1c2goc2VjQU9iamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VjUVNjaGVtYTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXHJcbiAgKiBAcHJpdmF0ZVxyXG4gICogQGZ1bmN0aW9uIGdldExvZ2luRW1haWxMYWJlbFxyXG4gICogQHBhcmFtIHtBcnJheX0gc2NoZW1hIGFycmF5IG9mIGxvZ2luIGZvcm0gZmllbGRzIG9iamVjdHNcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgZ2V0IGxvZ2luIGZvcm0gZmllbGQgb2JqZWN0IGFuZCBzZXQgcnVsZXMgYW5kIGRpc3BsYXkgbmFtZS5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIGdldExvZ2luRW1haWxMYWJlbCAoc2NoZW1hKSB7XHJcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuZHVwbGljYXRlRW1haWxXaXRoVW5pcXVlVXNlcm5hbWUpIHtcclxuICAgICAgdmFyIHVTY2hlbWEgPSB1dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcclxuICAgICAgdVNjaGVtYS5kaXNwbGF5ID0gJ1VzZXJuYW1lJztcclxuICAgICAgdVNjaGVtYS5ydWxlcyA9ICdyZXF1aXJlZCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgdVNjaGVtYTE7XHJcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy51c2VybmFtZUxvZ2luKSB7XHJcbiAgICAgICAgdVNjaGVtYTEgPSB1dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcclxuICAgICAgICBpZiAodVNjaGVtYTEuZGlzcGxheS5pbmRleE9mKCcvVXNlcm5hbWUnKSA9PT0gLTEpIHtcclxuICAgICAgICAgIHVTY2hlbWExLmRpc3BsYXkgPSB1U2NoZW1hMS5kaXNwbGF5ICsgJy9Vc2VybmFtZSc7XHJcbiAgICAgICAgICB1U2NoZW1hMS5ydWxlcyA9ICdyZXF1aXJlZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChtb2R1bGUub3B0aW9ucy5waG9uZUxvZ2luIHx8IG1vZHVsZS5vcHRpb25zLnBhc3N3b3JkbGVzc0xvZ2luT1RQKSB7XHJcbiAgICAgICAgaWYgKCF1U2NoZW1hMSkge1xyXG4gICAgICAgICAgdVNjaGVtYTEgPSB1dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcclxuICAgICAgICAgIHVTY2hlbWExLnJ1bGVzID0gJ3JlcXVpcmVkJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVTY2hlbWExLmRpc3BsYXkuaW5kZXhPZignL1Bob25lJykgPT09IC0xKSB7XHJcbiAgICAgICAgICB1U2NoZW1hMS5kaXNwbGF5ID0gdVNjaGVtYTEuZGlzcGxheSArICcvUGhvbmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gcmVzZXRQYXNzd29yZEJ5U2VjdXJpdHlRdWVzdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSByZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uIGZvcm0gYW5kIGRpc3BsYXkgLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gcmVzZXRQYXNzd29yZEJ5U2VjdXJpdHlRdWVzdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KSB7XHJcbiAgICBpZiAobW9kdWxlLm9wdGlvbnMuc2VjdXJpdHlRdWVzdGlvbkVuYWJsZWQpIHtcclxuICAgICAgdmFyIHNjaGVtYTtcclxuICAgICAgdmFyIG5vU2VjdXJpdHlRdWVzdGlvbnMgPSB0cnVlO1xyXG4gICAgICBzY2hlbWEgPSBtb2R1bGUuZ2V0U2VjUVNjaGVtYTtcclxuICAgICAgZ2V0TG9naW5FbWFpbExhYmVsKHNjaGVtYSk7XHJcbiAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNjaGVtYSwgJ3NlY3VyaXR5cXVlc3Rpb25zJywgY29udGFpbmVyLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGRhdGEgPSB1dGlsLmNoZWNrUGhvbmVPckVtYWlsTG9naW4oZGF0YSk7XHJcbiAgICAgICAgY29udHJvbGxlcnMuZ2V0U2VjdXJpdHlRdWVzdGlvbnNDb250cm9sbGVyKGRhdGEsIGZ1bmN0aW9uIChfc2VjdXJpdHlTY2hlbWEpIHtcclxuICAgICAgICAgIGlmIChfc2VjdXJpdHlTY2hlbWEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBub1NlY3VyaXR5UXVlc3Rpb25zID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgbG9naW5TY2hlbWEgPSBtb2R1bGUubG9naW5Gb3JtU2NoZW1hLnNsaWNlKCk7XHJcbiAgICAgICAgICBjb21tb25GbnMuc2V0UGFzc3dvcmRSdWxlKG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShsb2dpblNjaGVtYSwgJ25hbWUnLCAncGFzc3dvcmQnKSk7XHJcbiAgICAgICAgICBjb21tb25GbnMuc2V0UGFzc3dvcmRSdWxlKG1vZHVsZS51dGlsLmZpbmRJblNjaGVtYShsb2dpblNjaGVtYSwgJ25hbWUnLCAnY29uZmlybXBhc3N3b3JkJykpO1xyXG4gICAgICAgICAgdmFyIHNlY3VyaXR5U2NoZW1hID0gdXRpbC5tZXJnZU9iamVjdHMobG9naW5TY2hlbWEsIF9zZWN1cml0eVNjaGVtYSk7XHJcbiAgICAgICAgICBpZiAoIW1vZHVsZS5sb2dpbkFjdGlvbikge1xyXG4gICAgICAgICAgICBnZXRMb2dpbkVtYWlsTGFiZWwoc2VjdXJpdHlTY2hlbWEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCFub1NlY3VyaXR5UXVlc3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbW1vbkZucy5jcmVhdGVGb3JtKHNlY3VyaXR5U2NoZW1hLCAncmVzZXRwd2RieXNlY3EnLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgZGF0YSA9IHV0aWwuY2hlY2tQaG9uZU9yRW1haWxMb2dpbihkYXRhKTtcclxuICAgICAgICAgICAgICBjb250cm9sbGVycy5yZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uQ29udHJvbGxlcihkYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcbiAgICAgICAgICAgICAgb25FcnJvcihlcnJvcnMpO1xyXG4gICAgICAgICAgICB9LCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvbkVycm9yKFtcclxuICAgICAgICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ25vU2VjdXJpdHlRdWVzdGlvbnMnXSlcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xyXG4gICAgICAgIG9uRXJyb3IoZXJyb3JzKTtcclxuICAgICAgfSwgY2xhc3NQcmVmaXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gdXBkYXRlU2VjdXJpdHlRdWVzdGlvblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSB1cGRhdGVTZWN1cml0eVF1ZXN0aW9uIGZvcm0gYW5kIGRpc3BsYXkgLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gdXBkYXRlU2VjdXJpdHlRdWVzdGlvbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIF9jbGFzc1ByZWZpeCkge1xyXG4gICAgdmFyIHNlY3VyaXR5UXVlc3Rpb25TY2hlbWFMb2FkZWQgPSBmdW5jdGlvbiAoX3JlZ1NjaGVtYSkge1xyXG4gICAgICB2YXIgbm9TZWN1cml0eVF1ZXN0aW9ucyA9IHRydWU7XHJcbiAgICAgIHZhciBzZWN1cml0eVF1ZXN0aW9uU2NoZW1hID0gZ2V0U2VjdXJpdHlRdWVzdGlvblNjaGVtYShfcmVnU2NoZW1hKTtcclxuICAgICAgaWYgKHNlY3VyaXR5UXVlc3Rpb25TY2hlbWEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIG5vU2VjdXJpdHlRdWVzdGlvbnMgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIW5vU2VjdXJpdHlRdWVzdGlvbnMpIHtcclxuICAgICAgICBjb21tb25GbnMuY3JlYXRlRm9ybShzZWN1cml0eVF1ZXN0aW9uU2NoZW1hLCAndXBkYXRlc2VjdXJpdHlxdWVzdGlvbicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXJzLnVwZGF0ZVNlY3VyaXR5UXVlc3Rpb25Db250cm9sbGVyKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycykge1xyXG4gICAgICAgICAgb25FcnJvcihlcnJvcnMpO1xyXG4gICAgICAgIH0sIF9jbGFzc1ByZWZpeCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb25FcnJvcihbXHJcbiAgICAgICAgICBjb21tb25GbnMuc2V0TWFwcGVkTWVzc2FnZShkZWZhdWx0TWVzc2FnZXNbJ25vU2VjdXJpdHlRdWVzdGlvbnMnXSlcclxuICAgICAgICBdKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGlmIChtb2R1bGUub3B0aW9ucy5zZWN1cml0eVF1ZXN0aW9uRW5hYmxlZCkge1xyXG4gICAgICBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSA9IChtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSAmJiBtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYS5sZW5ndGggPiAwKSA/IG1vZHVsZS5yZWdpc3RyYXRpb25Gb3JtU2NoZW1hIDogbW9kdWxlLm9wdGlvbnMuUmVnaXN0cmF0aW9uRm9ybVNjaGVtYTtcclxuICAgICAgc2VjdXJpdHlRdWVzdGlvblNjaGVtYUxvYWRlZChtb2R1bGUucmVnaXN0cmF0aW9uRm9ybVNjaGVtYSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBvbmVUb3VjaExvZ2luXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGh0bWwgZWxlbWVudCBpZFxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc1ByZWZpeCBjc3MgY2xhc3MgcHJlZml4IHN0cmluZ1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIG9uZVRvdWNoTG9naW4gZm9ybSBhbmQgZGlzcGxheSAuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBvbmVUb3VjaExvZ2luIChjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpIHtcclxuICAgIHZhciB2dG9rZW4gPSB1dGlsLmdldEhhc2hQYXJhbSgndnRva2VuJyk7XHJcbiAgICB2YXIgdnR5cGUgPSB1dGlsLmdldEhhc2hQYXJhbSgndnR5cGUnKTtcclxuICAgIHZhciB1c2VVcGRhdGVkQVBJID0gZmFsc2U7XHJcbiAgICB2YXIgY2FwdGNoYUVuYWJsZWQgPSBtb2R1bGUub3B0aW9ucy52MlJlY2FwdGNoYSB8fCBtb2R1bGUub3B0aW9ucy5pbnZpc2libGVSZWNhcHRjaGEgfHwgbW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGEgfHwgbW9kdWxlLm9wdGlvbnMudGVuY2VudENhcHRjaGFBc0ZhbGxiYWNrO1xyXG4gICAgaWYgKGNhcHRjaGFFbmFibGVkKSB7XHJcbiAgICAgIHVzZVVwZGF0ZWRBUEkgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChtb2R1bGUub3B0aW9ucy5wcml2YWN5UG9saWN5Q29uZmlndXJhdGlvbi5Jc0VuYWJsZWQpIHtcclxuICAgICAgbW9kdWxlLmxvZygnQ2FwdGNoYSBzaG91bGQgYmUgZW5hYmxlZCBmb3IgcGFzc3dvcmRsZXNzIGxvZ2luIGlmIHVzaW5nIHdpdGggcHJpdmFjeSBwb2xpY3knKTtcclxuICAgIH1cclxuICAgIGlmICh2dHlwZSA9PT0gJ25vcmVnaXN0cmF0aW9uJyB8fCB2dHlwZSA9PT0gJ29uZXRvdWNobG9naW4nKSB7XHJcbiAgICAgIG9uZVRvdWNoTG9naW5FbWFpbFZlcmlmaWNhdGlvbih2dG9rZW4sIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9XHJcbiAgICB2YXIgc2NoZW1hID0gbW9kdWxlLnBhc3N3b3JkTGVzc0xvZ2luU2NoZW1hO1xyXG4gICAgaWYgKG1vZHVsZS5vcHRpb25zLnBob25lTG9naW4pIHtcclxuICAgICAgdmFyIHVTY2hlbWEgPSB1dGlsLmZpbmRJblNjaGVtYShzY2hlbWEsICduYW1lJywgJ2VtYWlsaWQnKTtcclxuXHJcbiAgICAgIHVTY2hlbWEuZGlzcGxheSA9IHVTY2hlbWEuZGlzcGxheSArICcvUGhvbmUnO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlY2FwdGNoYUlkO1xyXG4gICAgaWYgKHVzZVVwZGF0ZWRBUEkpIHtcclxuICAgICAgdXRpbC5hZGRSZWNhcHRjaGFKUygpO1xyXG4gICAgICByZWNhcHRjaGFJZCA9IGNsYXNzUHJlZml4ICsgTG9naW5SYWRpdXNEZWZhdWx0cy5pZFByZWZpeCArIGNvbnRhaW5lcjtcclxuICAgICAgdXRpbC5jYXB0Y2hhU2NoZW1hKHJlY2FwdGNoYUlkLCBzY2hlbWEpO1xyXG4gICAgfVxyXG4gICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0oc2NoZW1hLCAnb25lVG91Y2hMb2dpbicsIGNvbnRhaW5lciwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29udHJvbGxlcnMub25lVG91Y2hMb2dpbkNvbnRyb2xsZXIoZGF0YSwgY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4LCB1c2VVcGRhdGVkQVBJKTtcclxuICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICBvbkVycm9yKGVycm9yKTtcclxuICAgIH0sIGNsYXNzUHJlZml4KTtcclxuICAgIGlmICh1c2VVcGRhdGVkQVBJKSB7XHJcbiAgICAgIHV0aWwucmVuZGVyVjJSZWNhcHRjaGEocmVjYXB0Y2hhSWQsIHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gb25lVG91Y2hMb2dpbkVtYWlsVmVyaWZpY2F0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gdnRva2VuIHZlcmlmaWNhdGlvbiB0b2tlblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgVmVyaWZ5IG9uZSB0b3VjaCBsb2dpbiBlbWFpbCBieSB1c2luZyB2ZXJpZmljYXRpb24gdG9rZW4gYW5kIGxvZ2luIHRvIGFjY291bnQgaWYgdmVyaWZpY2F0aW9uIHN1Y2Nlc3NmdWwuXHJcbiAgKi9cclxuICBmdW5jdGlvbiBvbmVUb3VjaExvZ2luRW1haWxWZXJpZmljYXRpb24gKHZ0b2tlbiwgb25TdWNjZXNzLCBvbkVycm9yKSB7XHJcbiAgICBpZiAodnRva2VuKSB7XHJcbiAgICAgIHV0aWwuYWpheENhbGwoJ2dldCcsIExvZ2luUmFkaXVzRGVmYXVsdHMuYXBpRG9tYWluICsgJy9hdXRoL2VtYWlsL2F1dG9sb2dpbj9hcGlLZXk9JyArIG1vZHVsZS5vcHRpb25zLmFwaUtleSArICcmdmVyaWZpY2F0aW9udG9rZW49JyArIHZ0b2tlbiArICcmd2VsY29tZUVtYWlsVGVtcGxhdGU9JyArIG1vZHVsZS5vcHRpb25zLndlbGNvbWVFbWFpbFRlbXBsYXRlLCAnJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgb25FcnJvcihjb21tb25GbnMubG9naW5SYWRpdXNFcnJvclRvanNFcnJvcihyZXNwb25zZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb21tb25GbnMubG9naW5IYW5kbGVUb2tlbihyZXNwb25zZSwgJycsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnc21hcnRsb2dpbicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBAbWVtYmVyb2YgTG9naW5SYWRpdXNWMiNcclxuICAqIEBwcml2YXRlXHJcbiAgKiBAZnVuY3Rpb24gc21hcnRMb2dpblxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbnRhaW5lciBodG1sIGVsZW1lbnQgaWRcclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyBzdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yIGVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NQcmVmaXggY3NzIGNsYXNzIHByZWZpeCBzdHJpbmdcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5pdGlhbGl6ZSBzbWFydExvZ2luIGZvcm0gYW5kIGRpc3BsYXkgLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gc21hcnRMb2dpbiAoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KSB7XHJcbiAgICB2YXIgc21hcnRMb2dpblNjaGVtYSA9IG1vZHVsZS5zbWFydExvZ2luU2NoZW1hO1xyXG4gICAgZ2V0TG9naW5FbWFpbExhYmVsKHNtYXJ0TG9naW5TY2hlbWEpO1xyXG4gICAgY29tbW9uRm5zLmNyZWF0ZUZvcm0oc21hcnRMb2dpblNjaGVtYSwgJ3NtYXJ0bG9naW4nLCBjb250YWluZXIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIHZhciBzbWFydExvZ2luRGF0YSA9IHV0aWwuY2hlY2tQaG9uZU9yRW1haWxMb2dpbihkYXRhKTtcclxuICAgICAgaWYgKHNtYXJ0TG9naW5EYXRhLmluZGV4T2YoJ3Bob25lJykgIT09IC0xKSB7XHJcbiAgICAgICAgY29udHJvbGxlcnMubG9naW5PVFBDb250cm9sbGVyKHNtYXJ0TG9naW5EYXRhLCBjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnRyb2xsZXJzLnNtYXJ0TG9naW5Db250cm9sbGVyKHNtYXJ0TG9naW5EYXRhLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgb25FcnJvcihlcnJvcik7XHJcbiAgICB9LCBjbGFzc1ByZWZpeCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBhY3Rpb25IYW5kbGVyXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uIGFjdGlvbiBuYW1lIGV4LiAnbG9naW4nXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBvcHRpb24gb2JqZWN0IHdoaWNoIGhvbGQgY2FsbGJhY2sgZnVuY3Rpb24gYW5kIG90aGVyIG9wdGlvbnNcclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIGFsbCB0aGUgVjJKUyBhY3Rpb25zLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gYWN0aW9uSGFuZGxlciAoYWN0aW9uLCBvcHRpb25zKSB7XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICB2YXIgb25TdWNjZXNzID0gb3B0aW9ucy5vblN1Y2Nlc3MgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgdmFyIG9uRXJyb3IgPSBvcHRpb25zLm9uRXJyb3IgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyIHx8ICcnO1xyXG4gICAgdmFyIGNsYXNzUHJlZml4ID0gb3B0aW9ucy5jbGFzc1ByZWZpeCB8fCAnJztcclxuICAgIHZhciB0ZW1wbGF0ZU5hbWUgPSBvcHRpb25zLnRlbXBsYXRlTmFtZSB8fCAnJztcclxuICAgIG1vZHVsZS4kaG9va3MucmVnaXN0ZXIoJ2dldEN1cnJlbnRBY3Rpb25PcHRpb25zJywgZnVuY3Rpb24gKGN1cnJlbnRBY3Rpb24pIHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxyXG4gICAgICBpZiAoYWN0aW9uID09IGN1cnJlbnRBY3Rpb24pIHtcclxuICAgICAgICB3aW5kb3cuTFJTYWZhcmlvblN1Y2Nlc3MgPSBvblN1Y2Nlc3MgfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgLy8gIGRvIG5vdGhpbmcuXHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aW5kb3cuTFJTYWZhcmlvbkVycm9yID0gb25FcnJvciB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAvLyBkbyBub3RoaW5nLlxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zID0ge307XHJcbiAgICAgIG1vZHVsZS5jdXJyZW50QWN0aW9uT3B0aW9uc1snb25TdWNjZXNzJ10gPSBvblN1Y2Nlc3MgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbJ29uRXJyb3InXSA9IG9uRXJyb3IgfHwgZnVuY3Rpb24gKCkgeyAvKiBkbyBub3RoaW5nLiAqLyB9O1xyXG4gICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbJ2NvbnRhaW5lciddID0gY29udGFpbmVyO1xyXG4gICAgICBtb2R1bGUuY3VycmVudEFjdGlvbk9wdGlvbnNbJ2NsYXNzUHJlZml4J10gPSBjbGFzc1ByZWZpeCB8fCAnJztcclxuICAgICAgbW9kdWxlLmN1cnJlbnRBY3Rpb25PcHRpb25zWyd0ZW1wbGF0ZU5hbWUnXSA9IHRlbXBsYXRlTmFtZSB8fCAnJztcclxuICAgIH0pO1xyXG4gICAgbW9kdWxlLmdldEFwcENvbmZpZ3VyYXRpb24oZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoYWN0aW9uICE9PSAncmVnaXN0cmF0aW9uJyAmJiBhY3Rpb24gIT09ICd1cGRhdGVTZWN1cml0eVF1ZXN0aW9uJykge1xyXG4gICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnYmVmb3JlSW5pdCcsIGFjdGlvbik7XHJcbiAgICAgIH1cclxuICAgICAgc3dpdGNoIChhY3Rpb24pIHtcclxuICAgICAgICBjYXNlICdwcml2YWN5UG9saWN5VXBkYXRlJzpcclxuICAgICAgICB7XHJcbiAgICAgICAgICBhY2NlcHRQcml2YWN5UG9saWN5KGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnbG9naW4nOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGxvZ2luKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAncmVnaXN0cmF0aW9uJzpcclxuICAgICAgICB7XHJcbiAgICAgICAgICB2YXIgZm9ybUludGVydmFsO1xyXG4gICAgICAgICAgdmFyIGlzQ2xlYXIgPSAxO1xyXG4gICAgICAgICAgZm9ybUludGVydmFsID0gc2V0SW50ZXJ2YWwoXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICBpZiAoIUxvZ2luUmFkaXVzRGVmYXVsdHMuaXNSZWdGb3JtU2NoZW1hTG9jaykge1xyXG4gICAgICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pc1JlZ0Zvcm1TY2hlbWFMb2NrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1vZHVsZS4kaG9va3MuY2FsbCgnYmVmb3JlSW5pdCcsIGFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGVhciA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChmb3JtSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcclxuICAgICAgICAgICAgfSwgMTAwMCk7XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgJ3Jlc2V0UGFzc3dvcmQnOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNvbW1vbkZucy5yZXNldFBhc3N3b3JkKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnZm9yZ290UGFzc3dvcmQnOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZvcmdvdFBhc3N3b3JkKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAndmVyaWZ5RW1haWwnOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVtYWlsVmVyaWZpY2F0aW9uKG9uU3VjY2Vzcywgb25FcnJvciwgY29udGFpbmVyLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnY2hhbmdlUGFzc3dvcmQnOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNoYW5nZVBhc3N3b3JkKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnc29jaWFsTG9naW4nOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHZhciBlbGVtID0gdXRpbC5lbGVtZW50QnlJZChjb250YWluZXIpO1xyXG5cclxuICAgICAgICAgIGlmIChlbGVtKSB7XHJcbiAgICAgICAgICAgIHV0aWwuYWRkRXZlbnQoJ2NsaWNrJywgZWxlbSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuc29jaWFsUmVnRm9ybUlkID0gdGhpcy5pZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5zb2NpYWxSZWdGb3JtSWQgPSBjb250YWluZXI7XHJcbiAgICAgICAgICBjb21tb25GbnMuc29jaWFsTG9naW4oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlICdsaW5rQWNjb3VudCc6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYWNjb3VudExpbmtpbmcoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHRlbXBsYXRlTmFtZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAndW5MaW5rQWNjb3VudCc6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFyIHVubGluayA9IHV0aWwudW5MaW5rQWNjb3VudDtcclxuICAgICAgICAgIHV0aWwudW5MaW5rQWNjb3VudCA9IGZ1bmN0aW9uIChwcm92aWRlciwgcHJvdmlkZXJJZCkge1xyXG4gICAgICAgICAgICB1bmxpbmsocHJvdmlkZXIsIHByb3ZpZGVySWQsIG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYXNlICdwcm9maWxlRWRpdG9yJzpcclxuICAgICAgICB7XHJcbiAgICAgICAgICBwcm9maWxlRWRpdG9yKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhc2UgJ2RlbGV0ZVVzZXInOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRlbGV0ZVVzZXIob25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlICdkZWxldGVVc2VyQ29uZmlybSc6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZGVsZXRlVXNlckNvbmZpcm0ob25TdWNjZXNzLCBvbkVycm9yKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FzZSAndXBkYXRlUGhvbmUnOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG1vZHVsZS5MUkNoZWNrMkZBID0gZmFsc2U7XHJcbiAgICAgICAgICBjb21tb25GbnMudXBkYXRlUGhvbmVOdW1iZXIoY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FzZSAnY2hhbmdlVXNlcm5hbWUnOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNoYW5nZVVzZXJuYW1lKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAncmVzZW5kVmVyaWZpY2F0aW9uRW1haWwnOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnYWRkRW1haWwnOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGFkZEVtYWlsKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAncmVtb3ZlRW1haWwnOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHJlbW92ZUVtYWlsKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnY3JlYXRlVHdvRmFjdG9yQXV0aGVudGljYXRpb24nOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNyZWF0ZVR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnYmFja3VwQ29kZUJ1dHRvbic6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYmFja3VwQ29kZUJ1dHRvbihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgJ3Jlc2V0QmFja3VwQ29kZUJ1dHRvbic6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcmVzZXRCYWNrdXBDb2RlQnV0dG9uKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhc2UgJ3VwZGF0ZVNlY3VyaXR5UXVlc3Rpb24nOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHZhciBfZm9ybUludGVydmFsO1xyXG4gICAgICAgICAgdmFyIF9pc0NsZWFyID0gMTtcclxuICAgICAgICAgIF9mb3JtSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChcclxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIGlmICghTG9naW5SYWRpdXNEZWZhdWx0cy5pc1NlY3VyaXR5Rm9ybVNjaGVtYUxvY2spIHtcclxuICAgICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMuaXNTZWN1cml0eUZvcm1TY2hlbWFMb2NrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVNlY3VyaXR5UXVlc3Rpb24oY29udGFpbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIGNsYXNzUHJlZml4KTtcclxuICAgICAgICAgICAgICAgIGlmIChfaXNDbGVhciA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfZm9ybUludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1tYWdpYy1udW1iZXJzXHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlICdyZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uJzpcclxuICAgICAgICB7XHJcbiAgICAgICAgICByZXNldFBhc3N3b3JkQnlTZWN1cml0eVF1ZXN0aW9uKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnYXV0b0xvZ2luJzpcclxuICAgICAgICBjYXNlICdzbWFydExvZ2luJzpcclxuICAgICAgICB7XHJcbiAgICAgICAgICBzbWFydExvZ2luKGNvbnRhaW5lciwgb25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnbm9SZWdpc3RyYXRpb25QYXNzd29yZExlc3NMb2dpbic6XHJcbiAgICAgICAgY2FzZSAnb25ldG91Y2hMb2dpbic6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgb25lVG91Y2hMb2dpbihjb250YWluZXIsIG9uU3VjY2Vzcywgb25FcnJvciwgY2xhc3NQcmVmaXgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgJ3Nzb0xvZ2luJzpcclxuICAgICAgICB7XHJcbiAgICAgICAgICBzc29Mb2dpbihvblN1Y2Nlc3MpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgJ2xvZ291dCc6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgY29tbW9uRm5zLmxvZ291dChvblN1Y2Nlc3MpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgJ3Nzb05vdExvZ2luVGhlbkxvZ291dCc6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc3NvTm90TG9naW5UaGVuTG9nb3V0KG9uRXJyb3IsIG9uU3VjY2Vzcyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnaW5zdGFudExpbmtMb2dpbic6XHJcbiAgICAgICAgY2FzZSAncGFzc3dvcmRsZXNzTG9naW5WYWxpZGF0ZSc6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcGFzc3dvcmRsZXNzTG9naW4ob25TdWNjZXNzLCBvbkVycm9yLCBjbGFzc1ByZWZpeCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBhY3Rpb24gaXMgbm90IHZhbGlkXCIpO1xyXG4gICAgICAgICAgbW9kdWxlLmxvZygnVGhpcyBhY3Rpb24gaXMgbm90IHZhbGlkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICBzZXRMb2dpblJhZGl1c01vZHVsZUZ1bmN0aW9ucyhtb2R1bGUsIGxyT3B0aW9ucyk7XHJcblxyXG4gIC8qKlxyXG4gICogQG1lbWJlcm9mIExvZ2luUmFkaXVzVjIjXHJcbiAgKiBAZnVuY3Rpb24gbW9kdWxlLmluaXRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb24gYWN0aW9uIG5hbWUgZXguICdsb2dpbidcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIG9wdGlvbiBvYmplY3Qgd2hpY2ggaG9sZCBjYWxsYmFjayBmdW5jdGlvbiBhbmQgb3RoZXIgb3B0aW9uc1xyXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gd2lsbCBpbml0aWFsaXplIHRoZSB1c2VyIGFjdGlvbnMuXHJcbiAgKi9cclxuICBtb2R1bGUuaW5pdCA9IGZ1bmN0aW9uIChhY3Rpb24sIG9wdGlvbnMpIHtcclxuICAgIG1vZHVsZS51c2VyYWN0aW9uID0gYWN0aW9uO1xyXG4gICAgaWYgKGxyT3B0aW9ucy5tYXNrU2Vuc2l0aXZlSW5wdXQpIHtcclxuICAgICAgbW9kdWxlLm90cFNjaGVtYSA9IFt7XHJcbiAgICAgICAgdHlwZTogJ3Bhc3N3b3JkJyxcclxuICAgICAgICBuYW1lOiAnb3RwJyxcclxuICAgICAgICBkaXNwbGF5OiAnT1RQJyxcclxuICAgICAgICBydWxlczogJ3JlcXVpcmVkJyxcclxuICAgICAgICBwZXJtaXNzaW9uOiAncidcclxuICAgICAgfV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtb2R1bGUub3RwU2NoZW1hID0gW3tcclxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgICBuYW1lOiAnb3RwJyxcclxuICAgICAgICBkaXNwbGF5OiAnT1RQJyxcclxuICAgICAgICBydWxlczogJ3JlcXVpcmVkJyxcclxuICAgICAgICBwZXJtaXNzaW9uOiAncidcclxuICAgICAgfV07XHJcbiAgICB9XHJcbiAgICBpZiAobHJPcHRpb25zLnR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID09PSAncmVxdWlyZWQnKSB7XHJcbiAgICAgIGxyT3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbiA9IHRydWU7XHJcbiAgICAgIGxyT3B0aW9ucy5vcHRpb25hbFR3b0ZhY3RvckF1dGhlbnRpY2F0aW9uID0gZmFsc2U7XHJcbiAgICB9IGVsc2UgaWYgKGxyT3B0aW9ucy50d29GYWN0b3JBdXRoZW50aWNhdGlvbiA9PT0gJ29wdGlvbmFsJykge1xyXG4gICAgICBsck9wdGlvbnMudHdvRmFjdG9yQXV0aGVudGljYXRpb24gPSBmYWxzZTtcclxuICAgICAgbHJPcHRpb25zLm9wdGlvbmFsVHdvRmFjdG9yQXV0aGVudGljYXRpb24gPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgoYWN0aW9uID09PSAnc3NvTG9naW4nIHx8IGFjdGlvbiA9PT0gJ2xvZ291dCcgfHwgYWN0aW9uID09PSAnc3NvTm90TG9naW5UaGVuTG9nb3V0JykgJiYgIUxvZ2luUmFkaXVzRGVmYXVsdHMuaXNTU09Jbml0RmlyZWQpIHtcclxuICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5pc1NTT0luaXRGaXJlZCA9IHRydWU7XHJcbiAgICAgIG1vZHVsZS5TU09pbml0RmlyZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKCFsck9wdGlvbnMuYXBwTmFtZSkge1xyXG4gICAgICBtb2R1bGUubG9nKCdTU08gd2lsbCBub3Qgd29yaywgcGxlYXNlIHNldCBvcHRpb24uYXBwTmFtZSBmb3IgU1NPJyk7XHJcbiAgICB9XHJcblxyXG4gICAgbHJPcHRpb25zLmZvcm1SZW5kZXJEZWxheSA9IGxyT3B0aW9ucy5mb3JtUmVuZGVyRGVsYXkgfHwgMDtcclxuXHJcbiAgICBpZiAobHJPcHRpb25zLmFwaUtleSkge1xyXG4gICAgICBpZiAobHJPcHRpb25zLmZvcm1SZW5kZXJEZWxheSA+IDApIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGFjdGlvbkhhbmRsZXIoYWN0aW9uLCBvcHRpb25zKTtcclxuICAgICAgICB9LCBsck9wdGlvbnMuZm9ybVJlbmRlckRlbGF5KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhY3Rpb25IYW5kbGVyKGFjdGlvbiwgb3B0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1vZHVsZS5sb2coJ0FQSSBrZXkgbXVzdCBiZSBzZXQuJyk7XHJcbiAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIkFQSSBrZXkgbXVzdCBiZSBzZXQuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gIHNldExvZ2luUmFkaXVzRGVmYXVsdFNjaGVtYShtb2R1bGUpO1xyXG5cclxuICAvLyBBUElcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICBtb2R1bGUuYXBpID0gbmV3IExvZ2luUmFkaXVzQXBpRnJhbWV3b3JrKG1vZHVsZSwgY29udHJvbGxlcnMpO1xyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBzc29Mb2dpblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgaWYgdGhlcmUgaXMgYW4gYWN0aXZhdGVkIFNTTyBzZXNzaW9uIGdvaW5nLiBJZiB0aGVyZSBpcywgdGhlIHRva2VuIGZvciB0aGF0IGFjdGl2YXRlZCBzZXNzaW9uIHdpbGwgYmUgcGFzc2VkIGJhY2ssIGFuZCB0aGUgY2FsbGJhY2sgKG9uc3VjY2VzcyBmdW5jdGlvbikgd2lsbCBiZSBleGVjdXRlZC5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIHNzb0xvZ2luIChvblN1Y2Nlc3MpIHtcclxuICAgIGNvbW1vbkZucy52YWxpZGF0ZUFuZENhbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgZG9tYWluID0gbW9kdWxlLm9wdGlvbnMuY3VzdG9tRG9tYWluIHx8IG1vZHVsZS5vcHRpb25zLmFwcE5hbWUgKyAnLicgKyBMb2dpblJhZGl1c0RlZmF1bHRzLmh1YkRvbWFpbjtcclxuICAgICAgdXRpbC5qc29ucENhbGwoJ2h0dHBzOi8vJyArIGRvbWFpbiArICcvc3NvbG9naW4vbG9naW4nLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLmlzYXV0aGVudGljYXRlZCkge1xyXG4gICAgICAgICAgaWYgKG1vZHVsZS5sb2dpblJhZGl1c0h0bWw1UGFzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS5sb2dpblJhZGl1c0h0bWw1UGFzc1Rva2VuKGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbW9kdWxlLnN0b3JhZ2Uuc2V0QnJvd3NlclN0b3JhZ2UoTG9naW5SYWRpdXNEZWZhdWx0cy5zdG9yZWRUb2tlbk5hbWUsIGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICBpZiAobW9kdWxlLm9wdGlvbnMudG9rZW5UeXBlICYmIG1vZHVsZS5vcHRpb25zLnRva2VuVHlwZS50b0xvd2VyQ2FzZSgpID09PSAnand0Jykge1xyXG4gICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMubHJSZXNwb25zZUNvdW50ZXIrKztcclxuICAgICAgICAgICAgICBMb2dpblJhZGl1c0RlZmF1bHRzLmxyQ291bnRlclRva2VuUmVzcG9uc2UgPSB7fTtcclxuICAgICAgICAgICAgICB2YXIgX29uU3VjY2VzcyA9IGZ1bmN0aW9uIChKd3RUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKGRhdGEudG9rZW4sIEp3dFRva2VuKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGNvbW1vbkZucy5nZXRKd3RUb2tlbihkYXRhLnRva2VuLCBfb25TdWNjZXNzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBvblN1Y2Nlc3MoZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sICdzc29Mb2dpbicpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEBtZW1iZXJvZiBMb2dpblJhZGl1c1YyI1xyXG4gICogQHByaXZhdGVcclxuICAqIEBmdW5jdGlvbiBzc29Mb2dpblxyXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIHN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXJyb3IgZXJyb3IgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlZCB0byB2ZXJpZnkgdGhhdCBhIHVzZXIgaGFzIGJlZW4gbG9nZ2VkIG91dCBmcm9tIGFsbCB3ZWJzaXRlcy5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIHNzb05vdExvZ2luVGhlbkxvZ291dCAob25FcnJvciwgb25TdWNjZXNzKSB7XHJcbiAgICBjb21tb25GbnMudmFsaWRhdGVBbmRDYWxsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGRvbWFpbiA9IG1vZHVsZS5vcHRpb25zLmN1c3RvbURvbWFpbiB8fCBtb2R1bGUub3B0aW9ucy5hcHBOYW1lICsgJy4nICsgTG9naW5SYWRpdXNEZWZhdWx0cy5odWJEb21haW47XHJcbiAgICAgIHV0aWwuanNvbnBDYWxsKCdodHRwczovLycgKyBkb21haW4gKyAnL3Nzb2xvZ2luL2xvZ2luJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YS5pc2F1dGhlbnRpY2F0ZWQpIHtcclxuICAgICAgICAgIHZhciBjb29raWV0b2tlbiA9IExSTmFtZVNwYWNlLmNvb2tpZXMuZ2V0SXRlbShMb2dpblJhZGl1c0RlZmF1bHRzLnRva2VuQ29va2llKTtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsXHJcbiAgICAgICAgICBpZiAodHlwZW9mIGNvb2tpZXRva2VuID09PSAndW5kZWZpbmVkJyB8fCBjb29raWV0b2tlbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbW1vbkZucy5zZXRUb2tlbihkYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgY29va2lldG9rZW4gPSBMUk5hbWVTcGFjZS5jb29raWVzLmdldEl0ZW0oTG9naW5SYWRpdXNEZWZhdWx0cy50b2tlbkNvb2tpZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoY29va2lldG9rZW4gJiYgY29va2lldG9rZW4gIT09IGRhdGEudG9rZW4pIHtcclxuICAgICAgICAgICAgY29tbW9uRm5zLnNldFRva2VuKGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAvLyBvbkVycm9yKGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICBvblN1Y2Nlc3MoZGF0YS50b2tlbik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5zZXRCcm93c2VyU3RvcmFnZShMb2dpblJhZGl1c0RlZmF1bHRzLnN0b3JlZFRva2VuTmFtZSwgZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgIGlmIChtb2R1bGUub3B0aW9ucy50b2tlblR5cGUgJiYgbW9kdWxlLm9wdGlvbnMudG9rZW5UeXBlLnRvTG93ZXJDYXNlKCkgPT09ICdqd3QnKSB7XHJcbiAgICAgICAgICAgICAgTG9naW5SYWRpdXNEZWZhdWx0cy5sclJlc3BvbnNlQ291bnRlcisrO1xyXG4gICAgICAgICAgICAgIExvZ2luUmFkaXVzRGVmYXVsdHMubHJDb3VudGVyVG9rZW5SZXNwb25zZSA9IHt9O1xyXG4gICAgICAgICAgICAgIHZhciBfb25TdWNjZXNzID0gZnVuY3Rpb24gKEp3dFRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoZGF0YS50b2tlbiwgSnd0VG9rZW4pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgY29tbW9uRm5zLmdldEp3dFRva2VuKGRhdGEudG9rZW4sIF9vblN1Y2Nlc3MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG9uU3VjY2VzcyhkYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBMUk5hbWVTcGFjZS5jb29raWVzLnJlbW92ZUl0ZW0oTG9naW5SYWRpdXNEZWZhdWx0cy50b2tlbkNvb2tpZSwgbW9kdWxlLm9wdGlvbnMuYXBwUGF0aCk7XHJcbiAgICAgICAgICBvbkVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAnc3NvTm90TG9naW5UaGVuTG9nb3V0Jyk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIG1vZHVsZTtcclxufTtcclxuIl19
